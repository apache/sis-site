<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Source code</title>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link rel="stylesheet" type="text/css" media="screen" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="http://www.apache.org/css/code.css">
    <link rel="stylesheet" type="text/css" media="screen" href="css/sis.css">

    

    
    <!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.  See the NOTICE file distributed with this work for additional information regarding copyright ownership.  The ASF licenses this file to you under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with the License.  You may obtain a copy of the License at . http://www.apache.org/licenses/LICENSE-2.0 . Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the License for the specific language governing permissions and limitations under the License. -->
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/index.html"> Apache SIS&trade; </a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown">About<b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="mail-lists.html">Mailing Lists</a></li>
                  <li><a href="license.html">Project License</a></li>
                  <li><a href="team-list.html">Project Team</a></li>
                </ul>
              </li>
              <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown">Project Documentation<b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="downloads.html">Downloads</a></li>
                  <li><a href="source.html">Source Code</a></li>
                  <li><a href="code-patterns.html">Code patterns</a></li>
                  <li><a href="https://issues.apache.org/jira/browse/SIS">Issue Tracker</a></li>
                  <li><a href="faq.html">FAQ</a></li>
                  <li><a href="release-management.html">Release Management</a></li>
                </ul>
              </li>
              <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown">ASF <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="http://www.apache.org">The Foundation</a></li>
                  <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
                  <li><a href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a></li>
                  <li><a href="http://www.apache.org/security/">Security</a></li>
                </ul>
              </li>
            </ul>
          </div> <!-- /.nav-collapse -->
        </div><!-- /.container -->
      </div><!-- /.navbar-inner -->
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span2">
          <img src="img/logo.png"/>
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
              <li class="active"><a href="index.html">Home</a></li>
              <li><a href="mail-lists.html">Mailing Lists</a></li>
              <li><a href="license.html">Project License</a></li>
              <li><a href="team-list.html">Project Team</a></li>
              <li class="nav-header">Project Documentation</li>
              <li><a href="downloads.html">Downloads</a></li>
              <li><a href="source.html">Source Code</a></li>
              <li><a href="code-patterns.html">Code patterns</a></li>
              <li><a href="https://issues.apache.org/jira/browse/SIS">Issue Tracker</a></li>
              <li><a href="faq.html">FAQ</a></li>
              <li><a href="release-management.html">Release Management</a></li>
              <li class="nav-header">ASF</li>
              <li><a href="http://www.apache.org">The Foundation</a></li>
              <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a></li>
              <li><a href="http://www.apache.org/security/">Security</a></li>
            </ul>
          </div><!--/.well -->
        </div><!--/span-->
        <div class="span10">
          <section id="content" class="row">
            <article class="span12">
              <p class="page-title">Source code</p>
              <p>Apache SIS source code is maintained using Apache Subversion version control, and mirrored on Git.
For browsing the source code on-line, see <a href="http://svn.apache.org/viewvc/sis/">ViewVC</a>.
For fetching the source code, choose one of the following commands:</p>
<p><a href="http://subversion.apache.org">Subversion</a>:</p>
<div class="codehilite"><pre>svn checkout https://svn.apache.org/repos/asf/sis/trunk sis
</pre></div>


<p><a href="http://git-scm.com">Git</a>:</p>
<div class="codehilite"><pre>git clone git://git.apache.org/sis.git sis
</pre></div>


<p>The remaining of this page provides tips for SIS developers.</p>
<div class="toc">
<ul>
<li><a href="#ide">Opening Apache SIS in an IDE</a><ul>
<li><a href="#netbeans">NetBeans</a></li>
<li><a href="#eclipse">Eclipse</a></li>
</ul>
</li>
<li><a href="#developing">Developing Apache SIS</a><ul>
<li><a href="#knowledge">Background Knowledge</a><ul>
<li><a href="#science">Geographic Information Systems and Science</a></li>
<li><a href="#ogc">The ISO/OGC Geospatial Model</a></li>
<li><a href="#java">Object-Oriented Programming in Java</a></li>
<li><a href="#math">Mathematical Background</a></li>
<li><a href="#geoapi">The GeoAPI Interfaces</a></li>
<li><a href="#modules">The SIS library modules</a></li>
</ul>
</li>
<li><a href="#formatting">Code formatting</a><ul>
<li><a href="#html">HTML elements</a></li>
<li><a href="#paragraph">Paragraphs</a></li>
<li><a href="#css">Javadoc CSS</a></li>
<li><a href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h1 id="ide">Opening Apache SIS in an IDE</h1>
<p>Different SIS branches are available depending on the target platforms (JDK6 versus JDK7, or GeoAPI versions).
The alternatives are listed in the <a href="branches.html">branches page</a>.
This section documents how to checkout the trunk for development with Subversion,
but the same instructions should work for any branch or for Git.</p>
<p>While the primarily SIS build system is Maven, the project provides some IDE configuration files for developers convenience.
Before opening the project in an IDE, the source code needs to be downloaded from the source repository
and the project built at least once using Maven:</p>
<div class="codehilite"><pre>svn checkout http://svn.apache.org/repos/asf/sis/trunk sis
<span class="nb">cd </span>sis
mvn install
</pre></div>


<h2 id="netbeans">NetBeans</h2>
<p>NetBeans can open Maven projects natively. This is the recommended approach for casual working in a small amount of SIS modules.
For extensive work on Apache SIS or for work impacting many modules, it may be more convenient and faster to open Apache SIS as a NetBeans project.
Such pre-configured NetBeans project is available in the <code>ide-project/NetBeans</code> directory.
This project will fetch dependencies directly from the <code>.m2/repository</code> local directory,
and will refer to the resources <code>*.utf</code> files compiled by Maven in the <code>sis-*/target</code> directories.
Consequently it is important to run <code>mvn install</code> before opening the project
and after any change in the project dependencies or in the resources.</p>
<p>Users can customize their project configuration by editing the <code>ide-project/NetBeans/nbproject/private/config.properties</code> file.
The <code>private</code> directory is excluded by the versioning system, so it okay to put user-specific information there.
For example in order to overwrite the default location of the local Maven repository and to define a system property at execution time,
one can use:</p>
<div class="codehilite"><pre><span class="na">maven.repository</span> <span class="o">=</span> <span class="s">/path/to/my/local/repository</span>
<span class="na">run.jvmargs</span> <span class="o">=</span> <span class="s">-DmyProperty=myValue</span>
</pre></div>


<h2 id="eclipse">Eclipse</h2>
<p>Execute the <code>svn checkout</code> to <code>mvn install</code> commands documented in the beginning of this section,
then execute the following steps:</p>
<ul>
<li>Execute <code>mvn eclipse:eclipse</code> on the command line.</li>
<li>Open Eclipse in a new workspace.</li>
<li>Go to <em>Eclipse</em> → <em>Preferences</em> → <em>General</em> → <em>Workspace</em>.</li>
<li>Change <em>Text file encoding</em> to <em>Other: UTF-8</em>, press <em>Apply</em>, then <em>Ok</em>.</li>
<li>Go to <em>File</em> → <em>Import</em> → <em>General</em> → <em>Existing Projects in Workspace</em>.</li>
<li>Choose the <code>sis</code> directory and import.</li>
</ul>
<h1 id="developing">Developing Apache SIS</h1>
<p>Improving and extending SIS requires extensive knowledge of geographic information science,
object oriented programming, the Java language, and of the library itself. Contributors should
expect that they will need to learn a great deal before being able to become productive.
However, the effort required to become productive should improve the contributor's understanding
and knowledge of geographic information systems, of geodetic and geographic science, and of
effective computer programming.</p>
<p>This document is expected to evolve as the SIS project develops its own mode of operation.</p>
<h2 id="knowledge">Background Knowledge</h2>
<p>All contributors arrive to the project with different knowledge bases, some with scientific
backgrounds, some with a background in computer science, and others with geographic backgrounds
or even no training in geographic information science at all. By sharing the richness of our
individual backgrounds we have acquired a list of subjects which we consider critical to fully
understanding the SIS project. New contributors are highly encouraged to explore these
areas if they have no or little knowledge of them.</p>
<h3 id="science">Geographic Information Systems and Science</h3>
<p>While a background in the field is not required, it nonetheless proves exceedingly useful along the way.
GIS has developed its own language and has particular concerns which return frequently.
Issues of spatial representation, data size, spatial scale, information workflows and other topics
arise frequently and are worth understanding.</p>
<p>A good general introduction to the field is the book <em>Geographic Information Systems and Science</em>
by Paul A. Longley, Michael F. Goodchild, David J. Maguire and David W. Rhind published in its
second edition by John Wiley and Sons Ltd. in 2004.</p>
<h3 id="ogc">The <abbr title="International Organization for Standardization">ISO</abbr>/<abbr title="Open Geospatial Consortium">OGC</abbr> Geospatial Model</h3>
<p>SIS builds on the standards developed through a collaboration between the International
Organization for Standardization (<abbr title="International Organization for Standardization">ISO</abbr>) and the Open Geospatial Consortium (<abbr title="Open Geospatial Consortium">OGC</abbr>).
Contributors to SIS should have at least a basic understanding of the model developed in the
<abbr title="International Organization for Standardization">ISO</abbr> 19000 series of specifications, starting with the Abstract model and working through the
<em>Feature</em> model. While the <abbr title="International Organization for Standardization">ISO</abbr> specifications are sold, the <abbr title="Open Geospatial Consortium">OGC</abbr> releases its own, essentially
identical versions of standards which have evolved from the collaboration. The <abbr title="Open Geospatial Consortium">OGC</abbr> specifications
are available for the <a href="http://www.opengeospatial.org/standards"><abbr title="Open Geospatial Consortium"><abbr title="Open Geospatial Consortium">OGC</abbr></abbr> standards and specification</a> page.</p>
<p>As time progresses, we hope to develop documentation material to introduce the <abbr title="International Organization for Standardization">ISO</abbr> 19000 specification series.</p>
<h3 id="java">Object-Oriented Programming in Java</h3>
<p>SIS is a library designed to be used by other programmers. To play this role effectively,
SIS must consider the various ways that users can reuse Java code: not only through object
instantiation and method calls but also through inheritance. SIS pays special attention to
accessibility constraints ensuring that only the classes and methods which are offered for
use are publicly accessible and that these methods are fully and correctly documented in javadoc.</p>
<p>Contributors are highly recommended to read the book <em>Effective Java</em> by Joshua Block, published
in its second edition by Addison-Wesley in 2008. The book explains the importance of certain
elements in the Java language and discusses subtleties of the language and its use.
Most importantly, the book reveals the full scope a programmer must consider when developing a code library.</p>
<p>The <a href="code-patterns.html">Recommended code patterns</a> page also discusses some elements
of special importance to Apache SIS.</p>
<h3 id="math">Mathematical Background</h3>
<p>SIS frequently deals with complex calculations using relatively simple mathematics of
trigonometry and matrix algebra. The coordinate operations of the Referencing modules involve
trigonometric transformations on a flattened ellipsoid of rotation, the image transformations in
the Coverage modules and in the Rendering system involve extensive use of Affine transforms, and
the Analytic modules often use their own mathematical operations.
These mathematics cannot be simplified — they reflect the richness of the world around us.</p>
<p>Affine transformations are not particularly complex but critically important both to the
geo-referencing operations of the Referencing modules and to the image transformations of the
Coverage modules. Affines transform coordinates through translation, scaling, rotations, and
shear, though this latter component is used infrequently in the library. Mathematically,
affine transformations are usually applied as a matrix operation applied to a coordinate vector.
There are numerous introductions to affine transformations available on the World Wide Web since
the concept is central to all graphics programming.</p>
<h3 id="geoapi">The GeoAPI Interfaces</h3>
<p>SIS is build partially as an implementation of the GeoAPI interfaces. GeoAPI defines a set
of objects offering particular methods thereby providing an interpretation of the <abbr title="International Organization for Standardization">ISO</abbr>/<abbr title="Open Geospatial Consortium">OGC</abbr>
standards in the Java language. GeoAPI therefore defines the core of the model implemented
by Apache SIS.</p>
<p>GeoAPI can most easily be learned by exploring the <a href="http://www.geoapi.org/3.0/javadoc/index.html">GeoAPI Javadoc</a>.</p>
<h3 id="modules">The SIS library modules</h3>
<p>Contributors should gain a basic understanding of the core library including the separation into
modules, the functionality available in the base module, and the functioning of the modules of interest.</p>
<h2 id="formatting">Code formatting</h2>
<p>Apache SIS uses the standard Java conventions, except for the 80 characters line length restriction.
Other exceptions to the coding conventions may occur when tabular formatting can improve readability,
as in the example below:</p>
<div class="codehilite"><pre><span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">xmin</span><span class="o">)</span> <span class="n">xmin</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
<span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">xmax</span><span class="o">)</span> <span class="n">xmax</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
<span class="k">if</span> <span class="o">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">ymin</span><span class="o">)</span> <span class="n">ymin</span> <span class="o">=</span> <span class="n">y</span><span class="o">;</span>
<span class="k">if</span> <span class="o">(</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">ymax</span><span class="o">)</span> <span class="n">ymax</span> <span class="o">=</span> <span class="n">y</span><span class="o">;</span>
</pre></div>


<p>Many mathematical operations in a two-dimensional space (or more) have symmetry.
Formatting the code in a way that emphase their symmetrical nature, for example
aligning identical terms in columns, can help to understand the overall pattern
and to identify bugs. The decision to use standard or tabular format is made on
a case-by-case basis. Of course, tabular format shall not be abused.</p>
<h3 id="html">HTML elements</h3>
<p>HTML tags and entities shall be used only when there is no equivalent Javadoc tag.
In addition to the standard Javadoc tags, a few <a href="http://builds.apache.org/job/sis-trunk/site/sis-build-helper/index.html">SIS-specific Javadoc tags</a> are available.
For example:</p>
<ul>
<li>Instead of "<code>&lt;code&gt;Foo&lt;/code&gt;</code>", use "<code>{@code Foo}</code>".</li>
<li>Instead of "<code>a &amp;lt; b &amp;lt; c</code>", use "<code>{@literal a &lt; b &lt; c}</code>".</li>
<li>Instead of "<code>&lt;pre&gt;</code>" for a Java listing, use "<code>{@preformat java}</code>"
     (this Javadoc tag is specific to Apache SIS).</li>
</ul>
<h3 id="paragraph">Paragraphs</h3>
<p>Usages of the <code>&lt;p&gt;</code> tag should be relatively rare.
Do <strong>not</strong> use <code>&lt;p&gt;</code> for the first paragraph in a package, class or member documentation,
or for the first paragraph after a <code>&lt;/ul&gt;</code>, <code>&lt;/ol&gt;</code>, <code>&lt;/table&gt;</code>, <code>&lt;/blockquote&gt;</code>, <code>&lt;/pre&gt;</code>,
<code>{@preformat}</code> or <code>{@section}</code> element.
The <code>&lt;p&gt;</code> tag shall be used only for separating a new paragraph from a previous one.
In such cases, <code>&lt;p&gt;</code> shall have a matching <code>&lt;/p&gt;</code> tag at the paragraph end in order to form valid HTML.</p>
<h3 id="css">Javadoc CSS</h3>
<p>Avoid using HTML attributes other than <code>class</code> as much as possible.
Instead, rely on styling. Some HTML tags having a style definition in Apache SIS are:</p>
<table>
<thead>
<tr>
<th>HTML tag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;table class="sis"&gt;</code></td>
<td>Table with a border, blue headers, light background and some space between columns.</td>
</tr>
<tr>
<td><code>&lt;th class="hsep"&gt;</code></td>
<td>In SIS tables, draw a line on the top border. Used for drawing table section separators.</td>
</tr>
<tr>
<td><code>&lt;th class="sep"&gt;</code></td>
<td>In SIS tables, draw a bright line on the left border. Used for drawing column separators.</td>
</tr>
<tr>
<td><code>&lt;td class="sep"&gt;</code></td>
<td>In SIS tables, draw a bright line on the left border. Used for drawing column separators.</td>
</tr>
<tr>
<td><code>&lt;table class="compact"&gt;</code></td>
<td>Table without border and no space between rows. Used for lists with columns alignment.</td>
</tr>
<tr>
<td><code>&lt;ul&gt;</code> and <code>&lt;ol&gt;</code></td>
<td>Default list styles without space between items (suitable for compact lists).</td>
</tr>
<tr>
<td><code>&lt;ul class="verbose"&gt;</code></td>
<td>A list style with space between items. Used for lists having verbose (multi-lines) items.</td>
</tr>
</tbody>
</table>
<h3 id="miscellaneous">Miscellaneous</h3>
<ul>
<li><strong>License Header:</strong> Always add the current ASF license header as described in <a href="http://www.apache.org/legal/src-headers.html">ASF Source Header</a>.</li>
<li><strong>Trailing Whitespaces:</strong> Remove all trailing whitespaces.<ul>
<li>Eclipse users can use the <em>Source</em> - <em>Cleanup</em> option to accomplish this.</li>
<li>NetBeans users can use the use the <em>Source</em> - <em>Remove trailing spaces</em> on a file-by-file basis,
  or set the <em>Preferences</em> - <em>Editor</em> - <em>On Save</em> - <em>Remove trailing whitespaces</em> option.</li>
</ul>
</li>
<li><strong>Indentation:</strong> Use 4 space indents (except for XML files) and never use tabs!<ul>
<li>Use 2 space indents for XML files, because <abbr title="International Organization for Standardization">ISO</abbr>/<abbr title="Open Geospatial Consortium">OGC</abbr> XML schemas tend to have a very deep structure.</li>
</ul>
</li>
<li><strong>Line wrapping:</strong> Use 120-column line width for Java code and Javadoc.
    Some exceptions to this rule may exist for preserving tabular structures, but should be rare.</li>
</ul>
            </article>
          </section>
        </div><!--/span-->
      </div><!--/row-fluid-->
    </div><!--/container-fluid-->

  <footer class="footer">
    <div class="container">
      <p>Copyright &copy; 2013 The Apache Software Foundation, Licensed under the
        <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br />
          Apache SIS, Apache, the Apache feather logo are trademarks of The Apache Software Foundation.</p>
    </div>
  </footer>

  <script src="js/jquery-1.9.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>

</body>
</html>
