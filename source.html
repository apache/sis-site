<!DOCTYPE html>
<html lang="en">
<head>


  <title>Apache SIS - Checkout source code</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
        rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" media="screen" href="./syntax.css">
  <link rel="stylesheet" type="text/css" media="screen" href="./sis.css">
</head>

<body>

<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="./index.html"> Apache SIS™</a>
    <ul class="navbar-nav me-auto mb-2 mb-md-0">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuAbout" data-bs-toggle="dropdown" aria-expanded="false">About</a>
        <ul class="dropdown-menu" aria-labelledby="menuAbout">
          <li><a class="dropdown-item" href="http://www.apache.org/licenses/">License</a></li>
          <li><a class="dropdown-item" href="./mail-lists.html">Mailing Lists</a></li>
          <li><a class="dropdown-item" href="./team-list.html">Project Team</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuDownload" data-bs-toggle="dropdown" aria-expanded="false">Download</a>
        <ul class="dropdown-menu" aria-labelledby="menuDownload">
          <li><a class="dropdown-item" href="./downloads.html">Downloads</a></li>
          <li><a class="dropdown-item" href="./source.html">Checkout Sources</a></li>
          <li><a class="dropdown-item" href="./build.html">Build from Sources</a></li>
          <li><a class="dropdown-item" href="./epsg.html">EPSG Database</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuDocumentation" data-bs-toggle="dropdown" aria-expanded="false">Documentation</a>
        <ul class="dropdown-menu" aria-labelledby="menuDocumentation">
          <li><a class="dropdown-item" href="./apidocs/index.html">Online Javadoc</a></li>
          <li><a class="dropdown-item" href="./book/en/developer-guide.html">Developer Guide</a></li>
          <li><a class="dropdown-item" href="./formats.html">Supported formats</a></li>
          <li><a class="dropdown-item" href="./tables/CoordinateReferenceSystems.html">Supported CRS</a></li>
          <li><a class="dropdown-item" href="./tables/CoordinateOperationMethods.html">Map Projections</a></li>
          <li><a class="dropdown-item" href="./code-patterns.html">Code Patterns</a></li>
          <li><a class="dropdown-item" href="./faq.html">FAQ</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuContribute" data-bs-toggle="dropdown" aria-expanded="false">Contribute</a>
        <ul class="dropdown-menu" aria-labelledby="menuContribute">
          <li><a class="dropdown-item" href="./contributor.html">New Contributor</a></li>
          <li><a class="dropdown-item" href="./coding-conventions.html">Coding Conventions</a></li>
          <li><a class="dropdown-item" href="./mail-lists.html">Mailing Lists</a></li>
          <li><a class="dropdown-item" href="https://issues.apache.org/jira/browse/SIS">Issue Tracker</a></li>
          <li><a class="dropdown-item" href="https://github.com/apache/sis">GitHub mirror</a></li>
          <li><a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/SIS">Wiki</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="./release-management.html">Release management</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuASF" data-bs-toggle="dropdown" aria-expanded="false">The Foundation</a>
        <ul class="dropdown-menu" aria-labelledby="menuASF">
          <li><a class="dropdown-item" href="http://www.apache.org">The Foundation</a></li>
          <li><a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Donate</a></li>
          <li><a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
          <li><a class="dropdown-item" href="http://www.apache.org/security/">Security</a></li>
        </ul>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto mb-2 mb-md-0">
      <li class="nav-item">
        <a href="https://www.apache.org/events/current-event.html">
           <img class="apache-con" src="https://www.apache.org/events/current-event-234x60.png" alt="ApacheCon"/>
        </a>
      </li>
    </ul>
  </div>
</nav>


<div class="row flex-nowrap">
  <div class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark" style="width:13rem; min-height:40rem">
    <ul class="nav nav-pills flex-column mb-auto position-fixed">
      <li><a class="nav-link  text-white " href="./index.html">Home</a></li>
      <li><a class="nav-link text-white" href="http://www.apache.org/licenses/">License</a></li>
      <li><a class="nav-link  text-white " href="./downloads.html">Downloads</a></li>
      <li><a class="nav-link  text-white " href="./standards.html">Standards</a></li>
      <li><a class="nav-link  text-white " href="./formats.html">Data formats</a></li>
      <li><a class="nav-link  text-white " href="./epsg.html">EPSG Database</a></li>
      <li><a class="nav-link  text-white " href="./javafx.html">Application (demo)</a></li>
      <li><a class="nav-link text-white" href="./apidocs/index.html">Online Javadoc</a></li>
      <li><a class="nav-link text-white" href="./book/en/developer-guide.html">Developer Guide</a></li>
      <li><a class="nav-link  text-white " href="./code-patterns.html">Code patterns</a></li>
      <li><a class="nav-link  text-white " href="./faq.html">FAQ</a></li>
    </ul>
  </div>
  <div class="col">
    <main class="container">
      <article>
        <img src="./images/logo.png" class="sis-logo" align="left"/>
        <p class="page-title">Checkout source code</p>

  <p>Apache <abbr title="Spatial Information System">SIS</abbr> source code is maintained using <a href="http://git-scm.com">Git</a> version control,
completed by optional data maintained using <a href="http://subversion.apache.org">Subversion</a> version control.
Optional data include in particular the <a href="epsg.html">EPSG geodetic dataset</a>,
which is subject to licensing terms different than Apache ones.
This page describes two ways to checkout Apache <abbr title="Spatial Information System">SIS</abbr> source code:</p>
<ul>
<li>A basic checkout with only the main repository, the most stable branch, and no configuration requirement.</li>
<li>A more advanced configuration for active SIS developments, using uncommitted (for now) API
and including optional data for more extensive tests.</li>
</ul>
<p>It is possible to start with the basic checkout and migrate to the advanced configuration later,
or to cherry-pick only the interesting parts of the advanced configuration.</p>
<nav id="TableOfContents">
  <ul>
    <li><a href="#basic">Basic installation   </a></li>
    <li><a href="#advanced">Advanced installation   </a>
      <ul>
        <li><a href="#data">Create data directory   </a></li>
        <li><a href="#non-free">Checkout non-free data   </a></li>
        <li><a href="#postgres">Configure PostgreSQL   </a></li>
        <li><a href="#tests">Running extensive tests   </a></li>
        <li><a href="#branches">Switch to development branch   </a></li>
      </ul>
    </li>
    <li><a href="#netbeans">Opening Apache SIS in NetBeans   </a></li>
    <li><a href="#history">History   </a></li>
  </ul>
</nav>
<h1 id="basic">Basic installation   </h1>
<p>Create an empty directory for the Apache <abbr title="Spatial Information System">SIS</abbr> project.
We use <code>ApacheSIS</code> directory name in this page, but that name can be anything;
replace that name in the shell commands below if another name is used.
The Apache <abbr title="Spatial Information System">SIS</abbr> source code can be cloned in that directory as below
(lines starting with <code>#</code> are comments and can be ignored):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir ApacheSIS
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> ApacheSIS
</span></span><span class="line"><span class="cl">git clone https://gitbox.apache.org/repos/asf/sis
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Alternatively, GitHub mirror can also be used:</span>
</span></span><span class="line"><span class="cl"><span class="c1"># git clone https://github.com/apache/sis</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># or Subversion (read-only):</span>
</span></span><span class="line"><span class="cl"><span class="c1"># svn checkout https://github.com/apache/sis/trunk</span></span></span></code></pre></div>
<p>That is all. Apache <abbr title="Spatial Information System">SIS</abbr> can be built by running <code>mvn install</code> in the <code>sis</code> subdirectory.
At this stage, the <code>ApacheSIS</code> parent directory is redundant with the <code>sis</code> subdirectory,
but we recommend to create that parent directory anyway in anticipation
for more subdirectories to be created later, when desired.
The remaining of this page describes those optional configurations for more advanced developments.</p>
<h1 id="advanced">Advanced installation   </h1>
<p>This section assumes that above-described basic checkout has been done.
All subsections below are optional. It is not mandatory to execute all of them,
but we recommend to at least create the data directory described below
because some other optional services depend on it.</p>
<h2 id="data">Create data directory   </h2>
<p>Apache <abbr title="Spatial Information System">SIS</abbr> needs a directory where to store database, datum shift files and other optional data.
That directory is specified by the <code>SIS_DATA</code> environment variable and can be located anywhere.
A convenient location is a subdirectory of the <code>ApacheSIS</code> directory created in the &ldquo;basic checkout&rdquo; section.
For example (with <code>ApacheSIS</code> as the current directory):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir Data
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">SIS_DATA</span><span class="o">=</span><span class="nv">$PWD</span>/Data
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># For making that environment variable available in future shell sessions,</span>
</span></span><span class="line"><span class="cl"><span class="c1"># the output of following command can be added to .bash_profile or .bashrc</span>
</span></span><span class="line"><span class="cl"><span class="c1"># file in user home directory.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nb">export</span> <span class="nv">SIS_DATA</span><span class="o">=</span><span class="nv">$SIS_DATA</span></span></span></code></pre></div>
<h2 id="non-free">Checkout non-free data   </h2>
<p>The EPSG geodetic dataset is recommended for operations related to Coordinate Reference Systems.
Without the EPSG database, only a <a href="apidocs/org/apache/sis/referencing/CRS.html#forCode-java.lang.String-">small subset</a>
of coordinate reference systems can be created from EPSG codes.
The EPSG database can be <a href="epsg.html">installed in various ways</a>,
but this section describes an alternative way more suitable to Apache <abbr title="Spatial Information System">SIS</abbr> development.
Before to continue, make sure to agree with <a href="https://epsg.org/terms-of-use.html">EPSG terms of use</a>.
Then following command can be executed with <code>ApacheSIS</code> as the current directory:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Executing this command imply agreement with EPSG terms of use.</span>
</span></span><span class="line"><span class="cl">svn checkout https://svn.apache.org/repos/asf/sis/data/non-free/</span></span></code></pre></div>
<p>Then copy or link the EPSG scripts in the directory where Apache <abbr title="Spatial Information System">SIS</abbr> looks for optional data.
Adjust the relative paths as needed if the <code>SIS_DATA</code> environment variable
points to another location than the one used in above section:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir <span class="nv">$SIS_DATA</span>/Databases
</span></span><span class="line"><span class="cl">mkdir <span class="nv">$SIS_DATA</span>/Databases/ExternalSources
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> <span class="nv">$SIS_DATA</span>/Databases/ExternalSources
</span></span><span class="line"><span class="cl">ln -s ../../../non-free/sis-epsg/src/main/resources/org/apache/sis/referencing/factory/sql/epsg/Data.sql    EPSG_Data.sql
</span></span><span class="line"><span class="cl">ln -s ../../../non-free/sis-epsg/src/main/resources/org/apache/sis/referencing/factory/sql/epsg/FKeys.sql   EPSG_FKeys.sql
</span></span><span class="line"><span class="cl">ln -s ../../../non-free/sis-epsg/src/main/resources/org/apache/sis/referencing/factory/sql/epsg/Tables.sql  EPSG_Tables.sql
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> -</span></span></code></pre></div>
<p>This is sufficient for allowing Apache <abbr title="Spatial Information System">SIS</abbr> to create the geodetic database
without the need for <code>sis-epsg</code> or <code>sis-embedded-data</code> module on the classpath.
This setting is not done automatically because Apache projects cannot introduce
non-free dependencies without explicit action from user.
If this action is not taken, some JUnit tests requiring EPSG data may be skipped.
If any EPSG file is updated, deleting the <code>$SIS_DATA/​Databases/​SpatialMetadata</code> directory
is sufficient for causing Apache <abbr title="Spatial Information System">SIS</abbr> to recreate the Derby database with new data.</p>
<h2 id="postgres">Configure PostgreSQL   </h2>
<p>Apache <abbr title="Spatial Information System">SIS</abbr> is tested with Derby, HSQL and PostgreSQL databases.
Derby and HSQL are tested automatically using temporary databases in memory.
But testing on PostgreSQL requires the creation of a dedicated database on the developer platform.
The requirements are:</p>
<ul>
<li>PostgreSQL server running and listening to <code>localhost</code> on default port (5432).</li>
<li>A role with the same name than Unix user name of the developer running tests.</li>
<li>An empty database named <code>&quot;SpatialMetadataTest&quot;</code>.</li>
<li>Above-cited role can connect to <code>SpatialMetadataTest</code> database without password.</li>
<li><code>org.apache.sis.test.extensive</code> Java property set to <code>true</code>.</li>
</ul>
<p>The <code>SpatialMetadataTest</code> database should stay empty when not running tests,
because Apache <abbr title="Spatial Information System">SIS</abbr> always delete the temporary schema after tests completion,
regardless if the tests were successful or not.
The role and database can be created by the following SQL instructions
(replace <code>my_unix_user_name</code> by your actual user name):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">ROLE</span><span class="w"> </span><span class="n">my_unix_user_name</span><span class="w"> </span><span class="n">LOGIN</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="s2">&#34;SpatialMetadataTest&#34;</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="k">OWNER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">my_unix_user_name</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="s2">&#34;SpatialMetadataTest&#34;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;For Apache SIS tests only.&#39;</span><span class="p">;</span></span></span></code></pre></div>
<p>For opening access to that database without password, it may be necessary
to add following line (ignoring comment lines) in the <code>pg_hba.conf</code> file.
Location of this file is system-dependent; it may be <code>/var/​lib/​pgsql/​data</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl"># IPv4 local connections:
</span></span><span class="line"><span class="cl"># TYPE  DATABASE               USER                 ADDRESS         METHOD
</span></span><span class="line"><span class="cl">host    SpatialMetadataTest    my_unix_user_name    127.0.0.1/32    trust</span></span></code></pre></div>
<p>The last step for allowing Apache <abbr title="Spatial Information System">SIS</abbr> to run tests on PostgreSQL is to set the
<code>org.apache.sis.test.extensive</code> Java property to <code>true</code> (see next section).
This requirement has been added for avoiding undesired interference with host.
Note that this step is likely to change after Apache <abbr title="Spatial Information System">SIS</abbr> upgrade to JUnit 5.</p>
<h2 id="tests">Running extensive tests   </h2>
<p>A simple <code>mvn install</code> execution in the <code>sis</code> directory
will build and test Apache <abbr title="Spatial Information System">SIS</abbr> with the default set of JUnit tests.
Some tests are skipped by default, either because they would have some effects outside
the <code>sis</code> directory (for example writing in <code>SpatialMetadataTest</code> database on PostgreSQL),
or because those tests take a long time to execute.
For enabling all tests, use the following command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> sis
</span></span><span class="line"><span class="cl">mvn install -Dorg.apache.sis.test.extensive<span class="o">=</span>true</span></span></code></pre></div>
<h2 id="branches">Switch to development branch   </h2>
<p>The source code repository contains <code>master</code>, <code>geoapi-3.1</code> and <code>geoapi-4.0</code> branches.
Apache <abbr title="Spatial Information System">SIS</abbr> releases are created from <code>master</code>, which depends on the latest GeoAPI version
released by the Open Geospatial Consortium (OGC), currently <a href="http://www.geoapi.org/3.0/index.html">GeoAPI 3.0.1</a>.
However daily developments occur on the <code>geoapi-4.0</code> branch before to be merged (indirectly) to <code>master</code>.
Those branches exist in order to experiment early new API and technologies — since they may impact
the library design — while keeping the releases compatible with officially released API.
In summary:</p>
<ul>
<li>The <code>geoapi-4.0</code> branch implements interfaces defined in GeoAPI 4.0 snapshots.</li>
<li>The <code>geoapi-3.1</code> branch implements interfaces defined in <a href="http://www.geoapi.org/snapshot/index.html">GeoAPI 3.1 snapshots</a>.</li>
<li>The <code>master</code> implements interfaces defined by the <a href="http://www.geoapi.org/3.0/index.html">GeoAPI 3.0.1 stable release</a>.</li>
</ul>
<p>Developments on <code>geoapi-4.0</code> branch are merged to <code>geoapi-3.1</code> branch, which is then merged to <code>master</code>.
When commits reach <code>master</code> they become unmodifiable; the <code>git push --force</code> command is not allowed on that branch.
Contributors to Apache <abbr title="Spatial Information System">SIS</abbr> project should switch to the current development branch before submitting patches:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> sis
</span></span><span class="line"><span class="cl">git checkout geoapi-4.0</span></span></code></pre></div>
<p>Note that those <code>geoapi-xxx</code> branches may disappear or be replaced by something else
after <abbr title="Open Geospatial Consortium">OGC</abbr> releases the corresponding GeoAPI versions.</p>
<h1 id="netbeans">Opening Apache SIS in NetBeans   </h1>
<p>Apache <abbr title="Spatial Information System">SIS</abbr> build is defined by Maven <code>pom.xml</code> files.
All major IDE, including NetBeans, can open a project defined by those files.
However in the particular case of NetBeans IDE, we also provide a way to open Apache <abbr title="Spatial Information System">SIS</abbr> using Ant configuration files.
Compared to &ldquo;Java with Maven&rdquo; project, the &ldquo;Java with Ant&rdquo; project is faster to build and debug,
makes easier to see all modules at once, and provides more configuration options.
Those configuration files are available in the <code>ide-project/NetBeans</code> directory.
This project will fetch dependencies directly from the <code>.m2/repository</code> local directory,
and will refer to the resources <code>*.utf</code> files compiled by Maven in the <code>sis-*/target</code> directories.
Consequently it is important to run <code>mvn install</code> manually (on the command line)
before opening the project and after any change in the project dependencies or in the resources.</p>
<p>Users can customize their project configuration by editing the <code>ide-project/NetBeans/nbproject/private/config.properties</code> file.
The <code>private</code> directory is excluded by the versioning system, so it okay to put user-specific information there.
For example in order to overwrite the default location of the local Maven repository and to define a system property at execution time,
one can use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="na">maven.repository</span> <span class="o">=</span> <span class="s">/path/to/my/local/repository</span>
</span></span><span class="line"><span class="cl"><span class="na">run.jvmargs</span> <span class="o">=</span> <span class="s">-DmyProperty=myValue</span></span></span></code></pre></div>
<h1 id="history">History   </h1>
<p>All developments and tags prior Apache <abbr title="Spatial Information System">SIS</abbr> 1.0 were done on a <a href="http://subversion.apache.org">Subversion</a> repository
and can be <a href="http://svn.apache.org/viewvc/sis/">browsed online</a>.
Tags for Apache <abbr title="Spatial Information System">SIS</abbr> versions 0.1 to 0.8 should be fetched from the <a href="https://svn.apache.org/repos/asf/sis/tags/">SVN repository</a>.
The development branches on that repository were named <code>JDK8</code>, <code>JDK7</code>, <code>JDK6</code> and <code>trunk</code>.</p>


      </article>
    </main>
    <footer class="footer">
    <div class="container">
      <p>
        Copyright &copy; 2013-2022 The Apache Software Foundation, Licensed under the
        <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br/>
        Apache SIS, Apache, the Apache feather logo are trademarks of The Apache Software Foundation.
      </p>
    </div>
</footer>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>

</body>
</html>
