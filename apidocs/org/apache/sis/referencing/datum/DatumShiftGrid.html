<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_92) on Wed Jul 13 13:04:18 CEST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DatumShiftGrid (Apache SIS 0.7 API)</title>
<meta name="date" content="2016-07-13">
<meta name="keywords" content="org.apache.sis.referencing.datum.DatumShiftGrid class">
<meta name="keywords" content="getGridSize()">
<meta name="keywords" content="getDomainOfValidity()">
<meta name="keywords" content="getCoordinateUnit()">
<meta name="keywords" content="getCoordinateToGrid()">
<meta name="keywords" content="normalizedToGridX()">
<meta name="keywords" content="normalizedToGridY()">
<meta name="keywords" content="getTranslationDimensions()">
<meta name="keywords" content="getTranslationUnit()">
<meta name="keywords" content="interpolateAt()">
<meta name="keywords" content="interpolateInCell()">
<meta name="keywords" content="derivativeInCell()">
<meta name="keywords" content="getCellValue()">
<meta name="keywords" content="getCellMean()">
<meta name="keywords" content="getCellPrecision()">
<meta name="keywords" content="isCellValueRatio()">
<meta name="keywords" content="equals()">
<meta name="keywords" content="hashCode()">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DatumShiftGrid (Apache SIS 0.7 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":6,"i4":6,"i5":10,"i6":10,"i7":10,"i8":10,"i9":6,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DatumShiftGrid.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/sis/referencing/datum/BursaWolfParameters.html" title="class in org.apache.sis.referencing.datum"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/sis/referencing/datum/DefaultEllipsoid.html" title="class in org.apache.sis.referencing.datum"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/sis/referencing/datum/DatumShiftGrid.html" target="_top">Frames</a></li>
<li><a href="DatumShiftGrid.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.sis.referencing.datum</div>
<h2 title="Class DatumShiftGrid" class="title">Class DatumShiftGrid&lt;C extends Quantity,T extends Quantity&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></li>
<li>
<ul class="inheritance">
<li>DatumShiftGrid&lt;C,T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>C</code> - Dimension of the coordinate unit (usually <code>Angle</code>).</dd>
<dd><code>T</code> - Dimension of the translation unit (usually <code>Angle</code>
            or <code>Length</code>).</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">DatumShiftGrid&lt;C extends Quantity,T extends Quantity&gt;</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a></pre>
<div class="block">Small but non-constant translations to apply on coordinates for datum shifts or other transformation process.
 The main purpose of this class is to encapsulate the data provided by <cite>datum shift grid files</cite>
 like NTv2, NADCON or RGF93. But this class could also be used for other kind of transformations,
 provided that the shifts are <strong>small</strong> (otherwise algorithms may not converge).

 <p><a href="../../../../../org/apache/sis/referencing/datum/DefaultGeodeticDatum.html" title="class in org.apache.sis.referencing.datum">Geodetic datum</a> changes can be implemented by translations in geographic
 or geocentric coordinates. Translations given by <code>Datum­Shift­Grid</code> instances are often, but not always,
 applied directly on geographic coordinates (<var>λ</var>,<var>φ</var>). But some algorithms rather apply the
 translations in geocentric coordinates (<var>X</var>,<var>Y</var>,<var>Z</var>). This <code>Datum­Shift­Grid</code>
 class can describe both cases, but will be used with different <code>Math­Transform</code> implementations.</p>

 <p>Steps for calculation of a translation vector:</p>
 <ol>
   <li>Coordinates are given in some "real world" unit.
       The expected unit is given by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCoordinateUnit--"><code>get­Coordinate­Unit()</code></a>.</li>
   <li>Above coordinates are converted to grid indices including fractional parts.
       That conversion is given by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCoordinateToGrid--"><code>get­Coordinate­To­Grid()</code></a>.</li>
   <li>Translation vectors are interpolated at the position of above grid indices.
       That interpolation is done by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#interpolateInCell-double-double-double:A-"><code>interpolate­In­Cell(…)</code></a>.</li>
   <li>If the above translations were given as a ratio of the real translation divided by the size of grid cells, apply
       the inverse of the conversion given at step 2. This information is given by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#isCellValueRatio--"><code>is­Cell­Value­Ratio()</code></a>.</li>
   <li>The resulting translation vectors are in the unit given by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getTranslationUnit--"><code>get­Translation­Unit()</code></a>.</li>
 </ol>

 The <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#interpolateAt-double...-"><code>interpolate­At(…)</code></a> method performs all those steps.
 But that method is provided only for convenience; it is not used by Apache SIS.
 For performance reasons SIS <code>Math­Transform</code> implementations perform all the above-cited steps themselves,
 and apply the interpolated translations on coordinate values in their own step between above steps 3 and 4.

 <div class="note"><b>Use cases:</b>
 <ul class="verbose">
   <li><b>Datum shift by geographic translations</b><br>
   NADCON and NTv2 grids are defined with longitude (<var>λ</var>) and latitude (<var>φ</var>) inputs in angular
   <em>degrees</em> and give (<var>Δλ</var>, <var>Δφ</var>) translations in angular <em>seconds</em>.
   However SIS stores the translation values in units of grid cell rather than angular seconds.
   The translations will be applied by <a href="../../../../../org/apache/sis/referencing/operation/transform/InterpolatedTransform.html" title="class in org.apache.sis.referencing.operation.transform"><code>Interpolated­Transform</code></a>
   directly on the given (<var>λ</var>,<var>φ</var>) coordinates.
   </li>

   <li><b>Datum shift by geocentric translations</b><br>
   France interpolation grid is defined with longitude (<var>λ</var>) and latitude (<var>φ</var>) inputs in angular
   <em>degrees</em> and gives (<var>ΔX</var>, <var>ΔY</var>, <var>ΔZ</var>) geocentric translations in <em>metres</em>.
   Those translations will not be added directly to the given (<var>λ</var>,<var>φ</var>) coordinates since there is
   a geographic/geocentric conversion in the middle
   (see <a href="../../../../../org/apache/sis/referencing/operation/transform/InterpolatedGeocentricTransform.html" title="class in org.apache.sis.referencing.operation.transform"><code>Interpolated­Geocentric­Transform</code></a>).
   </li>

   <li><b>Localization grid of raster data</b><br>
   Some remote sensing raster data are provided with a <cite>localization grid</cite> giving pixel coordinates
   (e.g. latitude and longitude). This can been seen as a change from <a href="../../../../../org/apache/sis/referencing/datum/DefaultImageDatum.html" title="class in org.apache.sis.referencing.datum">image datum</a>
   to <a href="../../../../../org/apache/sis/referencing/datum/DefaultGeodeticDatum.html" title="class in org.apache.sis.referencing.datum">geodetic datum</a>. The coordinate transformation process can sometime be
   performed by a mathematical conversion (for example an affine transform) applied as a
   <a href="../../../../../org/apache/sis/referencing/operation/builder/LinearTransformBuilder.html" title="class in org.apache.sis.referencing.operation.builder">first approximation</a>,
   followed by small corrections for the residual part.
   <code>Datum­Shift­Grid</code> can describe the small corrections part.
   </li>
 </ul></div>

 Implementations of this class shall be immutable and thread-safe.

 <div class="section">Number of dimensions</div>
 Input coordinates and translation vectors can have any number of dimensions. However in the current implementation,
 only the two first dimensions are used for interpolating the translation vectors. This restriction appears in the
 following method signatures:

 <ul>
   <li><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#interpolateInCell-double-double-double:A-"><code>interpolate­In­Cell(double, double, double[])</code></a>
       where the two first <code>double</code> values are (<var>x</var>,<var>y</var>) grid indices.</li>
   <li><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCellValue-int-int-int-"><code>get­Cell­Value(int, int, int)</code></a>
       where the two last <code>int</code> values are (<var>x</var>,<var>y</var>) grid indices.</li>
   <li><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#derivativeInCell-double-double-"><code>derivative­In­Cell(double, double)</code></a>
       where the values are (<var>x</var>,<var>y</var>) grid indices.</li>
 </ul>

 Note that the above restriction does not prevent <code>Datum­Shift­Grid</code> to interpolate translation vectors
 in more than two dimensions. See the above <cite>datum shift by geocentric translations</cite> use case for
 an example.

 <div class="section">Serialization</div>
 Serialized objects of this class are not guaranteed to be compatible with future Apache SIS releases.
 Serialization support is appropriate for short term storage or RMI between applications running the
 same version of Apache SIS. But for long term storage, an established datum shift grid format like
 NTv2 should be preferred.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.7</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/apache/sis/referencing/operation/transform/DatumShiftTransform.html" title="class in org.apache.sis.referencing.operation.transform"><code>Datum­Shift­Transform</code></a>, 
<a href="../../../../../serialized-form.html#org.apache.sis.referencing.datum.DatumShiftGrid">Serialized Form</a></dd>

<p><font size="-1">Defined in the <code>sis-referencing</code> module</font></p>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#DatumShiftGrid-org.apache.sis.referencing.datum.DatumShiftGrid-">Datum­Shift­Grid</a></span>(<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="class in org.apache.sis.referencing.datum">Datum­Shift­Grid</a>&lt;<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="type parameter in DatumShiftGrid">C</a>,<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="type parameter in DatumShiftGrid">T</a>&gt;&nbsp;other)</code>
<div class="block">Creates a new datum shift grid with the same grid geometry (size and units) than the given grid.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#DatumShiftGrid-javax.measure.unit.Unit-org.apache.sis.referencing.operation.transform.LinearTransform-int:A-boolean-javax.measure.unit.Unit-">Datum­Shift­Grid</a></span>(Unit&lt;<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="type parameter in DatumShiftGrid">C</a>&gt;&nbsp;coordinate­Unit,
              <a href="../../../../../org/apache/sis/referencing/operation/transform/LinearTransform.html" title="interface in org.apache.sis.referencing.operation.transform">Linear­Transform</a>&nbsp;coordinate­To­Grid,
              int[]&nbsp;grid­Size,
              boolean&nbsp;is­Cell­Value­Ratio,
              Unit&lt;<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="type parameter in DatumShiftGrid">T</a>&gt;&nbsp;translation­Unit)</code>
<div class="block">Creates a new datum shift grid for the given size and units.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="http://www.geoapi.org/3.0/javadoc/org/opengis/referencing/operation/Matrix.html?is-external=true" title="class or interface in org.opengis.referencing.operation">Matrix</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#derivativeInCell-double-double-">derivative­In­Cell</a></span>(double&nbsp;grid­X,
                double&nbsp;grid­Y)</code>
<div class="block">Returns the derivative at the given grid indices.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#equals-java.lang.Object-">equals</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;other)</code>
<div class="block">Returns <code>true</code> if the given object is a grid containing the same data than this grid.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCellMean-int-">get­Cell­Mean</a></span>(int&nbsp;dim)</code>
<div class="block">Returns an average translation value for the given dimension.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>abstract double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCellPrecision--">get­Cell­Precision</a></span>()</code>
<div class="block">Returns an estimation of cell value precision (not to be confused with accuracy).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>abstract double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCellValue-int-int-int-">get­Cell­Value</a></span>(int&nbsp;dim,
            int&nbsp;grid­X,
            int&nbsp;grid­Y)</code>
<div class="block">Returns the translation stored at the given two-dimensional grid indices for the given dimension.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/sis/referencing/operation/transform/LinearTransform.html" title="interface in org.apache.sis.referencing.operation.transform">Linear­Transform</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCoordinateToGrid--">get­Coordinate­To­Grid</a></span>()</code>
<div class="block">Conversion from the "real world" coordinates to grid indices including fractional parts.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>Unit&lt;<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="type parameter in DatumShiftGrid">C</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCoordinateUnit--">get­Coordinate­Unit</a></span>()</code>
<div class="block">Returns the unit of measurement of input values, before conversion to grid indices.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="http://www.geoapi.org/3.0/javadoc/org/opengis/geometry/Envelope.html?is-external=true" title="class or interface in org.opengis.geometry">Envelope</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getDomainOfValidity--">get­Domain­Of­Validity</a></span>()</code>
<div class="block">Returns the domain of validity of input coordinates that can be specified to the
 <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#interpolateAt-double...-"><code>interpolate­At(…)</code></a> method.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getGridSize--">get­Grid­Size</a></span>()</code>
<div class="block">Returns the number of cells along each axis in the grid.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getTranslationDimensions--">get­Translation­Dimensions</a></span>()</code>
<div class="block">Returns the number of dimensions of the translation vectors interpolated by this datum shift grid.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>Unit&lt;<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="type parameter in DatumShiftGrid">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getTranslationUnit--">get­Translation­Unit</a></span>()</code>
<div class="block">Returns the unit of measurement of output values, as interpolated by the <code>interpolate­At(…)</code> method.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#hashCode--">hash­Code</a></span>()</code>
<div class="block">Returns a hash code value for this datum shift grid.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#interpolateAt-double...-">interpolate­At</a></span>(double...&nbsp;ordinates)</code>
<div class="block">Interpolates the translation to apply for the given coordinate.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#interpolateInCell-double-double-double:A-">interpolate­In­Cell</a></span>(double&nbsp;grid­X,
                 double&nbsp;grid­Y,
                 double[]&nbsp;vector)</code>
<div class="block">Interpolates the translation to apply for the given two-dimensional grid indices.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#isCellValueRatio--">is­Cell­Value­Ratio</a></span>()</code>
<div class="block">Returns <code>true</code> if the translation values in the cells are divided by the cell size.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#normalizedToGridX-double-">normalized­To­Grid­X</a></span>(double&nbsp;x)</code>
<div class="block">Converts the given normalized <var>x</var> ordinate to grid index.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#normalizedToGridY-double-">normalized­To­Grid­Y</a></span>(double&nbsp;y)</code>
<div class="block">Converts the given normalized <var>x</var> ordinate to grid index.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">get­Class</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notify­All</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">to­String</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DatumShiftGrid-javax.measure.unit.Unit-org.apache.sis.referencing.operation.transform.LinearTransform-int:A-boolean-javax.measure.unit.Unit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DatumShiftGrid</h4>
<pre>protected&nbsp;DatumShiftGrid(Unit&lt;<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="type parameter in DatumShiftGrid">C</a>&gt;&nbsp;coordinateUnit,
                         <a href="../../../../../org/apache/sis/referencing/operation/transform/LinearTransform.html" title="interface in org.apache.sis.referencing.operation.transform">LinearTransform</a>&nbsp;coordinateToGrid,
                         int[]&nbsp;gridSize,
                         boolean&nbsp;isCellValueRatio,
                         Unit&lt;<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="type parameter in DatumShiftGrid">T</a>&gt;&nbsp;translationUnit)</pre>
<div class="block">Creates a new datum shift grid for the given size and units.
 The actual cell values need to be provided by subclasses.

 <p>Meaning of argument values is documented more extensively in <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCoordinateUnit--"><code>get­Coordinate­Unit()</code></a>,
 <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCoordinateToGrid--"><code>get­Coordinate­To­Grid()</code></a>, <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#isCellValueRatio--"><code>is­Cell­Value­Ratio()</code></a> and <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getTranslationUnit--"><code>get­Translation­Unit()</code></a>
 methods. The argument order is roughly the order in which they are used in the process of
 interpolating translation vectors.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>coordinate­Unit</code> - The unit of measurement of input values, before conversion to grid indices by <code>coordinate­To­Grid</code>.</dd>
<dd><code>coordinate­To­Grid</code> - Conversion from the "real world" coordinates to grid indices including fractional parts.</dd>
<dd><code>grid­Size</code> - Number of cells along each axis in the grid. The length of this array shall be equal to <code>coordinate­To­Grid</code> target dimensions.</dd>
<dd><code>is­Cell­Value­Ratio</code> - <code>true</code> if results of <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#interpolateInCell-double-double-double:A-"><code>interpolate­In­Cell(…)</code></a> are divided by grid cell size.</dd>
<dd><code>translation­Unit</code> - The unit of measurement of output values.</dd>
</dl>
</li>
</ul>
<a name="DatumShiftGrid-org.apache.sis.referencing.datum.DatumShiftGrid-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DatumShiftGrid</h4>
<pre>protected&nbsp;DatumShiftGrid(<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="class in org.apache.sis.referencing.datum">DatumShiftGrid</a>&lt;<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="type parameter in DatumShiftGrid">C</a>,<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="type parameter in DatumShiftGrid">T</a>&gt;&nbsp;other)</pre>
<div class="block">Creates a new datum shift grid with the same grid geometry (size and units) than the given grid.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>other</code> - The other datum shift grid from which to copy the grid geometry.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getGridSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGridSize</h4>
<pre>public&nbsp;int[]&nbsp;getGridSize()</pre>
<div class="block">Returns the number of cells along each axis in the grid. The length of this array is equal to
 <code>coordinate­To­Grid</code> target dimensions.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of cells along each axis in the grid.</dd>
</dl>
</li>
</ul>
<a name="getDomainOfValidity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDomainOfValidity</h4>
<pre>public&nbsp;<a href="http://www.geoapi.org/3.0/javadoc/org/opengis/geometry/Envelope.html?is-external=true" title="class or interface in org.opengis.geometry">Envelope</a>&nbsp;getDomainOfValidity()
                             throws <a href="http://www.geoapi.org/3.0/javadoc/org/opengis/referencing/operation/TransformException.html?is-external=true" title="class or interface in org.opengis.referencing.operation">TransformException</a></pre>
<div class="block">Returns the domain of validity of input coordinates that can be specified to the
 <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#interpolateAt-double...-"><code>interpolate­At(…)</code></a> method. Coordinates outside that domain of
 validity will still be accepted, but the extrapolated results may be very wrong.

 <p>The unit of measurement for the coordinate values in the returned envelope is
 given by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCoordinateUnit--"><code>get­Coordinate­Unit()</code></a>. The complete CRS is undefined.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The domain covered by this grid.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://www.geoapi.org/3.0/javadoc/org/opengis/referencing/operation/TransformException.html?is-external=true" title="class or interface in org.opengis.referencing.operation">Transform­Exception</a></code> - if an error occurred while computing the envelope.</dd>
</dl>
</li>
</ul>
<a name="getCoordinateUnit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCoordinateUnit</h4>
<pre>public&nbsp;Unit&lt;<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="type parameter in DatumShiftGrid">C</a>&gt;&nbsp;getCoordinateUnit()</pre>
<div class="block">Returns the unit of measurement of input values, before conversion to grid indices.
 The coordinate unit is usually <code>Non­SI​.DEGREE_ANGLE</code>, but other units are allowed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The unit of measurement of input values before conversion to grid indices.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/apache/sis/referencing/operation/AbstractCoordinateOperation.html#getInterpolationCRS--"><code>Abstract­Coordinate­Operation​.get­Interpolation­CRS()</code></a></dd>
</dl>
</li>
</ul>
<a name="getCoordinateToGrid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCoordinateToGrid</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/sis/referencing/operation/transform/LinearTransform.html" title="interface in org.apache.sis.referencing.operation.transform">LinearTransform</a>&nbsp;getCoordinateToGrid()</pre>
<div class="block">Conversion from the "real world" coordinates to grid indices including fractional parts.
 The input points given to the <code>Math­Transform</code> shall be in the unit of measurement
 given by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCoordinateUnit--"><code>get­Coordinate­Unit()</code></a>.
 The output points are grid indices with integer values in the center of grid cells.

 <p>This transform is usually two-dimensional and linear, in which case conversions from (<var>x</var>,<var>y</var>)
 coordinates to (<code>grid­X</code>, <code>grid­Y</code>) indices can be done with the following formulas:</p>
 <ul>
   <li><var>gridX</var> = (<var>x</var> - <var>x₀</var>) / <var>Δx</var></li>
   <li><var>gridY</var> = (<var>y</var> - <var>y₀</var>) / <var>Δy</var></li>
 </ul>

 where:
 <ul>
   <li>(<var>x₀</var>, <var>y₀</var>) is the coordinate of the center of the cell at grid index (0,0).</li>
   <li><var>Δx</var> and <var>Δy</var> are the distances between two cells on the <var>x</var> and <var>y</var>
       axes respectively, in the unit of measurement given by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCoordinateUnit--"><code>get­Coordinate­Unit()</code></a>.</li>
 </ul>

 The <code>coordinate­To­Grid</code> transform for the above formulas can be represented by the following matrix:

 <blockquote><pre>┌                      ┐
│ 1/Δx      0   -<var>x</var>₀/Δx │
│    0   1/Δy   -<var>y</var>₀/Δy │
│    0      0        1 │
└                      ┘</pre></blockquote></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Conversion from the "real world" coordinates to grid indices including fractional parts.</dd>
</dl>
</li>
</ul>
<a name="normalizedToGridX-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>normalizedToGridX</h4>
<pre>public final&nbsp;double&nbsp;normalizedToGridX(double&nbsp;x)</pre>
<div class="block">Converts the given normalized <var>x</var> ordinate to grid index.
 "Normalized coordinates" are coordinates in the unit of measurement given by <code>Unit​.to­SI()</code>.
 For angular coordinates, this is radians. For linear coordinates, this is metres.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - The "real world" ordinate (often longitude in radians) of the point for which to get the translation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The grid index for the given ordinate. May be out of bounds.</dd>
</dl>
</li>
</ul>
<a name="normalizedToGridY-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>normalizedToGridY</h4>
<pre>public final&nbsp;double&nbsp;normalizedToGridY(double&nbsp;y)</pre>
<div class="block">Converts the given normalized <var>x</var> ordinate to grid index.
 "Normalized coordinates" are coordinates in the unit of measurement given by <code>Unit​.to­SI()</code>.
 For angular coordinates, this is radians. For linear coordinates, this is metres.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>y</code> - The "real world" ordinate (often latitude in radians) of the point for which to get the translation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The grid index for the given ordinate. May be out of bounds.</dd>
</dl>
</li>
</ul>
<a name="getTranslationDimensions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTranslationDimensions</h4>
<pre>public abstract&nbsp;int&nbsp;getTranslationDimensions()</pre>
<div class="block">Returns the number of dimensions of the translation vectors interpolated by this datum shift grid.
 This number of dimensions is not necessarily equals to the number of source or target dimensions
 of the "<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCoordinateToGrid--">coordinate to grid</a>" transform.
 The number of translation dimensions is usually 2 or 3, but other values are allowed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Number of dimensions of translation vectors.</dd>
</dl>
</li>
</ul>
<a name="getTranslationUnit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTranslationUnit</h4>
<pre>public&nbsp;Unit&lt;<a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html" title="type parameter in DatumShiftGrid">T</a>&gt;&nbsp;getTranslationUnit()</pre>
<div class="block">Returns the unit of measurement of output values, as interpolated by the <code>interpolate­At(…)</code> method.
 Apache SIS <code>Math­Transform</code> implementations restrict the translation units to the following values:

 <ul>
   <li>For <a href="../../../../../org/apache/sis/referencing/operation/transform/InterpolatedTransform.html" title="class in org.apache.sis.referencing.operation.transform"><code>Interpolated­Transform</code></a>, the translation
       unit shall be the same than the <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCoordinateUnit--">coordinate unit</a>.</li>
   <li>For <a href="../../../../../org/apache/sis/referencing/operation/transform/InterpolatedGeocentricTransform.html" title="class in org.apache.sis.referencing.operation.transform"><code>Interpolated­Geocentric­Transform</code></a>,
       the translation unit shall be the same than the unit of source ellipsoid axis lengths.</li>
 </ul></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The unit of measurement of output values interpolated by <code>interpolate­At(…)</code>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#interpolateAt-double...-"><code>interpolate­At(double...)</code></a></dd>
</dl>
</li>
</ul>
<a name="interpolateAt-double...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>interpolateAt</h4>
<pre>public&nbsp;double[]&nbsp;interpolateAt(double...&nbsp;ordinates)
                       throws <a href="http://www.geoapi.org/3.0/javadoc/org/opengis/referencing/operation/TransformException.html?is-external=true" title="class or interface in org.opengis.referencing.operation">TransformException</a></pre>
<div class="block">Interpolates the translation to apply for the given coordinate.
 The input values are in the unit given by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCoordinateUnit--"><code>get­Coordinate­Unit()</code></a>.
 The output values are in the unit given by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getTranslationUnit--"><code>get­Translation­Unit()</code></a>.
 The length of the returned array is given by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getTranslationDimensions--"><code>get­Translation­Dimensions()</code></a>.

 <div class="section">Default implementation</div>
 The default implementation performs the following steps:
 <ol>
   <li>Convert the given coordinate into grid indices using the transform given by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCoordinateToGrid--"><code>get­Coordinate­To­Grid()</code></a>.</li>
   <li>Interpolate the translation vector at the above grid indices with a call to <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#interpolateInCell-double-double-double:A-"><code>interpolate­In­Cell(double, double, double[])</code></a>.</li>
   <li>If <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#isCellValueRatio--"><code>is­Cell­Value­Ratio()</code></a> returns <code>true</code>, <a href="../../../../../org/apache/sis/referencing/operation/transform/LinearTransform.html#deltaTransform-double:A-int-double:A-int-int-">delta transform</a>
       the translation vector by the inverse of the conversion given at step 1.</li>
 </ol></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ordinates</code> - The "real world" ordinate (often longitude and latitude, but not necessarily)
                   of the point for which to get the translation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The translation vector at the given position.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://www.geoapi.org/3.0/javadoc/org/opengis/referencing/operation/TransformException.html?is-external=true" title="class or interface in org.opengis.referencing.operation">Transform­Exception</a></code> - if an error occurred while computing the translation vector.</dd>
</dl>
</li>
</ul>
<a name="interpolateInCell-double-double-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>interpolateInCell</h4>
<pre>public&nbsp;void&nbsp;interpolateInCell(double&nbsp;gridX,
                              double&nbsp;gridY,
                              double[]&nbsp;vector)</pre>
<div class="block">Interpolates the translation to apply for the given two-dimensional grid indices. The result is stored in
 the given <code>vector</code> array, which shall have a length of at least <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getTranslationDimensions--"><code>get­Translation­Dimensions()</code></a>.
 The output unit of measurement is the same than the one documented in <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCellValue-int-int-int-"><code>get­Cell­Value(int, int, int)</code></a>.

 <div class="section">Default implementation</div>
 The default implementation performs the following steps for each dimension <var>dim</var>,
 where the number of dimension is determined by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getTranslationDimensions--"><code>get­Translation­Dimensions()</code></a>.

 <ol>
   <li>Clamp the <code>grid­X</code> index into the [0 … <code>grid­Size[0]</code> - 2] range, inclusive.</li>
   <li>Clamp the <code>grid­Y</code> index into the [0 … <code>grid­Size[1]</code> - 2] range, inclusive.</li>
   <li>Using <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCellValue-int-int-int-"><code>get­Cell­Value(int, int, int)</code></a>, get the cell values around the given indices.</li>
   <li>Apply a bilinear interpolation and store the result in <code>vector[dim]</code>.</li>
 </ol></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>grid­X</code> - First grid ordinate of the point for which to get the translation.</dd>
<dd><code>grid­Y</code> - Second grid ordinate of the point for which to get the translation.</dd>
<dd><code>vector</code> - A pre-allocated array where to write the translation vector.</dd>
</dl>
</li>
</ul>
<a name="derivativeInCell-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>derivativeInCell</h4>
<pre>public&nbsp;<a href="http://www.geoapi.org/3.0/javadoc/org/opengis/referencing/operation/Matrix.html?is-external=true" title="class or interface in org.opengis.referencing.operation">Matrix</a>&nbsp;derivativeInCell(double&nbsp;gridX,
                               double&nbsp;gridY)</pre>
<div class="block">Returns the derivative at the given grid indices.

 <div class="section">Default implementation</div>
 The current implementation assumes that the derivative is constant everywhere in the cell
 at the given indices. It does not yet take in account the fractional part of <code>grid­X</code>
 and <code>grid­Y</code>, because empirical tests suggest that the accuracy of such interpolation
 is uncertain.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>grid­X</code> - First grid ordinate of the point for which to get the translation.</dd>
<dd><code>grid­Y</code> - Second grid ordinate of the point for which to get the translation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The derivative at the given location.</dd>
</dl>
</li>
</ul>
<a name="getCellValue-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCellValue</h4>
<pre>public abstract&nbsp;double&nbsp;getCellValue(int&nbsp;dim,
                                    int&nbsp;gridX,
                                    int&nbsp;gridY)</pre>
<div class="block">Returns the translation stored at the given two-dimensional grid indices for the given dimension.
 The returned value is considered representative of the value in the center of the grid cell.
 The output unit of measurement depends on the <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#isCellValueRatio--"><code>is­Cell­Value­Ratio()</code></a> boolean:

 <ul>
   <li>If <code>false</code>, the value returned by this method shall be in the unit of measurement
       given by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getTranslationUnit--"><code>get­Translation­Unit()</code></a>.</li>
   <li>If <code>true</code>, the value returned by this method is the ratio of the translation divided by the
       distance between grid cells in the <var>dim</var> dimension (<var>Δx</var> or <var>Δy</var> in the
       <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#DatumShiftGrid-javax.measure.unit.Unit-org.apache.sis.referencing.operation.transform.LinearTransform-int:A-boolean-javax.measure.unit.Unit-">constructor javadoc</a>).</li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dim</code> - The dimension of the translation vector component to get,
               from 0 inclusive to <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getTranslationDimensions--"><code>get­Translation­Dimensions()</code></a> exclusive.</dd>
<dd><code>grid­X</code> - The grid index on the <var>x</var> axis, from 0 inclusive to <code>grid­Size[0]</code> exclusive.</dd>
<dd><code>grid­Y</code> - The grid index on the <var>y</var> axis, from 0 inclusive to <code>grid­Size[1]</code> exclusive.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The translation for the given dimension in the grid cell at the given index.</dd>
</dl>
</li>
</ul>
<a name="getCellMean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCellMean</h4>
<pre>public&nbsp;double&nbsp;getCellMean(int&nbsp;dim)</pre>
<div class="block">Returns an average translation value for the given dimension.
 Those average values shall provide a good "first guess" before to interpolate the actual translation value
 at the (<var>x</var>,<var>y</var>) coordinate. This "first guess" is needed for inverse transform.

 <div class="section">Default implementation</div>
 The default implementation computes the average of all values returned by
 <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCellValue-int-int-int-"><code>get­Cell­Value(dim, …)</code></a>, but subclasses may override with more specific values.

 <div class="note"><b>Example:</b>
 In the <cite>"France geocentric interpolation"</cite> (ESPG:9655) operation method, those "average" values
 are fixed by definition to -168, -60 and +320 metres for dimensions 0, 1 and 2 respectively
 (geocentric <var>X</var>, <var>Y</var> and <var>Z</var>).</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dim</code> - The dimension for which to get an average translation value,
             from 0 inclusive to <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getTranslationDimensions--"><code>get­Translation­Dimensions()</code></a> exclusive.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A translation value close to the average for the given dimension.</dd>
</dl>
</li>
</ul>
<a name="getCellPrecision--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCellPrecision</h4>
<pre>public abstract&nbsp;double&nbsp;getCellPrecision()</pre>
<div class="block">Returns an estimation of cell value precision (not to be confused with accuracy).
 This information can be determined in different ways:

 <ul>
   <li>If the data are read from an ASCII file with a fixed number of digits, then a suggested value is half
       the precision of the last digit (i.e. 0.5 × 10⁻ⁿ where <var>n</var> is the number of digits after the
       comma).</li>
   <li>If there is no indication about precision, then this method should return a value smaller than the
       best accuracy found in the grid. Accuracy are often specified on a cell-by-cell basis in grid files.</li>
 </ul>

 The output unit of measurement is the same than the one documented in <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCellValue-int-int-int-"><code>get­Cell­Value(int, int, int)</code></a>.
 In particular if <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#isCellValueRatio--"><code>is­Cell­Value­Ratio()</code></a> returns <code>true</code>, then the accuracy is in
 units of grid cell size.

 <p>This information is used for determining a tolerance threshold in iterative calculation.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An estimation of cell value precision.</dd>
</dl>
</li>
</ul>
<a name="isCellValueRatio--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCellValueRatio</h4>
<pre>public&nbsp;boolean&nbsp;isCellValueRatio()</pre>
<div class="block">Returns <code>true</code> if the translation values in the cells are divided by the cell size.
 If <code>true</code>, then the values returned by <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCellValue-int-int-int-"><code>get­Cell­Value(…)</code></a>,
 <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#getCellMean-int-"><code>get­Cell­Mean(…)</code></a> and <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#interpolateInCell-double-double-double:A-"><code>interpolate­In­Cell(…)</code></a> methods
 are the ratio of the translation divided by the distance between grid cells in the requested
 dimension (<var>Δx</var> or <var>Δy</var> in the <a href="../../../../../org/apache/sis/referencing/datum/DatumShiftGrid.html#DatumShiftGrid-javax.measure.unit.Unit-org.apache.sis.referencing.operation.transform.LinearTransform-int:A-boolean-javax.measure.unit.Unit-">constructor javadoc</a>).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the translation values in the cells are divided by the cell size.</dd>
</dl>
</li>
</ul>
<a name="equals-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre>public&nbsp;boolean&nbsp;equals(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;other)</pre>
<div class="block">Returns <code>true</code> if the given object is a grid containing the same data than this grid.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>other</code> - The other object to compare with this datum shift grid.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the given object is non-null, of the same class than this <code>Datum­Shift­Grid</code>
         and contains the same data.</dd>
</dl>
</li>
</ul>
<a name="hashCode--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>hashCode</h4>
<pre>public&nbsp;int&nbsp;hashCode()</pre>
<div class="block">Returns a hash code value for this datum shift grid.
 This method does not need to compute a hash code from all grid values.
 Comparing some metadata like the grid filename is considered sufficient</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hash­Code</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A hash code based on metadata.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DatumShiftGrid.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/sis/referencing/datum/BursaWolfParameters.html" title="class in org.apache.sis.referencing.datum"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/sis/referencing/datum/DefaultEllipsoid.html" title="class in org.apache.sis.referencing.datum"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/sis/referencing/datum/DatumShiftGrid.html" target="_top">Frames</a></li>
<li><a href="DatumShiftGrid.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2010&#x2013;2016 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
