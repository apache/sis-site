<!DOCTYPE html>
<html lang="en">
<head>


  <title>Apache SIS - Build from source</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
        rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" media="screen" href="./syntax.css">
  <link rel="stylesheet" type="text/css" media="screen" href="./sis.css">
</head>

<body>

<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="./index.html"> Apache SIS™</a>
    <ul class="navbar-nav me-auto mb-2 mb-md-0">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuAbout" data-bs-toggle="dropdown" aria-expanded="false">About</a>
        <ul class="dropdown-menu" aria-labelledby="menuAbout">
          <li><a class="dropdown-item" href="http://www.apache.org/licenses/">License</a></li>
          <li><a class="dropdown-item" href="./mail-lists.html">Mailing Lists</a></li>
          <li><a class="dropdown-item" href="./team-list.html">Project Team</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuDownload" data-bs-toggle="dropdown" aria-expanded="false">Download</a>
        <ul class="dropdown-menu" aria-labelledby="menuDownload">
          <li><a class="dropdown-item" href="./downloads.html">Downloads</a></li>
          <li><a class="dropdown-item" href="./source.html">Checkout Sources</a></li>
          <li><a class="dropdown-item" href="./build.html">Build from Sources</a></li>
          <li><a class="dropdown-item" href="./epsg.html">EPSG Database</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuDocumentation" data-bs-toggle="dropdown" aria-expanded="false">Documentation</a>
        <ul class="dropdown-menu" aria-labelledby="menuDocumentation">
          <li><a class="dropdown-item" href="./apidocs/index.html">Online Javadoc</a></li>
          <li><a class="dropdown-item" href="./book/en/developer-guide.html">Developer Guide</a></li>
          <li><a class="dropdown-item" href="./formats.html">Supported formats</a></li>
          <li><a class="dropdown-item" href="./tables/CoordinateReferenceSystems.html">Supported CRS</a></li>
          <li><a class="dropdown-item" href="./tables/CoordinateOperationMethods.html">Map Projections</a></li>
          <li><a class="dropdown-item" href="./code-patterns.html">Code Patterns</a></li>
          <li><a class="dropdown-item" href="./faq.html">FAQ</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuContribute" data-bs-toggle="dropdown" aria-expanded="false">Contribute</a>
        <ul class="dropdown-menu" aria-labelledby="menuContribute">
          <li><a class="dropdown-item" href="./contributor.html">New Contributor</a></li>
          <li><a class="dropdown-item" href="./coding-conventions.html">Coding Conventions</a></li>
          <li><a class="dropdown-item" href="./mail-lists.html">Mailing Lists</a></li>
          <li><a class="dropdown-item" href="https://issues.apache.org/jira/browse/SIS">Issue Tracker</a></li>
          <li><a class="dropdown-item" href="https://github.com/apache/sis">GitHub mirror</a></li>
          <li><a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/SIS">Wiki</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="./release-management.html">Release management</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuASF" data-bs-toggle="dropdown" aria-expanded="false">The Foundation</a>
        <ul class="dropdown-menu" aria-labelledby="menuASF">
          <li><a class="dropdown-item" href="http://www.apache.org">The Foundation</a></li>
          <li><a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Donate</a></li>
          <li><a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
          <li><a class="dropdown-item" href="http://www.apache.org/security/">Security</a></li>
        </ul>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto mb-2 mb-md-0">
      <li class="nav-item">
        <a href="https://www.apache.org/events/current-event.html">
           <img class="apache-con" src="https://www.apache.org/events/current-event-234x60.png" alt="ApacheCon"/>
        </a>
      </li>
    </ul>
  </div>
</nav>


<div class="row flex-nowrap">
  <div class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark" style="width:13rem; min-height:40rem">
    <ul class="nav nav-pills flex-column mb-auto position-fixed">
      <li><a class="nav-link  text-white " href="./index.html">Home</a></li>
      <li><a class="nav-link text-white" href="http://www.apache.org/licenses/">License</a></li>
      <li><a class="nav-link  text-white " href="./downloads.html">Downloads</a></li>
      <li><a class="nav-link  text-white " href="./standards.html">Standards</a></li>
      <li><a class="nav-link  text-white " href="./formats.html">Data formats</a></li>
      <li><a class="nav-link  text-white " href="./epsg.html">EPSG Database</a></li>
      <li><a class="nav-link  text-white " href="./javafx.html">Application (demo)</a></li>
      <li><a class="nav-link text-white" href="./apidocs/index.html">Online Javadoc</a></li>
      <li><a class="nav-link text-white" href="./book/en/developer-guide.html">Developer Guide</a></li>
      <li><a class="nav-link  text-white " href="./code-patterns.html">Code patterns</a></li>
      <li><a class="nav-link  text-white " href="./faq.html">FAQ</a></li>
    </ul>
  </div>
  <div class="col">
    <main class="container">
      <article>
        <img src="./images/logo.png" class="sis-logo" align="left"/>
        <p class="page-title">Build from source</p>

  <p>Apache <abbr title="Spatial Information System">SIS</abbr> is built by Maven.
It requires Java 17 or higher for building, but the compilation result can be executed on Java 8 or higher.
For installing the JAR files in the local Maven repository, execute the following command
from the SIS project root:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mvn install</span></span></code></pre></div>
<p>The JavaFX application is excluded by default because it depends on
the <a href="https://openjfx.io/">JavaFX platform</a> which is distributed under GPL license
(note that the SIS module stay under Apache 2 licence).
Likewise the <a href="epsg.html">EPSG geodetic dataset</a> is excluded by default for licensing reasons.
For including the JavaFX module and the use of EPSG dataset in the build:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mvn install --activate-profiles javafx,non-free</span></span></code></pre></div>
<p>For signing the artifacts and producing distribution files (<code>apache-sis-bin.zip</code> and <code>apache-sis.oxt</code>),
execute the following command.
Note that it requires an OpenPGP (<em>Open Pretty Good Privacy</em>) software for cryptography signatures
(more information on the <a href="release-management-setup.html#generate-key">release management setup</a> page):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mvn install --activate-profiles apache-release</span></span></code></pre></div>
<p>The remaining of this page provides more advanced tips for SIS developers.</p>
<nav id="TableOfContents">
  <ul>
    <li><a href="#dist">Distribution file  </a>
      <ul>
        <li><a href="#limitations">Known limitations  </a></li>
      </ul>
    </li>
    <li><a href="#build-helper">SIS-specific Maven plugin  </a>
      <ul>
        <li><a href="#resources">Localized resources compiler   </a></li>
        <li><a href="#jar-collect">JAR files collector   </a></li>
      </ul>
    </li>
  </ul>
</nav>
<h1 id="dist">Distribution file  </h1>
<p>The distribution archive is a file with the <code>.zip</code> extension containing most SIS modules except <code>sis-webapp</code>
(because Web applications use another packaging) together with their dependencies.
However for users convenience, we provide shell scripts launching the SIS command line tool or the JavaFX application.
Those shell scripts, together with other files (<code>README</code>, <code>LICENSE</code>, <i>etc.</i>) are bundled in a ZIP file created as below:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> application/sis-console
</span></span><span class="line"><span class="cl">mvn package org.apache.sis.core:sis-build-helper:dist</span></span></code></pre></div>
<p>This task is executed automatically if the <code>apache-release</code> profile is activated at build time.
Above command is for the cases where the developer wants the distribution file without rebuilding the whole project.
The result will be created in the <code>target/​distribution/​apache-​sis-​&lt;version&gt;.zip</code> file.
To test, uncompress in any directory and execute <code>apache-​sis-​&lt;version&gt;/​bin/sis</code>.</p>
<h2 id="limitations">Known limitations  </h2>
<p>The current plugin implementation has some hard-coded values, especially:</p>
<ul>
<li>The ZIP file content is copied from the <code>application/​sis-console/​src/​main/​artifact</code> directory.</li>
<li>The final filename is hard-coded to <code>apache-​sis-​&lt;version&gt;.zip</code>.</li>
</ul>
<h1 id="build-helper">SIS-specific Maven plugin  </h1>
<p>Apache <abbr title="Spatial Information System">SIS</abbr> uses a <code>sis-​build-​helper</code> plugin for SIS-specific tasks and Javadoc customization.
This plugin is used automatically by <code>mvn install</code>. Consequently the remaining of this page
can be safely ignored. This page is provided only as a reference for developers wanting to
take a closer look to SIS <code>pom.xml</code> file.</p>
<h2 id="resources">Localized resources compiler   </h2>
<p>Localized resources are provided in <code>*.properties</code> files as specified by the <code>java.util.Property­Resource­Bundle</code> standard class.
However SIS does not use those resources files directly. Instead <code>*.properties</code> files are transformed into binary files having
the same filename but the <code>.utf</code> extension. This conversion is done for efficiency, for convenience (the compiler applies the
<code>java.text.Message­Format</code> <em>doubled single quotes</em> rule itself), and for compile-time safety.</p>
<p>In addition to generating the <code>*.utf</code> files, the resource compiler may modify the <code>*.java</code> files having the same name than the
resource files. For example given a set of <code>Vocabulary*.properties</code> files (one for each supported language), the compiler will
generate the corresponding <code>Vocabulary*.utf</code> files, then look for a <code>Vocabulary.java</code> source file. If such source file is found
and contains a public static inner class named <code>Keys</code>, then the compiler will rewrite the constants declared in that inner class
with the list of keys found in the <code>Vocabulary*.properties</code> files.</p>
<p>The resource compiler is executed at Maven build time if the <code>pom.xml</code> file contains the following declaration. Note that current
implementation looks only for resources in any package ending with the <code>resources</code> name; all other packages are ignored.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;build&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;plugins&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;plugin&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;groupId&gt;</span>org.apache.sis.core<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;artifactId&gt;</span>sis-build-helper<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;version&gt;</span>${sis.plugin.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;executions&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;execution&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&lt;goals&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;goal&gt;</span>compile-resources<span class="nt">&lt;/goal&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&lt;/goals&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/execution&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;/executions&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/plugin&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/plugins&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/build&gt;</span></span></span></code></pre></div>
<p>The resources compilation is part of the build process and does not need to be run explicitly.
However, if necessary the resources compiler can be invoked alone by the following command line
in the module containing the resources to recompile. This is sometimes useful for regenerating
the constants in the <code>Keys</code> inner class in a feaster way than building the project.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mvn org.apache.sis.core:sis-build-helper:compile-resources</span></span></code></pre></div>
<h2 id="jar-collect">JAR files collector   </h2>
<p>Links or lists all JAR files (including dependencies) in the <code>target/​binaries</code> directory of the parent project.
This plugin performs a work similar to the standard Maven assembly plugin work, with the following differences:</p>
<ul>
<li>In multi-modules projects, this plugin does not create anything in the <code>target</code> directory of sub-modules.
Instead, this plugin groups everything in the <code>target/​binaries</code> directory of the parent module.</li>
<li>This plugin does not create any ZIP file. It only links or lists JAR files.
This plugin uses hard links on platforms that support them,
so execution of this plugin should be very cheap and consume few disk space.</li>
<li>Dependencies already present in the <code>target/​binaries</code> directory are presumed stables and
are not overwritten. Only artifacts produced by the Maven build are unconditionally overwritten.</li>
</ul>
<p>This plugin can be activated by the following fragment in the parent <code>pom.xml</code> file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;build&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;plugins&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;plugin&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;groupId&gt;</span>org.apache.sis.core<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;artifactId&gt;</span>sis-build-helper<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;version&gt;</span>${sis.plugin.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;executions&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;execution&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&lt;goals&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;goal&gt;</span>collect-jars<span class="nt">&lt;/goal&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&lt;/goals&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/execution&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;/executions&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/plugin&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/plugins&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/build&gt;</span></span></span></code></pre></div>


      </article>
    </main>
    <footer class="footer">
    <div class="container">
      <p>
        Copyright &copy; 2013-2022 The Apache Software Foundation, Licensed under the
        <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br/>
        Apache SIS, Apache, the Apache feather logo are trademarks of The Apache Software Foundation.
      </p>
    </div>
</footer>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>

</body>
</html>
