<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (25) on Tue Jan 27 17:52:37 CET 2026 -->
<title>Optimization (Apache SIS 1.6 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2026-01-27">
<meta name="description" content="declaration: module: org.apache.sis.feature, package: org.apache.sis.filter, class: Optimization">
<meta name="generator" content="javadoc/ClassWriter">
<meta name="keywords" content="org.apache.sis.filter.Optimization class">
<meta name="keywords" content="getFeatureType()">
<meta name="keywords" content="setFeatureType()">
<meta name="keywords" content="getFinalFeatureTypes()">
<meta name="keywords" content="setFinalFeatureTypes()">
<meta name="keywords" content="setFinalFeatureType()">
<meta name="keywords" content="findExpectedCRS()">
<meta name="keywords" content="apply()">
<meta name="keywords" content="applyAndDecompose()">
<meta name="keywords" content="warning()">
<meta name="keywords" content="properties()">
<meta name="keywords" content="literal()">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/stylesheet.css">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/sis.css">
<script type="text/javascript" src="../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Optimization.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../new-list.html">New</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../search.html">Search</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="../../../../module-summary.html">org.apache.sis.feature</a></li>
<li><a href="package-summary.html">org.apache.sis.filter</a></li>
<li><a href="Optimization.html" class="current-selection">Optimization</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a>
<ol class="toc-list">
<li><a href="#usage-in-multi-threads-context-heading" tabindex="0">Usage in multi-threads context</a></li>
<li><a href="#how-optimizations-are-applied-heading" tabindex="0">How optimizations are applied</a></li>
<li><a href="#behavioral-changes-heading" tabindex="0">Behavioral changes</a></li>
</ol>
</li>
<li><a href="#nested-class-summary" tabindex="0">Nested Class Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E()" tabindex="0">Optimization()</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#getFeatureType()" tabindex="0">getFeatureType()</a></li>
<li><a href="#setFeatureType(org.apache.sis.feature.DefaultFeatureType)" tabindex="0">setFeatureType(DefaultFeatureType)</a></li>
<li><a href="#getFinalFeatureTypes()" tabindex="0">getFinalFeatureTypes()</a></li>
<li><a href="#setFinalFeatureTypes(java.util.Collection)" tabindex="0">setFinalFeatureTypes(Collection)</a></li>
<li><a href="#setFinalFeatureType(org.apache.sis.feature.DefaultFeatureType)" tabindex="0">setFinalFeatureType(DefaultFeatureType)</a></li>
<li><a href="#findExpectedCRS(org.apache.sis.filter.Expression)" tabindex="0">findExpectedCRS(Expression)</a></li>
<li><a href="#apply(org.apache.sis.filter.Filter)" tabindex="0">apply(Filter)</a></li>
<li><a href="#apply(org.apache.sis.filter.Expression)" tabindex="0">apply(Expression)</a></li>
<li><a href="#applyAndDecompose(org.apache.sis.filter.Filter)" tabindex="0">applyAndDecompose(Filter)</a></li>
<li><a href="#warning(java.lang.Exception,boolean)" tabindex="0">warning(Exception, boolean)</a></li>
<li><a href="#properties(org.apache.sis.filter.Filter)" tabindex="0">properties(Filter)</a></li>
<li><a href="#properties(org.apache.sis.filter.Expression)" tabindex="0">properties(Expression)</a></li>
<li><a href="#literal(V)" tabindex="0">literal(V)</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class Optimization" class="title">Class Optimization</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
<div class="inheritance">Optimization</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">Optimization</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Description of optimizations or simplifications to attempt on filters and expressions.
Optimizations can include the following changes:

<ul>
  <li>Application of some logical identities such as <code>NOT(NOT(A)) == A</code>.</li>
  <li>Application of logical short circuits such as <code>A &amp; FALSE == FALSE</code>.</li>
  <li>Replacement of value references to non-existent properties by null literals.</li>
  <li>Immediate evaluation of expressions where all parameters are literal values.</li>
</ul>

The following options can enable some additional optimizations:

<ul>
  <li>The type of the <code>Feature</code> instances to be filtered.</li>
</ul>

<h2 id="usage-in-multi-threads-context-heading">Usage in multi-threads context</h2>
This class is <strong>not</strong> thread-safe.
A new instance shall be created for each thread applying optimizations. Example:

<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet" id="snippet-org.apache.sis.filter.Optimization1"><code class="language-java">Filter&lt;R&gt; filter = ...;
filter = new Optimization().apply(filter);
</code></pre>
</div>


<h2 id="how-optimizations-are-applied-heading">How optimizations are applied</h2>
Optimizations are specific to each expression and filter type.
For optimizations to happen, classes must implement the <a href="Optimization.OnExpression.html" title="interface in org.apache.sis.filter"><code>Optimization​.On­Expression</code></a> or <a href="Optimization.OnFilter.html" title="interface in org.apache.sis.filter"><code>Optimization​.On­Filter</code></a> interface.
The <a href="#apply(org.apache.sis.filter.Filter)"><code>apply(Filter)</code></a> and <a href="#apply(org.apache.sis.filter.Expression)"><code>apply(Expression)</code></a> methods in this <code>Optimization</code> class merely
delegate to the methods defined in above-cited interfaces, with safety guards against infinite recursion.

<h2 id="behavioral-changes-heading">Behavioral changes</h2>
Optimized filters shall produce the same results as non-optimized filters.
However side-effects may differ, in particular regarding exceptions that may be thrown.
For example, if a filter tests <code>A &amp; B</code> and if <code>Optimization</code> determines that the <code>B</code>
condition will always evaluate to <code>false</code>, then the <code>A</code> condition will never be tested.
If that condition had side-effects or threw an exception,
those effects will disappear in the optimized filter.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.1</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Optimization.OnExpression.html" class="type-name-link" title="interface in org.apache.sis.filter">Optimization​.On­Expression</a>&lt;<a href="Optimization.OnExpression.html#type-param-R" title="type parameter in Optimization.OnExpression">R</a>,<wbr><a href="Optimization.OnExpression.html#type-param-V" title="type parameter in Optimization.OnExpression">V</a>&gt;</code></div>
<div class="col-last even-row-color">
<div class="block">Expression that can be optimized.</div>
</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="Optimization.OnFilter.html" class="type-name-link" title="interface in org.apache.sis.filter">Optimization​.On­Filter</a>&lt;<a href="Optimization.OnFilter.html#type-param-R" title="type parameter in Optimization.OnFilter">R</a>&gt;</code></div>
<div class="col-last odd-row-color">
<div class="block">Filter that can be optimized.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">Optimization</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a new instance.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;R,<wbr>V&gt;&nbsp;<a href="Expression.html" title="interface in org.apache.sis.filter">Expression</a><wbr>&lt;R, ? extends V&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#apply(org.apache.sis.filter.Expression)" class="member-name-link">apply</a><wbr>(<a href="Expression.html" title="interface in org.apache.sis.filter">Expression</a>&lt;R, ? extends V&gt;&nbsp;expression)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Optimizes or simplifies the given expression.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;R&gt;&nbsp;<a href="Filter.html" title="interface in org.apache.sis.filter">Filter</a><wbr>&lt;R&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#apply(org.apache.sis.filter.Filter)" class="member-name-link">apply</a><wbr>(<a href="Filter.html" title="interface in org.apache.sis.filter">Filter</a>&lt;R&gt;&nbsp;filter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Optimizes or simplifies the given filter.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;R&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="Filter.html" title="interface in org.apache.sis.filter">Filter</a>&lt;R&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#applyAndDecompose(org.apache.sis.filter.Filter)" class="member-name-link">apply­And­Decompose</a><wbr>(<a href="Filter.html" title="interface in org.apache.sis.filter">Filter</a>&lt;R&gt;&nbsp;filter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Optimizes or simplifies the given filter and returns it as a list of <code>AND</code> operands.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;<a href="../../../../../org.opengis.geoapi/org/opengis/referencing/crs/CoordinateReferenceSystem.html" title="interface in org.opengis.referencing.crs">Coordinate­Reference­System</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findExpectedCRS(org.apache.sis.filter.Expression)" class="member-name-link">find­Expected­CRS</a><wbr>(<a href="Expression.html" title="interface in org.apache.sis.filter">Expression</a>&lt;?,<wbr>?&gt;&nbsp;parameter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If the specified parameter should always use the same Coordinate Reference System, returns that <abbr>CRS</abbr>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="../feature/DefaultFeatureType.html" title="class in org.apache.sis.feature">Default­Feature­Type</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#getFeatureType()" class="member-name-link">get­Feature­Type</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated, for removal: This API element is subject to removal in a future version.</span>
<div class="deprecation-comment">Replaced by <a href="#getFinalFeatureTypes()"><code>get­Final­Feature­Types()</code></a>.</div>
</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a><wbr>&lt;<a href="../feature/DefaultFeatureType.html" title="class in org.apache.sis.feature">Default­Feature­Type</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFinalFeatureTypes()" class="member-name-link">get­Final­Feature­Types</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the exhaustive set of the types of all feature instances that the filters and expressions may see.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;R,<wbr>V&gt;&nbsp;<a href="Expression.html" title="interface in org.apache.sis.filter">Expression</a><wbr>&lt;R,<wbr>V&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#literal(V)" class="member-name-link">literal</a><wbr>(V&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a constant, literal value that can be used in expressions.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a><wbr>&lt;<a href="../../../../../org.apache.sis.util/org/apache/sis/math/FunctionProperty.html" title="enum class in org.apache.sis.math">Function­Property</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#properties(org.apache.sis.filter.Expression)" class="member-name-link">properties</a><wbr>(<a href="Expression.html" title="interface in org.apache.sis.filter">Expression</a>&lt;?,<wbr>?&gt;&nbsp;expression)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the manner in which values are computed from resources given to the specified expression.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a><wbr>&lt;<a href="../../../../../org.apache.sis.util/org/apache/sis/math/FunctionProperty.html" title="enum class in org.apache.sis.math">Function­Property</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#properties(org.apache.sis.filter.Filter)" class="member-name-link">properties</a><wbr>(<a href="Filter.html" title="interface in org.apache.sis.filter">Filter</a>&lt;?&gt;&nbsp;filter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the manner in which values are computed from resources given to the specified filter.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#setFeatureType(org.apache.sis.feature.DefaultFeatureType)" class="member-name-link">set­Feature­Type</a><wbr>(<a href="../feature/DefaultFeatureType.html" title="class in org.apache.sis.feature">Default­Feature­Type</a>&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated, for removal: This API element is subject to removal in a future version.</span>
<div class="deprecation-comment">Replaced by <a href="#setFinalFeatureTypes(java.util.Collection)"><code>set­Final­Feature­Types(Collection)</code></a>.</div>
</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setFinalFeatureType(org.apache.sis.feature.DefaultFeatureType)" class="member-name-link">set­Final­Feature­Type</a><wbr>(<a href="../feature/DefaultFeatureType.html" title="class in org.apache.sis.feature">Default­Feature­Type</a>&nbsp;type)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies the single type of all feature instances that the filters and expressions may see.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setFinalFeatureTypes(java.util.Collection)" class="member-name-link">set­Final­Feature­Types</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;? extends <a href="../feature/DefaultFeatureType.html" title="class in org.apache.sis.feature">Default­Feature­Type</a>&gt;&nbsp;types)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies the exhaustive set of the types of all feature instances that the filters and expressions may see.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#warning(java.lang.Exception,boolean)" class="member-name-link">warning</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&nbsp;exception,
 boolean&nbsp;resolvable)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Reports that a warning occurred during the execution of an <code>apply(…)</code> method.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#method-summary" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">get­Class</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hash­Code</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notify­All</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">to­String</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>Optimization</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Optimization</span>()</div>
<div class="block">Creates a new instance.</div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getFeatureType()">
<h3>getFeatureType</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Deprecated.html#since()" title="class or interface in java.lang" class="external-link">since</a>="1.6",
            <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Deprecated.html#forRemoval()" title="class or interface in java.lang" class="external-link">forRemoval</a>=true)
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../feature/DefaultFeatureType.html" title="class in org.apache.sis.feature">DefaultFeatureType</a></span>&nbsp;<span class="element-name">getFeatureType</span>()</div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated, for removal: This API element is subject to removal in a future version.</span>
<div class="deprecation-comment">Replaced by <a href="#getFinalFeatureTypes()"><code>get­Final­Feature­Types()</code></a>.</div>
</div>
<div class="block">Returns the type of feature instances to be filtered, or <code>null</code> if unknown.
This is the last value specified by a call to <a href="#setFeatureType(org.apache.sis.feature.DefaultFeatureType)"><code>set­Feature­Type(Default­Feature­Type)</code></a>.
The default value is <code>null</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the type of feature instances to be filtered, or <code>null</code> if unknown.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="setFeatureType(org.apache.sis.feature.DefaultFeatureType)">
<h3>setFeatureType</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Deprecated.html#since()" title="class or interface in java.lang" class="external-link">since</a>="1.6",
            <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Deprecated.html#forRemoval()" title="class or interface in java.lang" class="external-link">forRemoval</a>=true)
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setFeatureType</span><wbr><span class="parameters">(<a href="../feature/DefaultFeatureType.html" title="class in org.apache.sis.feature">DefaultFeatureType</a>&nbsp;type)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated, for removal: This API element is subject to removal in a future version.</span>
<div class="deprecation-comment">Replaced by <a href="#setFinalFeatureTypes(java.util.Collection)"><code>set­Final­Feature­Types(Collection)</code></a>.</div>
</div>
<div class="block">Sets the type of feature instances to be filtered.
If this type is known in advance, specifying it may allow to compute more specific
<a href="../../../../../org.apache.sis.util/org/apache/sis/util/ObjectConverter.html" title="interface in org.apache.sis.util"><code>Object­Converter</code></a>s or to apply some geometry reprojection
in advance.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>type</code> - the type of feature instances to be filtered, or <code>null</code> if unknown.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getFinalFeatureTypes()">
<h3>getFinalFeatureTypes</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../feature/DefaultFeatureType.html" title="class in org.apache.sis.feature">DefaultFeatureType</a>&gt;</span>&nbsp;<span class="element-name">getFinalFeatureTypes</span>()</div>
<div class="block">Returns the exhaustive set of the types of all feature instances that the filters and expressions may see.
The super-types should not be included in the set, unless some features may be instances of these specific
super-types rather than instances of a some sub-type. If the set of feature types is unknown or irrelevant
for the type of resources to be filtered, then this method returns an empty set.

<h4 id="purpose-heading">Purpose</h4>
A <a href="../../../../../org.apache.sis.storage/org/apache/sis/storage/DataStore.html" title="class in org.apache.sis.storage"><code>Data­Store</code></a> may contain a hierarchy of feature types instead of a single type.
A property may be absent in the parent type but present in some sub-types, or may be overridden in sub-types.
If an optimization wants to evaluate once and for all an expression with literal parameters, the optimization
needs to verify that the parameters are really literals in all possible sub-types.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>exhaustive set of types of all feature instances that the filters and expressions may see.</dd>
<dt>Since:</dt>
<dd>1.6</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="setFinalFeatureTypes(java.util.Collection)">
<h3>setFinalFeatureTypes</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setFinalFeatureTypes</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;? extends <a href="../feature/DefaultFeatureType.html" title="class in org.apache.sis.feature">DefaultFeatureType</a>&gt;&nbsp;types)</span></div>
<div class="block">Specifies the exhaustive set of the types of all feature instances that the filters and expressions may see.
The given collection should not include super-types, unless some features may be instances of these specific
super-types rather than instances of a some sub-type. An empty collection means that feature types are unknown
or irrelevant for the type of resources to be filtered.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>types</code> - exhaustive set of types of all feature instances that the filters and expressions may see.</dd>
<dt>Since:</dt>
<dd>1.6</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="setFinalFeatureType(org.apache.sis.feature.DefaultFeatureType)">
<h3>setFinalFeatureType</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setFinalFeatureType</span><wbr><span class="parameters">(<a href="../feature/DefaultFeatureType.html" title="class in org.apache.sis.feature">DefaultFeatureType</a>&nbsp;type)</span></div>
<div class="block">Specifies the single type of all feature instances that the filters and expressions may see.
This is a convenience method delegating to <a href="#setFinalFeatureTypes(java.util.Collection)"><code>set­Final­Feature­Types(Collection)</code></a> with a
singleton or empty set.

<p>Note that the given type should be effectively final, i.e. no subtype should exist.
If the feature instances may be of some subtypes, then all subtypes should be enumerated
in a call to <a href="#setFinalFeatureTypes(java.util.Collection)"><code>set­Final­Feature­Types(Collection)</code></a>.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>type</code> - the type of feature instances to be filtered, or <code>null</code> if unknown.</dd>
<dt>Since:</dt>
<dd>1.6</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="findExpectedCRS(org.apache.sis.filter.Expression)">
<h3>findExpectedCRS</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../../../../../org.opengis.geoapi/org/opengis/referencing/crs/CoordinateReferenceSystem.html" title="interface in org.opengis.referencing.crs">CoordinateReferenceSystem</a>&gt;</span>&nbsp;<span class="element-name">findExpectedCRS</span><wbr><span class="parameters">(<a href="Expression.html" title="interface in org.apache.sis.filter">Expression</a>&lt;?,<wbr>?&gt;&nbsp;parameter)</span>
                                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block">If the specified parameter should always use the same Coordinate Reference System, returns that <abbr>CRS</abbr>.
The <code>parameter</code> argument is usually one of the elements returned by <a href="Expression.html#getParameters()"><code>Expression​.get­Parameters()</code></a> or
<a href="Filter.html#getExpressions()"><code>Filter​.get­Expressions()</code></a>, and the <abbr>CRS</abbr> used by that parameter may depend on the feature types
declared by <a href="#getFinalFeatureTypes()"><code>get­Final­Feature­Types()</code></a>.
The returned value is empty if the <abbr>CRS</abbr> is unknown or not the same for all feature types.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>parameter</code> - a parameter of a filter or expression.</dd>
<dt>Returns:</dt>
<dd>the <abbr>CRS</abbr> expected for the specified parameter, or empty if unknown of not unique.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">Illegal­Argument­Exception</a></code> - if the parameter is a <code>Value­Reference</code> and
        the referenced property has not been found in at least one feature type.</dd>
<dt>Since:</dt>
<dd>1.6</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="apply(org.apache.sis.filter.Filter)">
<h3>apply</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;R&gt;</span>&nbsp;<span class="return-type"><a href="Filter.html" title="interface in org.apache.sis.filter">Filter</a>&lt;R&gt;</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="Filter.html" title="interface in org.apache.sis.filter">Filter</a>&lt;R&gt;&nbsp;filter)</span></div>
<div class="block">Optimizes or simplifies the given filter. If the given instance implements the <a href="Optimization.OnFilter.html" title="interface in org.apache.sis.filter"><code>Optimization​.On­Filter</code></a> interface,
then its <code>optimize(this)</code> method is invoked. Otherwise this method returns the given filter as-is.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><span id="apply(org.apache.sis.filter.Filter)-type-param-R"><code>R</code> - the type of resources (e.g. <code>Feature</code>) used as inputs.</span></dd>
<dt>Parameters:</dt>
<dd><code>filter</code> - the filter to optimize, or <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>the optimized filter, or <code>null</code> if the given filter was null.
        May be <code>filter</code> if no optimization or simplification has been applied.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">Illegal­Argument­Exception</a></code> - if the given filter is already in process of being optimized
        (i.e. there is a recursive call to <code>apply(…)</code> for the same filter).</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="apply(org.apache.sis.filter.Expression)">
<h3>apply</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;R,<wbr>V&gt;</span>&nbsp;<span class="return-type"><a href="Expression.html" title="interface in org.apache.sis.filter">Expression</a>&lt;R, ? extends V&gt;</span>&nbsp;<span class="element-name">apply</span><wbr><span class="parameters">(<a href="Expression.html" title="interface in org.apache.sis.filter">Expression</a>&lt;R, ? extends V&gt;&nbsp;expression)</span></div>
<div class="block">Optimizes or simplifies the given expression. If the given instance implements the <a href="Optimization.OnExpression.html" title="interface in org.apache.sis.filter"><code>Optimization​.On­Expression</code></a>
interface, then its <code>optimize(this)</code> method is invoked. Otherwise this method returns the given
expression as-is.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><span id="apply(org.apache.sis.filter.Expression)-type-param-R"><code>R</code> - the type of resources (e.g. <code>Feature</code>) used as inputs.</span></dd>
<dd><span id="apply(org.apache.sis.filter.Expression)-type-param-V"><code>V</code> - the type of values computed by the expression.</span></dd>
<dt>Parameters:</dt>
<dd><code>expression</code> - the expression to optimize, or <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>the optimized expression, or <code>null</code> if the given expression was null.
        May be <code>expression</code> if no optimization or simplification has been applied.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">Illegal­Argument­Exception</a></code> - if the given expression is already in process of being optimized
        (i.e. there is a recursive call to <code>apply(…)</code> for the same expression).</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="applyAndDecompose(org.apache.sis.filter.Filter)">
<h3>applyAndDecompose</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;R&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Filter.html" title="interface in org.apache.sis.filter">Filter</a>&lt;R&gt;&gt;</span>&nbsp;<span class="element-name">applyAndDecompose</span><wbr><span class="parameters">(<a href="Filter.html" title="interface in org.apache.sis.filter">Filter</a>&lt;R&gt;&nbsp;filter)</span></div>
<div class="block">Optimizes or simplifies the given filter and returns it as a list of <code>AND</code> operands.
If such list cannot be built, then this method returns the optimized filter in a singleton list.

<h4 id="use-case-heading">Use case</h4>
This method tries to transform a filter into a <code>F₀ AND F₁ AND F₂ AND F₃ AND ...</code> sequence.
This transformation is useful when some operands can be handled by the storage engine
(for example a SQL database) and other operands cannot.
For example, when reading features from a relational database,
the implementation may choose to express the F₁ and F₃ operands as SQL statements
and apply the other operands in Java code.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><span id="applyAndDecompose(org.apache.sis.filter.Filter)-type-param-R"><code>R</code> - the type of resources (e.g. <code>Feature</code>) used as inputs.</span></dd>
<dt>Parameters:</dt>
<dd><code>filter</code> - the filter to decompose.</dd>
<dt>Returns:</dt>
<dd>a sequence of <code>AND</code> operands, or an empty list if the given filter was null.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ClassCastException.html" title="class or interface in java.lang" class="external-link">Class­Cast­Exception</a></code> - if a filter declares the <code>AND</code>, <code>OR</code> or <code>NOT</code> type
        without implementing the <code>Logical­Operator</code> interface.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="warning(java.lang.Exception,boolean)">
<h3>warning</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">warning</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&nbsp;exception,
 boolean&nbsp;resolvable)</span></div>
<div class="block">Reports that a warning occurred during the execution of an <code>apply(…)</code> method.
This method can be invoked by implementations of <a href="Optimization.OnFilter.html" title="interface in org.apache.sis.filter"><code>Optimization​.On­Filter</code></a> or <a href="Optimization.OnExpression.html" title="interface in org.apache.sis.filter"><code>Optimization​.On­Expression</code></a> interfaces.
The exception if often a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link"><code>Illegal­Argument­Exception</code></a>, which is not necessarily an error because
a property may not exist in a base feature type but exists in some sub-types.

<p>If the <code>resolvable</code> flag is <code>true</code>, it will be taken as a hint to retry the optimization
later if more information about the <a href="#getFinalFeatureTypes()"><code>final feature types</code></a> become available.
This flag should be <code>false</code> if more information would not have a direct impact on the optimization
done by the caller. Callers do not need to care about indirect impacts in the parameters of the filter or
expression.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>exception</code> - the recoverable exception that occurred.</dd>
<dd><code>resolvable</code> - whether an optimization with more information may avoid this warning.</dd>
<dt>Since:</dt>
<dd>1.6</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="properties(org.apache.sis.filter.Filter)">
<h3>properties</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../../../../../org.apache.sis.util/org/apache/sis/math/FunctionProperty.html" title="enum class in org.apache.sis.math">FunctionProperty</a>&gt;</span>&nbsp;<span class="element-name">properties</span><wbr><span class="parameters">(<a href="Filter.html" title="interface in org.apache.sis.filter">Filter</a>&lt;?&gt;&nbsp;filter)</span></div>
<div class="block">Returns the manner in which values are computed from resources given to the specified filter.
This set of properties may determine which optimizations are allowed.
The values of particular interest are:

<ul>
  <li><a href="../../../../../org.apache.sis.util/org/apache/sis/math/FunctionProperty.html#VOLATILE"><code>Function­Property​.VOLATILE</code></a> if the computed value changes each time that the filter is evaluated,
      even if the resource to evaluate stay the same immutable instance.</li>
</ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>filter</code> - the filter for which to query function properties.</dd>
<dt>Returns:</dt>
<dd>the manners in which values are computed from resources.</dd>
<dt>Since:</dt>
<dd>1.4</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="properties(org.apache.sis.filter.Expression)">
<h3>properties</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../../../../../org.apache.sis.util/org/apache/sis/math/FunctionProperty.html" title="enum class in org.apache.sis.math">FunctionProperty</a>&gt;</span>&nbsp;<span class="element-name">properties</span><wbr><span class="parameters">(<a href="Expression.html" title="interface in org.apache.sis.filter">Expression</a>&lt;?,<wbr>?&gt;&nbsp;expression)</span></div>
<div class="block">Returns the manner in which values are computed from resources given to the specified expression.
This set of properties may determine which optimizations are allowed.
The values of particular interest are:

<ul>
  <li><a href="../../../../../org.apache.sis.util/org/apache/sis/math/FunctionProperty.html#INJECTIVE"><code>Function­Property​.INJECTIVE</code></a> if the computed value is unique for each resource instance (e.g. identifiers).</li>
  <li><a href="../../../../../org.apache.sis.util/org/apache/sis/math/FunctionProperty.html#VOLATILE"><code>Function­Property​.VOLATILE</code></a> if the computed value changes each time that the expression is evaluated,
      even if the resource to evaluate stay the same immutable instance.</li>
  <li><a href="../../../../../org.apache.sis.util/org/apache/sis/math/FunctionProperty.html#isConstant(java.util.Set)"><code>Function­Property​.is­Constant(Set)</code></a> if the expression returns a constant value.</li>
</ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>expression</code> - the expression for which to query function properties.</dd>
<dt>Returns:</dt>
<dd>the manners in which values are computed from resources.</dd>
<dt>Since:</dt>
<dd>1.4</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="literal(V)">
<h3 id="literal(java.lang.Object)">literal</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;R,<wbr>V&gt;</span>&nbsp;<span class="return-type"><a href="Expression.html" title="interface in org.apache.sis.filter">Expression</a>&lt;R,<wbr>V&gt;</span>&nbsp;<span class="element-name">literal</span><wbr><span class="parameters">(V&nbsp;value)</span></div>
<div class="block">Creates a constant, literal value that can be used in expressions.
This is a helper methods for optimizations which simplified an expression to a constant value.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><span id="literal(V)-type-param-R"><code>R</code> - the type of resources used as inputs.</span></dd>
<dd><span id="literal(V)-type-param-V"><code>V</code> - the type of the value of the literal.</span></dd>
<dt>Parameters:</dt>
<dd><code>value</code> - the literal value. May be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>a literal for the given value.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="DefaultFilterFactory.html#literal(V)"><code>Default­Filter­Factory​.literal(Object)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</body>
</html>
