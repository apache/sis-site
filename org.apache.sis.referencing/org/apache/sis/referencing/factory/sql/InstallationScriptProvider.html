<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Thu Oct 05 19:54:57 CEST 2023 -->
<title>InstallationScriptProvider (Apache SIS 1.4 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-10-05">
<meta name="description" content="declaration: module: org.apache.sis.referencing, package: org.apache.sis.referencing.factory.sql, class: InstallationScriptProvider">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="org.apache.sis.referencing.factory.sql.InstallationScriptProvider class">
<meta name="keywords" content="PREPARE">
<meta name="keywords" content="FINISH">
<meta name="keywords" content="getAuthorities()">
<meta name="keywords" content="getResourceNames()">
<meta name="keywords" content="openScript()">
<meta name="keywords" content="openStream()">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../sis.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="../../../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../../../module-summary.html">org.apache.sis.referencing</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.sis.referencing.factory.sql</a></div>
<h1 title="Class InstallationScriptProvider" class="title">Class InstallationScriptProvider</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
<div class="inheritance"><a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html" title="class in org.apache.sis.setup">InstallationResources</a>
<div class="inheritance">InstallationScriptProvider</div>
</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">InstallationScriptProvider</span>
<span class="extends-implements">extends <a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html" title="class in org.apache.sis.setup">InstallationResources</a></span></div>
<div class="block">Provides SQL scripts needed for creating a local copy of a dataset. This class allows Apache SIS users
 to bundle the EPSG or other datasets in their own product for automatic installation when first needed.
 Implementations of this class are discovered automatically by <a href="EPSGFactory.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGFactory</code></a> if they are declared
 in <code>module-info​.java</code> as providers of the <code>org​.apache​.sis​.setup​.Installation­Resources</code> service.

 <h2 id="how-this-class-is-used-heading">How this class is used</h2>
 The first time that an <a href="EPSGDataAccess.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGData­Access</code></a> needs to be instantiated,
 <a href="EPSGFactory.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGFactory</code></a> verifies if the EPSG database exists. If it does not, then:
 <ol>
   <li><a href="EPSGFactory.html#install(java.sql.Connection)"><code>EPSGFactory​.install(Connection)</code></a> searches for the first instance of <a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html" title="class in org.apache.sis.setup"><code>Installation­Resources</code></a>
       (the parent of this class) for which the <a href="#getAuthorities()">set of authorities</a> contains <code>"EPSG"</code>.</li>
   <li>The <a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html#getLicense(java.lang.String,java.util.Locale,java.lang.String)">license</a> may be shown to the user if the application allows that
       (for example when running as a <a href="../../../../../../../org.apache.sis.console/org/apache/sis/console/package-summary.html">console application</a>).</li>
   <li>If the installation process is allowed to continue, it will iterate over all readers provided by
       <a href="#openScript(java.lang.String,int)"><code>open­Script(String, int)</code></a> and execute the SQL statements (not necessarily verbatim;
       the installation process may adapt to the target database).</li>
 </ol></div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.7</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#FINISH" class="member-name-link">FINISH</a></code></div>
<div class="col-last even-row-color">
<div class="block">A sentinel value for the content of the script to execute after the SQL scripts provided by the authority.</div>
</div>
<div class="col-first odd-row-color"><code>protected static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#PREPARE" class="member-name-link">PREPARE</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A sentinel value for the content of the script to execute before the SQL scripts provided by the authority.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.String,java.lang.String...)" class="member-name-link">Installation­Script­Provider</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authority,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;resources)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a new provider which will read script files of the given names in that order.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAuthorities()" class="member-name-link">get­Authorities</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the identifiers of the dataset installed by the SQL scripts.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getResourceNames(java.lang.String)" class="member-name-link">get­Resource­Names</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authority)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the names of all SQL scripts to execute.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/BufferedReader.html" title="class or interface in java.io" class="external-link">Buffered­Reader</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#openScript(java.lang.String,int)" class="member-name-link">open­Script</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authority,
 int&nbsp;resource)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a reader for the SQL script at the given index.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">Input­Stream</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#openStream(java.lang.String)" class="member-name-link">open­Stream</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Opens the input stream for the SQL script of the given name.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-InstallationResources">Methods inherited from class&nbsp;<a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html" title="class in org.apache.sis.setup">InstallationResources</a></h3>
<code><a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html#getInstructionURL()">get­Instruction­URL</a>, <a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html#getLicense(java.lang.String,java.util.Locale,java.lang.String)">get­License</a>, <a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html#getResource(java.lang.String,int)">get­Resource</a>, <a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html#load()">load</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">get­Class</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hash­Code</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notify­All</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">to­String</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="PREPARE">
<h3>PREPARE</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">PREPARE</span></div>
<div class="block">A sentinel value for the content of the script to execute before the SQL scripts provided by the authority.
 This is an Apache SIS build-in script for constraining the values of some <code>VARCHAR</code> columns
 to enumerations of values recognized by <a href="EPSGDataAccess.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGData­Access</code></a>. Those enumerations are not required
 for proper working of <a href="EPSGFactory.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGFactory</code></a>, but can improve data integrity.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../../../constant-values.html#org.apache.sis.referencing.factory.sql.InstallationScriptProvider.PREPARE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="FINISH">
<h3>FINISH</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">FINISH</span></div>
<div class="block">A sentinel value for the content of the script to execute after the SQL scripts provided by the authority.
 This is an Apache SIS build-in script for creating indexes or performing any other manipulation that help
 SIS to use the dataset. Those indexes are not required for proper working of <a href="EPSGFactory.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGFactory</code></a>,
 but can significantly improve performances.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../../../constant-values.html#org.apache.sis.referencing.factory.sql.InstallationScriptProvider.FINISH">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String,java.lang.String...)">
<h3>InstallationScriptProvider</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">InstallationScriptProvider</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authority,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;resources)</span></div>
<div class="block">Creates a new provider which will read script files of the given names in that order.
 The given names are often filenames, but not necessarily
 (it is okay to use those names only as labels).

 <table class="sis">
   <caption>Typical argument values</caption>
   <tr>
     <th>Authority</th>
     <th class="sep">Argument values</th>
   </tr><tr>
     <td><code>EPSG</code></td>
     <td class="sep"><code>
       {<a href="#PREPARE">PREPARE</a>, "EPSG_Tables.sql", "EPSG_Data.sql", "EPSG_FKeys.sql", <a href="#FINISH">FINISH</a>}
     </code></td>
   </tr>
 </table></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>authority</code> - the authority (typically <code>"EPSG"</code>), or <code>null</code> if not available.</dd>
<dd><code>resources</code> - names of the SQL scripts to read.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#getResourceNames(java.lang.String)"><code>get­Resource­Names(String)</code></a></li>
<li><a href="#openStream(java.lang.String)"><code>open­Stream(String)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getAuthorities()">
<h3>getAuthorities</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getAuthorities</span>()</div>
<div class="block">Returns the identifiers of the dataset installed by the SQL scripts.
 The values currently recognized by SIS are:

 <ul>
   <li><code>"EPSG"</code> for the EPSG geodetic dataset.</li>
 </ul>

 The default implementation returns the authority given at construction time, or an empty set
 if that authority was <code>null</code>. An empty set means that the provider does not have all
 needed resources or does not have permission to distribute the installation scripts.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html#getAuthorities()">get­Authorities</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html" title="class in org.apache.sis.setup">Installation­Resources</a></code></dd>
<dt>Returns:</dt>
<dd>identifiers of SQL scripts that this instance can distribute.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getResourceNames(java.lang.String)">
<h3>getResourceNames</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</span>&nbsp;<span class="element-name">getResourceNames</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authority)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Returns the names of all SQL scripts to execute.
 This is a copy of the array of names given to the constructor.
 Those names are often filenames, but not necessarily (they may be just labels).</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html#getResourceNames(java.lang.String)">get­Resource­Names</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html" title="class in org.apache.sis.setup">Installation­Resources</a></code></dd>
<dt>Parameters:</dt>
<dd><code>authority</code> - the value given at construction time (e.g. <code>"EPSG"</code>).</dd>
<dt>Returns:</dt>
<dd>the names of all SQL scripts to execute.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">Illegal­Argument­Exception</a></code> - if the given <code>authority</code> argument is not the expected value.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if fetching the script names required an I/O operation and that operation failed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="openScript(java.lang.String,int)">
<h3>openScript</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/BufferedReader.html" title="class or interface in java.io" class="external-link">BufferedReader</a></span>&nbsp;<span class="element-name">openScript</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authority,
 int&nbsp;resource)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Returns a reader for the SQL script at the given index. Contents may be read from files in a local directory,
 or from resources in a JAR file, or from entries in a ZIP file, or any other means at implementer choice.
 The <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/BufferedReader.html" title="class or interface in java.io" class="external-link"><code>Buffered­Reader</code></a> instances shall be closed by the caller.

 <h4 id="epsg-case-heading">EPSG case</h4>
 In the EPSG dataset case, the iterator should return <code>Buffered­Reader</code> instances for the following files
 (replace <code>&lt;version&gt;</code> by the EPSG version number and <code>&lt;product&gt;</code> by the target database) in same order.
 The first and last files are provided by Apache SIS.
 All other files can be downloaded from <a href="https://epsg.org/">https://epsg.org/</a>.

 <ol>
   <li>Content of <a href="#PREPARE"><code>PREPARE</code></a>, an optional data definition script that define the enumerations expected by <a href="EPSGDataAccess.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGData­Access</code></a>.</li>
   <li>Content of <code>"EPSG_&lt;version&gt;.mdb_Tables_&lt;product&gt;.sql"</code>, a data definition script that create empty tables.</li>
   <li>Content of <code>"EPSG_&lt;version&gt;.mdb_Data_&lt;product&gt;.sql"</code>, a data manipulation script that populate the tables.</li>
   <li>Content of <code>"EPSG_&lt;version&gt;.mdb_FKeys_&lt;product&gt;.sql"</code>, a data definition script that create foreigner key constraints.</li>
   <li>Content of <a href="#FINISH"><code>FINISH</code></a>, an optional data definition and data control script that create indexes and set permissions.</li>
 </ol>

 Implementers are free to return a different set of scripts with equivalent content.

 <h4 id="default-implementation-heading">Default implementation</h4>
 The default implementation invokes <a href="#openStream(java.lang.String)"><code>open­Stream(String)</code></a> – except for <a href="#PREPARE"><code>PREPARE</code></a> and <a href="#FINISH"><code>FINISH</code></a>
 in which case an Apache SIS build-in script is used – and wrap the result in a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/LineNumberReader.html" title="class or interface in java.io" class="external-link"><code>Line­Number­Reader</code></a>.
 The file encoding is UTF-8 (the encoding used in the scripts distributed by EPSG since version 9.4).</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html#openScript(java.lang.String,int)">open­Script</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../org.apache.sis.util/org/apache/sis/setup/InstallationResources.html" title="class in org.apache.sis.setup">Installation­Resources</a></code></dd>
<dt>Parameters:</dt>
<dd><code>authority</code> - the value given at construction time (e.g. <code>"EPSG"</code>).</dd>
<dd><code>resource</code> - index of the SQL script to read, from 0 inclusive to
         <code><a href="#getResourceNames(java.lang.String)">get­Resource­Names</a>(authority)​.length</code> exclusive.</dd>
<dt>Returns:</dt>
<dd>a reader for the content of SQL script to execute.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">Illegal­Argument­Exception</a></code> - if the given <code>authority</code> argument is not the expected value.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IndexOutOfBoundsException.html" title="class or interface in java.lang" class="external-link">Index­Out­Of­Bounds­Exception</a></code> - if the given <code>resource</code> argument is out of bounds.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/FileNotFoundException.html" title="class or interface in java.io" class="external-link">File­Not­Found­Exception</a></code> - if the SQL script of the given name has not been found.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if an error occurred while creating the reader.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="openStream(java.lang.String)">
<h3>openStream</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a></span>&nbsp;<span class="element-name">openStream</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span>
                                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Opens the input stream for the SQL script of the given name.
 This method is invoked by the default implementation of <a href="#openScript(java.lang.String,int)"><code>open­Script(String, int)</code></a>
 for all scripts except <a href="#PREPARE"><code>PREPARE</code></a> and <a href="#FINISH"><code>FINISH</code></a>.

 <h4 id="example-1-heading">Example 1</h4>
 if this <code>Installation­Script­Provider</code> instance gets the SQL scripts from files in a well-known directory
 and if the names given at <a href="#%3Cinit%3E(java.lang.String,java.lang.String...)">construction time</a> are the
 filenames in that directory, then this method can be implemented as below:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">     protected InputStream openStream(String name) throws IOException {
         return Files.newInputStream(directory.resolve(name));
     }
</code></pre>
</div>


 <h4 id="example-2-heading">Example 2</h4>
 if this <code>Installation­Script­Provider</code> instance rather gets the SQL scripts from resources bundled
 in the same JAR files than and in the same package, then this method can be implemented as below:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">     protected InputStream openStream(String name) {
         return MyClass.getResourceAsStream(name);
     }
</code></pre>
</div>
</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - name of the script file to open. Can be <code>null</code> if the resource is not found.</dd>
<dt>Returns:</dt>
<dd>an input stream opened of the given script file.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if an error occurred while opening the file.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
