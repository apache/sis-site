<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (24) on Mon Sep 29 10:48:08 CEST 2025 -->
<title>TransformJoiner (Apache SIS 1.5 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-09-29">
<meta name="description" content="declaration: module: org.apache.sis.referencing, package: org.apache.sis.referencing.operation.transform, class: TransformJoiner">
<meta name="generator" content="javadoc/ClassWriter">
<meta name="keywords" content="org.apache.sis.referencing.operation.transform.TransformJoiner class">
<meta name="keywords" content="factory">
<meta name="keywords" content="getTransform()">
<meta name="keywords" content="replace()">
<meta name="keywords" content="replaceRoundtrip()">
<meta name="keywords" content="replacePassThrough()">
<link rel="stylesheet" type="text/css" href="../../../../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../resource-files/stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../resource-files/sis.css" title="Style">
<script type="text/javascript" src="../../../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/TransformJoiner.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../new-list.html">New</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../search.html">Search</a></li>
<li><a href="../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="../../../../../../module-summary.html">org.apache.sis.referencing</a></li>
<li><a href="package-summary.html">org.apache.sis.referencing.operation.transform</a></li>
<li><a href="TransformJoiner.html" class="current-selection">TransformJoiner</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;
<input type="text" class="filter-input" disabled placeholder="Filter" aria-label="Filter table of contents" autocomplete="off">
<input type="reset" class="reset-filter" disabled value="Reset">
</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a>
<ol class="toc-list">
<li><a href="#usage-heading" tabindex="0">Usage</a></li>
</ol>
</li>
<li><a href="#field-summary" tabindex="0">Field Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#field-detail" tabindex="0">Field Details</a>
<ol class="toc-list">
<li><a href="#factory" tabindex="0">factory</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#getTransform(int)" tabindex="0">getTransform(int)</a></li>
<li><a href="#replace(int,org.opengis.referencing.operation.MathTransform)" tabindex="0">replace(int, MathTransform)</a></li>
<li><a href="#replace(int,int,org.opengis.referencing.operation.MathTransform)" tabindex="0">replace(int, int, MathTransform)</a></li>
<li><a href="#replaceRoundtrip(int,java.util.function.UnaryOperator)" tabindex="0">replaceRoundtrip(int, UnaryOperator)</a></li>
<li><a href="#replacePassThrough(java.util.Map)" tabindex="0">replacePassThrough(Map)</a></li>
</ol>
</li>
</ol>
</nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class TransformJoiner" class="title">Class TransformJoiner</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
<div class="inheritance">TransformJoiner</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">TransformJoiner</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Handler used during concatenations for simplifying a single transform with its neighbor transforms.
 Instances of <code>Transform­Joiner</code> may be created automatically by Apache <abbr>SIS</abbr> at any
 step during a <a href="MathTransforms.html#concatenate(org.opengis.referencing.operation.MathTransform,org.opengis.referencing.operation.MathTransform)">concatenation</a>.
 Those <code>Transform­Joiner</code> instances give to <a href="AbstractMathTransform.html" title="class in org.apache.sis.referencing.operation.transform"><code>Abstract­Math­Transform</code></a> implementations
 an opportunity to replace the default concatenation algorithm by an optimized alternative.
 Some examples of optimizations are:

 <ul>
   <li>detecting when two consecutive non-linear operations are equivalent to a third non-linear operation,</li>
   <li>modifying the linear transforms that are executed before or after the transform to optimize
       (it is sometime possible to remove a transform step that way).</li>
 </ul>

 Because the simplifications that are possible depend on the transform's formulas,
 each <a href="AbstractMathTransform.html" title="class in org.apache.sis.referencing.operation.transform"><code>Abstract­Math­Transform</code></a> subclass uses <code>Transform­Joiner</code> in a different way.

 <h2 id="usage-heading">Usage</h2>
 This class is used by overriding the <a href="AbstractMathTransform.html#tryConcatenate(org.apache.sis.referencing.operation.transform.TransformJoiner)"><code>Abstract­Math­Transform​.try­Concatenate(Transform­Joiner)</code></a> method.
 The implementation can inspect the surrounding transforms with calls to <a href="#getTransform(int)"><code>get­Transform(int)</code></a>.
 The argument given to <code>get­Transform(…)</code> is a relative index:
 value 0 identifies the transform on which <code>try­Concatenate(…)</code> has been invoked,
 -1 the transform immediately before it, and +1 the transform immediately after it.
 The <code>try­Concatenate(…)</code> implementation can replace the transform at relative index 0 together with
 a neighbor transform (at relative index -1 or +1) by a call to <a href="#replace(int,org.opengis.referencing.operation.MathTransform)"><code>replace(int, Math­Transform)</code></a>.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.5</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="AbstractMathTransform.html#tryConcatenate(org.apache.sis.referencing.operation.transform.TransformJoiner)"><code>Abstract­Math­Transform​.try­Concatenate(Transform­Joiner)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>final <a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/referencing/operation/MathTransformFactory.html" title="class or interface in org.opengis.referencing.operation" class="external-link">Math­Transform­Factory</a></code></div>
<div class="col-second even-row-color"><code><a href="#factory" class="member-name-link">factory</a></code></div>
<div class="col-last even-row-color">
<div class="block">The factory to use for creating the transform to use as a replacement of the transforms to simplify.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;<a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/referencing/operation/MathTransform.html" title="class or interface in org.opengis.referencing.operation" class="external-link">Math­Transform</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTransform(int)" class="member-name-link">get­Transform</a><wbr>(int&nbsp;relative­Index)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a transform before or after the transform to simplify.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#replace(int,int,org.opengis.referencing.operation.MathTransform)" class="member-name-link">replace</a><wbr>(int&nbsp;from,
 int&nbsp;to,
 <a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/referencing/operation/MathTransform.html" title="class or interface in org.opengis.referencing.operation" class="external-link">Math­Transform</a>&nbsp;concatenation)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Tries to replace the transforms in the given range of relative indices, which must include 0.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#replace(int,org.opengis.referencing.operation.MathTransform)" class="member-name-link">replace</a><wbr>(int&nbsp;first­Or­Last,
 <a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/referencing/operation/MathTransform.html" title="class or interface in org.opengis.referencing.operation" class="external-link">Math­Transform</a>&nbsp;concatenation)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Tries to replace the transform at relative index 0, together with a neighbor, by the given transform.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#replacePassThrough(java.util.Map)" class="member-name-link">replace­Pass­Through</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;dimensions)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Tries to simplify the transform chain when some coordinates are passed-through the transform at index 0.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#replaceRoundtrip(int,java.util.function.UnaryOperator)" class="member-name-link">replace­Roundtrip</a><wbr>(int&nbsp;middle,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/function/UnaryOperator.html" title="class or interface in java.util.function" class="external-link">Unary­Operator</a>&lt;<a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/referencing/operation/MathTransform.html" title="class or interface in org.opengis.referencing.operation" class="external-link">Math­Transform</a>&gt;&nbsp;mapper)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Tries to replace a <var>forward</var> → <var>middle</var> → <var>inverse</var> chain by a new transform.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">get­Class</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hash­Code</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notify­All</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">to­String</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="factory">
<h3>factory</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/referencing/operation/MathTransformFactory.html" title="class or interface in org.opengis.referencing.operation" class="external-link">MathTransformFactory</a></span>&nbsp;<span class="element-name">factory</span></div>
<div class="block">The factory to use for creating the transform to use as a replacement of the transforms to simplify.
 Never null.</div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getTransform(int)">
<h3>getTransform</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/referencing/operation/MathTransform.html" title="class or interface in org.opengis.referencing.operation" class="external-link">MathTransform</a>&gt;</span>&nbsp;<span class="element-name">getTransform</span><wbr><span class="parameters">(int&nbsp;relativeIndex)</span></div>
<div class="block">Returns a transform before or after the transform to simplify. By definition, invoking this method
 with a relative index of 0 always returns the transform on which <code>try­Concatenate(…)</code> has been invoked.
 A relative index of -1 returns the previous transform while a relative index of +1 returns the next transform.

 <p>This method may return an empty value if the requested transform is not available from this
 <code>Transform­Joiner</code> instance. It does not mean that the transform does not exist at all in
 the complete chain of transforms, because each <code>Transform­Joiner</code> instance may know only
 a fragment of that chain.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>relative­Index</code> - index relative to the transform on which <code>try­Concatenate(…)</code> has been invoked.</dd>
<dt>Returns:</dt>
<dd>the requested transform. An empty value does not necessarily mean that the transform does not exist.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="replace(int,org.opengis.referencing.operation.MathTransform)">
<h3>replace</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">replace</span><wbr><span class="parameters">(int&nbsp;firstOrLast,
 <a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/referencing/operation/MathTransform.html" title="class or interface in org.opengis.referencing.operation" class="external-link">MathTransform</a>&nbsp;concatenation)</span>
                throws <span class="exceptions"><a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/util/FactoryException.html" title="class or interface in org.opengis.util" class="external-link">FactoryException</a></span></div>
<div class="block">Tries to replace the transform at relative index 0, together with a neighbor, by the given transform.
 The <code>first­Or­Last</code> argument specifies which neighbors are replaced by the specified transform:

 <ul class="verbose">
   <li>If -1, then transforming a point <var>p</var> by <code>concatenation</code> shall be equivalent
       to first transforming <var>p</var> by <code>get­Transform(-1)</code>, and then transforming the
       result by <code>get­Transform(0)</code>.</li>
   <li>If +1, then transforming a point <var>p</var> by <code>concatenation</code> shall be equivalent
       to first transforming <var>p</var> by <code>get­Transform(0)</code>, and then transforming the
       result by <code>get­Transform(+1)</code>.</li>
   <li>If 0, then only the transform at index 0 is replaced. Neighbor are unchanged.</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>first­Or­Last</code> - relative index of first (if negative) or last (if positive) transform to replace.</dd>
<dd><code>concatenation</code> - the transform to use instead of the one at index 0 and the specified neighbors.</dd>
<dt>Returns:</dt>
<dd>whether the replacement has been done. May be <code>false</code> if <code>first­Or­Last</code> is too large.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/util/FactoryException.html" title="class or interface in org.opengis.util" class="external-link">Factory­Exception</a></code> - if the given concatenation is not a valid replacement.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="replace(int,int,org.opengis.referencing.operation.MathTransform)">
<h3>replace</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">replace</span><wbr><span class="parameters">(int&nbsp;from,
 int&nbsp;to,
 <a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/referencing/operation/MathTransform.html" title="class or interface in org.opengis.referencing.operation" class="external-link">MathTransform</a>&nbsp;concatenation)</span>
                throws <span class="exceptions"><a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/util/FactoryException.html" title="class or interface in org.opengis.util" class="external-link">FactoryException</a></span></div>
<div class="block">Tries to replace the transforms in the given range of relative indices, which must include 0.
 This method is similar to <a href="#replace(int,org.opengis.referencing.operation.MathTransform)"><code>replace(int, Math­Transform)</code></a>, but allowing to replace the
 neighbor transforms on both sides.

 <h4 id="example-heading">Example</h4>
 A call to <code>transform(-1, +1, tr)</code> replaces the transform on which <code>try­Concatenate(…)</code>
 has been invoked (this is the transform at relative index 0) together with the transforms located
 immediately before (-1) and immediately after (+1) by the given <code>tr</code> transform.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>from</code> - relative index of the first transform to replace, inclusive. This is usually -1 or 0.</dd>
<dd><code>to</code> - relative index of the last transform to replace, inclusive. This is usually 0 or +1.</dd>
<dd><code>concatenation</code> - the transform to use instead of the transforms in the given range.</dd>
<dt>Returns:</dt>
<dd>whether the replacement has been done.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/util/FactoryException.html" title="class or interface in org.opengis.util" class="external-link">Factory­Exception</a></code> - if the given concatenation is not a valid replacement.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="replaceRoundtrip(int,java.util.function.UnaryOperator)">
<h3>replaceRoundtrip</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">replaceRoundtrip</span><wbr><span class="parameters">(int&nbsp;middle,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/function/UnaryOperator.html" title="class or interface in java.util.function" class="external-link">UnaryOperator</a>&lt;<a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/referencing/operation/MathTransform.html" title="class or interface in org.opengis.referencing.operation" class="external-link">MathTransform</a>&gt;&nbsp;mapper)</span>
                         throws <span class="exceptions"><a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/util/FactoryException.html" title="class or interface in org.opengis.util" class="external-link">FactoryException</a></span></div>
<div class="block">Tries to replace a <var>forward</var> → <var>middle</var> → <var>inverse</var> chain by a new transform.
 The transform that determines whether a replacement is possible is the <var>middle</var> transform,
 and its relative index is given by the <code>middle</code> argument in this method.
 There is two main scenarios:

 <ul>
   <li>If <code>middle</code> is +1, then <var>forward</var> is the transform at relative index 0
       and <var>inverse</var> is the transform at relative index 2.</li>
   <li>If <code>middle</code> is -1, then <var>forward</var> is the transform at relative index -2
       and <var>inverse</var> is the transform at relative index 0.</li>
 </ul>

 If <var>inverse</var> is the 
<details class="invalid-tag">
<summary>invalid reference</summary>
<pre>inverse</pre>
</details>
 of <var>forward</var>, then this method invokes
 <code>mapper​.apply(middle)</code> where <var>middle</var> is the transform between the forward and inverse steps.
 If the mapper returns a non-null value, then that value replaces the three steps of above-cited chain.

 <h4 id="example-heading1">Example</h4>
 In a chain of <var>Reverse Mercator</var> → <var>Longitude rotation</var> → <var>Forward Mercator</var>
 transforms where the forward and reverse Mercator steps operate on coordinates in radians on an ellipsoid
 having a semi-major axis length of one (this is how Apache <abbr>SIS</abbr> implements map projections),
 then because these Mercator steps just pass-through the longitude value unchanged and without using them
 in calculation, these three steps can be replaced by the <var>Longitude rotation</var> step alone
 (it is mathematically equivalent because of the radian units and the semi-major axis length of 1).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>middle</code> - relative index of the transform which is potentially a middle step. Value can be -1 or +1 for
                 the step before or after the transform on which <code>try­Concatenate(…)</code> has been invoked.</dd>
<dd><code>mapper</code> - a function receiving the middle transform in argument and returning the replacement
                 for the <var>forward</var> → <var>middle</var> → <var>inverse</var> chain.
                 May return <code>null</code> if the replacement cannot be done.</dd>
<dt>Returns:</dt>
<dd>whether the replacement has been done as a result of this method call.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/util/FactoryException.html" title="class or interface in org.opengis.util" class="external-link">Factory­Exception</a></code> - if the mapped transform is not a valid replacement.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="replacePassThrough(java.util.Map)">
<h3>replacePassThrough</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">replacePassThrough</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;dimensions)</span>
                           throws <span class="exceptions"><a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/util/FactoryException.html" title="class or interface in org.opengis.util" class="external-link">FactoryException</a></span></div>
<div class="block">Tries to simplify the transform chain when some coordinates are passed-through the transform at index 0.
 A "pass-through" coordinate is an input coordinate which is copied in the output tuple by the transform
 with <em>no change</em> and <em>without using this coordinate value in calculation</em>. In such cases,
 for any <code>Math­Transform</code> that use or modify this coordinate value immediately before or after the
 transform at relative index 0, it does not matter if the order of those operations is modified.

 <p><a href="AbstractMathTransform.html#tryConcatenate(org.apache.sis.referencing.operation.transform.TransformJoiner)"><code>Abstract­Math­Transform​.try­Concatenate(Transform­Joiner)</code></a> Implementations can invoke this method
 with a map containing the zero-based indexes of the dimensions that are passed-through by the transform
 on which <code>try­Concatenate(…)</code> has been invoked. Each map key is the index of a pass-through coordinate
 in source tuples, while the associated map value is the index for the same coordinate but in target tuples.
 In the common case where the transform does not change the coordinate order,
 the keys and the values are the same numbers.</p>

 <h4 id="example-heading2">Example</h4>
 In a <q>spherical to geographic</q> conversion using a biaxial ellipsoid, the longitude value is a
 pass-through coordinate because the <em>spherical</em> longitude and the <em>geodetic</em> longitude
 are the same value. Since the implementation of <a href="EllipsoidToCentricTransform.html" title="class in org.apache.sis.referencing.operation.transform"><code>Ellipsoid­To­Centric­Transform</code></a> does not use the
 longitude value in its calculation (in spherical case only), it does not matter if longitudes values
 are converted from degrees to something else before or after the spherical to geographic conversion.
 By invoking the following method, unit conversion of longitude values (at dimension 0) may be moved
 before or after the transform if this method detects that such move would simplify the transform chain:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet" id="snippet-replacePassThrough(java.util.Map)1"><code class="language-java">@Override
protected void tryConcatenate(TransformJoiner context) throws FactoryException {
    if (!joiner.replacePassThrough(Map.of(0, 0))) {
        super.tryConcatenate(joiner);
    }
}
</code></pre>
</div>
</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dimensions</code> - the pass-through dimensions in source tuples (map keys) and target tuples (map values).</dd>
<dt>Returns:</dt>
<dd>whether the transform chain has been modified as a result of this method call.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://www.geoapi.org/3.0/javadoc/org.opengis.geoapi/org/opengis/util/FactoryException.html" title="class or interface in org.opengis.util" class="external-link">Factory­Exception</a></code> - if the concatenation is not a valid replacement.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">Illegal­Argument­Exception</a></code> - if a value is repeated twice in the given map.</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</body>
</html>
