<!DOCTYPE html>
<html lang="en">
<head>


  <title>Apache SIS - Transform coordinates</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
        rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" media="screen" href="../syntax.css">
  <link rel="stylesheet" type="text/css" media="screen" href="../sis.css">
</head>

<body>

<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="../index.html"> Apache SIS™</a>
    <ul class="navbar-nav me-auto mb-2 mb-md-0">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuAbout" data-bs-toggle="dropdown" aria-expanded="false">About</a>
        <ul class="dropdown-menu" aria-labelledby="menuAbout">
          <li><a class="dropdown-item" href="http://www.apache.org/licenses/">License</a></li>
          <li><a class="dropdown-item" href="../mail-lists.html">Mailing Lists</a></li>
          <li><a class="dropdown-item" href="../team-list.html">Project Team</a></li>
          <li><a class="dropdown-item" href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy policy</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuDownload" data-bs-toggle="dropdown" aria-expanded="false">Download</a>
        <ul class="dropdown-menu" aria-labelledby="menuDownload">
          <li><a class="dropdown-item" href="../downloads.html">Downloads</a></li>
          <li><a class="dropdown-item" href="../source.html">Checkout Sources</a></li>
          <li><a class="dropdown-item" href="../epsg.html">EPSG Database</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuDocumentation" data-bs-toggle="dropdown" aria-expanded="false">Documentation</a>
        <ul class="dropdown-menu" aria-labelledby="menuDocumentation">
          <li><a class="dropdown-item" href="../apidocs/index.html">Online Javadoc</a></li>
          <li><a class="dropdown-item" href="../book/en/developer-guide.html">Developer Guide</a></li>
          <li><a class="dropdown-item" href="../howto.html">How to…</a></li>
          <li><a class="dropdown-item" href="../formats.html">Supported formats</a></li>
          <li><a class="dropdown-item" href="../tables/CoordinateReferenceSystems.html">Supported CRS</a></li>
          <li><a class="dropdown-item" href="../tables/CoordinateOperationMethods.html">Map Projections</a></li>
          <li><a class="dropdown-item" href="../code-patterns.html">Code Patterns</a></li>
          <li><a class="dropdown-item" href="../faq.html">FAQ</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuContribute" data-bs-toggle="dropdown" aria-expanded="false">Contribute</a>
        <ul class="dropdown-menu" aria-labelledby="menuContribute">
          <li><a class="dropdown-item" href="../contributor.html">New Contributor</a></li>
          <li><a class="dropdown-item" href="../coding-conventions.html">Coding Conventions</a></li>
          <li><a class="dropdown-item" href="../mail-lists.html">Mailing Lists</a></li>
          <li><a class="dropdown-item" href="https://issues.apache.org/jira/browse/SIS">Issue Tracker</a></li>
          <li><a class="dropdown-item" href="https://github.com/apache/sis">GitHub mirror</a></li>
          <li><a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/SIS">Wiki</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="../release-management.html">Release management</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="menuASF" data-bs-toggle="dropdown" aria-expanded="false">The Foundation</a>
        <ul class="dropdown-menu" aria-labelledby="menuASF">
          <li><a class="dropdown-item" href="http://www.apache.org">The Foundation</a></li>
          <li><a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Donate</a></li>
          <li><a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
          <li><a class="dropdown-item" href="http://www.apache.org/security/">Security</a></li>
        </ul>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto mb-2 mb-md-0">
      <li class="nav-item">
        <a href="https://www.apache.org/events/current-event.html">
           <img class="apache-con" src="https://www.apache.org/events/current-event-234x60.png" alt="ApacheCon"/>
        </a>
      </li>
    </ul>
  </div>
</nav>


<div class="row flex-nowrap">
  <div class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark" style="width:13rem; min-height:40rem">
    <ul class="nav nav-pills flex-column mb-auto position-fixed">
      <li><a class="nav-link  text-white " href="../index.html">Home</a></li>
      <li><a class="nav-link text-white" href="http://www.apache.org/licenses/">License</a></li>
      <li><a class="nav-link  text-white " href="../downloads.html">Downloads</a></li>
      <li><a class="nav-link  active " href="../howto.html">How to…</a></li>
      <li><a class="nav-link  text-white " href="../standards.html">Standards</a></li>
      <li><a class="nav-link  text-white " href="../formats.html">Data formats</a></li>
      <li><a class="nav-link  text-white " href="../epsg.html">EPSG Database</a></li>
      <li><a class="nav-link  text-white " href="../javafx.html">Application (demo)</a></li>
      <li><a class="nav-link text-white" href="../apidocs/index.html">Online Javadoc</a></li>
      <li><a class="nav-link text-white" href="../book/en/developer-guide.html">Developer Guide</a></li>
      <li><a class="nav-link  text-white " href="../code-patterns.html">Code patterns</a></li>
      <li><a class="nav-link  text-white " href="../faq.html">FAQ</a></li>
    </ul>
  </div>
  <div class="col">
    <main class="container">
      <article>
        <img src="../images/logo.png" class="sis-logo" align="left"/>
        <p class="page-title">Transform coordinates</p>

  <p>The following Java code projects geographic coordinates from the <em>World Geodetic System 1984</em> (WGS84) to <em>WGS 84 / UTM zone 33N</em>.
In order to make the example a little bit simpler, this code uses predefined constants given by the <code>CommonCRS</code> convenience class.
But more advanced applications may use <a href="../epsg.html">EPSG codes</a> or definitions in Well-Known Text (WKT) instead.</p>
<p><strong>Note:</strong> if the result of a coordinate transformation seems wrong, see the <a href="../faq.html">FAQ</a> page.
Unexpected results are often caused by wrong axis order.</p>
<h1 id="direct-dependencies">Direct dependencies</h1>
<table>
<thead>
<tr>
<th>Maven coordinates</th>
<th>Module info</th>
<th>Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>org.apache.sis.storage:sis-referencing</code></td>
<td><code>org.apache.sis.referencing</code></td>
<td></td>
</tr>
<tr>
<td><code>org.apache.sis.non-free:sis-embedded-data</code></td>
<td><code>org.apache.sis.referencing.database</code></td>
<td>Optional. Non-Apache license.</td>
</tr>
</tbody>
</table>
<p>The <a href="../epsg.html">EPSG dependency</a> is optional for this example.
But if present, the Coordinate Reference Systems will have more metadata.
Consequently, coordinate transformation results between some pairs of reference systems
may be different depending on whether the EPSG dataset is present or not.
In general, results are more accurate and/or more reliable in presence of EPSG dataset.</p>
<h1 id="code-example">Code example</h1>
<p>Note that all geographic coordinates below express latitude <em>before</em> longitude.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.opengis.geometry.DirectPosition</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.opengis.referencing.crs.CoordinateReferenceSystem</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.opengis.referencing.operation.CoordinateOperation</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.opengis.referencing.operation.TransformException</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.opengis.util.FactoryException</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.apache.sis.referencing.CRS</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.apache.sis.referencing.CommonCRS</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.apache.sis.geometry.DirectPosition2D</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TransformCoordinates</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Demo entry point.
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param  args  ignored.
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @throws FactoryException   if an error occurred while creating the Coordinate Reference System (CRS).
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @throws TransformException if an error occurred while transforming coordinates to the target CRS.
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">FactoryException</span><span class="o">,</span> <span class="n">TransformException</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">CoordinateReferenceSystem</span> <span class="n">sourceCRS</span> <span class="o">=</span> <span class="n">CommonCRS</span><span class="o">.</span><span class="na">WGS84</span><span class="o">.</span><span class="na">geographic</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">CoordinateReferenceSystem</span> <span class="n">targetCRS</span> <span class="o">=</span> <span class="n">CommonCRS</span><span class="o">.</span><span class="na">WGS84</span><span class="o">.</span><span class="na">universal</span><span class="o">(</span><span class="n">40</span><span class="o">,</span> <span class="n">14</span><span class="o">);</span>  <span class="c1">// UTM zone for 40°N 14°E.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">CoordinateOperation</span> <span class="n">operation</span> <span class="o">=</span> <span class="n">CRS</span><span class="o">.</span><span class="na">findOperation</span><span class="o">(</span><span class="n">sourceCRS</span><span class="o">,</span> <span class="n">targetCRS</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">         * The above lines are costly and should be performed only once before to project many points.
</span></span></span><span class="line"><span class="cl"><span class="cm">         * In this example, the operation that we got is valid for coordinates in geographic area from
</span></span></span><span class="line"><span class="cl"><span class="cm">         * 12°E to 18°E (UTM zone 33) and 0°N to 84°N.
</span></span></span><span class="line"><span class="cl"><span class="cm">         */</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Domain of validity:&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">CRS</span><span class="o">.</span><span class="na">getGeographicBoundingBox</span><span class="o">(</span><span class="n">operation</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">DirectPosition</span> <span class="n">ptSrc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DirectPosition2D</span><span class="o">(</span><span class="n">40</span><span class="o">,</span> <span class="n">14</span><span class="o">);</span>           <span class="c1">// 40°N 14°E
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">DirectPosition</span> <span class="n">ptDst</span> <span class="o">=</span> <span class="n">operation</span><span class="o">.</span><span class="na">getMathTransform</span><span class="o">().</span><span class="na">transform</span><span class="o">(</span><span class="n">ptSrc</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Source: &#34;</span> <span class="o">+</span> <span class="n">ptSrc</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Target: &#34;</span> <span class="o">+</span> <span class="n">ptDst</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
<h1 id="output">Output</h1>
<p>Note: for some pairs of Coordinate Reference Systems,
the output may vary depending on whether the <a href="../epsg.html">EPSG geodetic dataset</a> is present or not.</p>
<pre tabindex="0"><code>Domain of validity:
Geographic bounding box
  ├─West bound longitude…… 12°E
  ├─East bound longitude…… 18°E
  ├─South bound latitude…… 0°N
  └─North bound latitude…… 84°N

Source: POINT(40 14)
Target: POINT(414639.5381572213 4428236.064633072)
</code></pre>

      </article>
    </main>
    <footer class="footer">
    <div class="container">
      <p>
        Copyright &copy; 2013-2023 The Apache Software Foundation, Licensed under the
        <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br/>
        Apache SIS, Apache, the Apache feather logo are trademarks of The Apache Software Foundation.
      </p>
    </div>
</footer>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>

</body>
</html>
