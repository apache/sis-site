<!DOCTYPE html>
<html lang="en">

  <head>
    <title>Apache SIS - Get the EPSG code or URN of an existing CRS</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="../sis.css">
    <link rel="stylesheet" type="text/css" media="screen" href="../syntax.css">
  </head>
  <body>
    <div class="topbar">
      <a class="topbar-brand" href="../index.html">Apache SIS™</a>
      <ul class="topbar-items">
        <li>
          <a href="https://www.apache.org/events/current-event.html">
             <img class="apache-con" src="https://www.apache.org/events/current-event-234x60.png" alt="ApacheCon"/>
          </a>
        </li>
      </ul>
    </div>
    <div class="main-section">
      <nav class="left-bar">
        <ul class="nav-pills">
          <li><a class="nav-link  inactive " href="../index.html">Home</a></li>
          <li><a class="nav-link  inactive " href="../about.html">About</a></li>
          <li><a class="nav-link  inactive " href="../downloads.html">Downloads</a></li>
          <li><a class="nav-link  active " href="../howto.html">How to…</a></li>
          <li><a class="nav-link  inactive " href="../standards.html">Standards</a></li>
          <li><a class="nav-link  inactive " href="../formats.html">Data formats</a></li>
          <li><a class="nav-link  inactive " href="../epsg.html">EPSG Database</a></li>
          <li><a class="nav-link  inactive " href="../javafx.html">Application (demo)</a></li>
          <li><a class="nav-link  inactive " href="../documentation.html">Documentation</a></li>
        </ul>
      </nav>
      <div class="main-content">
        <main class="container">
          <article>
            <img src="../images/logo.png" class="sis-logo" align="left"/>
            <p class="page-title">Get the EPSG code or URN of an existing CRS</p>

  <p>The <em>identifier</em> of a Coordinate Reference System (CRS) object can be obtained by the <code>getIdentifiers()</code> method,
which usually return a collection of zero or one element.
If the <abbr title="Coordinate Reference System">CRS</abbr> has been created from a Well Known Text (WKT) parsing
and the <abbr title="Well Known Text">WKT</abbr> ends with an <code>AUTHORITY[&quot;EPSG&quot;, &quot;xxxx&quot;]</code> (<abbr title="Well Known Text">WKT</abbr> version 1)
or <code>ID[&quot;EPSG&quot;, xxxx]</code> (<abbr title="Well Known Text">WKT</abbr> version 2) element,
then the identifier (an EPSG numerical code in this example) is the <em>xxxx</em> value in that element.
If the <abbr title="Coordinate Reference System">CRS</abbr> has been created from the EPSG geodetic dataset (for example by a call to <code>CRS.forCode(&quot;EPSG:xxxx&quot;)</code>),
then the identifier is the <em>xxxx</em> code given to that method.
If the <abbr title="Coordinate Reference System">CRS</abbr> has been created in another way, then the collection returned by the <code>getIdentifiers()</code> method
may or may not be empty depending if the program that created the <abbr title="Coordinate Reference System">CRS</abbr> took the responsibility of providing identifiers.</p>
<p>If the collection of identifiers is empty, the most effective fix is to make sure that the <abbr title="Well Known Text">WKT</abbr>
contains an <code>AUTHORITY</code> or <code>ID</code> element (assuming that the <abbr title="Coordinate Reference System">CRS</abbr> was parsed from a <abbr title="Well Known Text">WKT</abbr>).
If this is not possible, then the <code>org.apache.sis.referencing.IdentifiedObjects</code> class contains some convenience methods which may help.
In the following example, the call to <code>lookupEPSG(…)</code> will scan the EPSG database for a <abbr title="Coordinate Reference System">CRS</abbr> equals
(ignoring metadata) to the given one. <em>Note that this scan is sensitive to axis order.</em>
Most geographic <abbr title="Coordinate Reference System">CRS</abbr> in the EPSG database are declared with (<em>latitude</em>, <em>longitude</em>) axis order.
Consequently if the given <abbr title="Coordinate Reference System">CRS</abbr> has (<em>longitude</em>, <em>latitude</em>) axis order, then the scan is likely to find no match.</p>
<h1 id="direct-dependencies">Direct dependencies</h1>
<table>
  <thead>
      <tr>
          <th>Maven coordinates</th>
          <th>Module info</th>
          <th>Remarks</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>org.apache.sis.core:sis-referencing</code></td>
          <td><code>org.apache.sis.referencing</code></td>
          <td></td>
      </tr>
      <tr>
          <td><code>org.apache.sis.non-free:sis-embedded-data</code></td>
          <td><code>org.apache.sis.referencing.database</code></td>
          <td>Optional. Non-Apache license.</td>
      </tr>
  </tbody>
</table>
<p>The <a href="../epsg.html">EPSG dependency</a> is not needed if the <abbr title="Well Known Text">WKT</abbr> string declares an <code>AUTHORITY</code> element.
But it is required if the <code>AUTHORITY</code> element is absent and Apache <abbr title="Spatial Information System">SIS</abbr> needs to scan the EPSG database
for finding its value.</p>
<h1 id="code-example">Code example</h1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">org.opengis.referencing.crs.CoordinateReferenceSystem</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.opengis.util.FactoryException</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.sis.referencing.CRS</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.sis.referencing.IdentifiedObjects</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LookupAuthorityCode</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Demo entry point.
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param  args  ignored.
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @throws FactoryException if an error occurred while creating the CRS or searching in EPSG database.
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">FactoryException</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">CoordinateReferenceSystem</span><span class="w"> </span><span class="n">crs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRS</span><span class="p">.</span><span class="na">fromWKT</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="s">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">                PROJCRS[&#34;NTF (Paris) / zone to be discovered by the demo&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">                  BASEGEODCRS[&#34;NTF (Paris)&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">                    DATUM[&#34;Nouvelle Triangulation Francaise&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">                      ELLIPSOID[&#34;Clarke 1880 (IGN)&#34;, 6378249.2, 293.4660212936269]],
</span></span></span><span class="line"><span class="cl"><span class="s">                      PRIMEM[&#34;Paris&#34;, 2.5969213],
</span></span></span><span class="line"><span class="cl"><span class="s">                    UNIT[&#34;grade&#34;, 0.015707963267948967]],
</span></span></span><span class="line"><span class="cl"><span class="s">                  CONVERSION[&#34;Lambert zone II&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">                    METHOD[&#34;Lambert Conic Conformal (1SP)&#34;],
</span></span></span><span class="line"><span class="cl"><span class="s">                    PARAMETER[&#34;Latitude of natural origin&#34;, 52.0],
</span></span></span><span class="line"><span class="cl"><span class="s">                    PARAMETER[&#34;Longitude of natural origin&#34;, 0.0],
</span></span></span><span class="line"><span class="cl"><span class="s">                    PARAMETER[&#34;Scale factor at natural origin&#34;, 0.99987742],
</span></span></span><span class="line"><span class="cl"><span class="s">                    PARAMETER[&#34;False easting&#34;, 600000.0],
</span></span></span><span class="line"><span class="cl"><span class="s">                    PARAMETER[&#34;False northing&#34;, 2200000.0]],
</span></span></span><span class="line"><span class="cl"><span class="s">                  CS[Cartesian, 2],
</span></span></span><span class="line"><span class="cl"><span class="s">                    AXIS[&#34;Easting (E)&#34;, east],
</span></span></span><span class="line"><span class="cl"><span class="s">                    AXIS[&#34;Northing (N)&#34;, north],
</span></span></span><span class="line"><span class="cl"><span class="s">                    LENGTHUNIT[&#34;metre&#34;, 1],
</span></span></span><span class="line"><span class="cl"><span class="s">                  REMARK[&#34;EPSG:27572 identifier intentionally omitted.&#34;]]
</span></span></span><span class="line"><span class="cl"><span class="s">                &#34;&#34;&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;Identifier declared in the CRS: &#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="o">+</span><span class="w"> </span><span class="n">IdentifiedObjects</span><span class="p">.</span><span class="na">getIdentifier</span><span class="p">(</span><span class="n">crs</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;Searching in EPSG database: &#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="o">+</span><span class="w"> </span><span class="n">IdentifiedObjects</span><span class="p">.</span><span class="na">lookupEPSG</span><span class="p">(</span><span class="n">crs</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;Same, but more generic: &#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="o">+</span><span class="w"> </span><span class="n">IdentifiedObjects</span><span class="p">.</span><span class="na">lookupURN</span><span class="p">(</span><span class="n">crs</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><h1 id="output">Output</h1>
<pre tabindex="0"><code>Identifier declared in the CRS: null
Searching in EPSG database: 27572
Same, but more generic: urn:ogc:def:crs:EPSG:12.026:27572
</code></pre>

          </article>
        </main>
        <footer>
          <div class="container">
            <p>Copyright &copy; 2013-2025 The Apache Software Foundation, Licensed under the
            <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br/>
            Apache SIS, Apache, the Apache feather logo are trademarks of The Apache Software Foundation.</p>
          </div>
        </footer>
      </div>
    </div>
  </body>
</html>
