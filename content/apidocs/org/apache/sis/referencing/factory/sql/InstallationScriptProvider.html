<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.4) on Fri Sep 20 11:00:54 CEST 2019 -->
<title>InstallationScriptProvider (Apache SIS 1.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2019-09-20">
<meta name="keywords" content="org.apache.sis.referencing.factory.sql.InstallationScriptProvider class">
<meta name="keywords" content="PREPARE">
<meta name="keywords" content="FINISH">
<meta name="keywords" content="getAuthorities()">
<meta name="keywords" content="getResourceNames()">
<meta name="keywords" content="openScript()">
<meta name="keywords" content="openStream()">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../sis.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InstallationScriptProvider (Apache SIS 1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InstallationScriptProvider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.sis.referencing.factory.sql</a></div>
<h2 title="Class InstallationScriptProvider" class="title">Class InstallationScriptProvider</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../setup/InstallationResources.html" title="class in org.apache.sis.setup">InstallationResources</a></li>
<li>
<ul class="inheritance">
<li>InstallationScriptProvider</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public abstract class <span class="typeNameLabel">InstallationScriptProvider</span>
extends <a href="../../../setup/InstallationResources.html" title="class in org.apache.sis.setup">InstallationResources</a></pre>
<div class="block">Provides SQL scripts needed for creating a local copy of a dataset. This class allows Apache SIS users
 to bundle the EPSG or other datasets in their own product for automatic installation when first needed.
 Implementations of this class can be declared in the following file for automatic discovery by <a href="EPSGFactory.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGFactory</code></a>:

 <blockquote><pre>META-INF/services/org.apache.sis.setup.InstallationResources</pre></blockquote>

 <div class="section">How this class is used</div>
 The first time that an <a href="EPSGDataAccess.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGData­Access</code></a> needs to be instantiated,
 <a href="EPSGFactory.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGFactory</code></a> verifies if the EPSG database exists. If it does not, then:
 <ol>
   <li><a href="EPSGFactory.html#install(java.sql.Connection)"><code>EPSGFactory​.install(Connection)</code></a> searches for the first instance of <a href="../../../setup/InstallationResources.html" title="class in org.apache.sis.setup"><code>Installation­Resources</code></a>
       (the parent of this class) for which the <a href="#getAuthorities()">set of authorities</a> contains <code>"EPSG"</code>.</li>
   <li>The <a href="../../../setup/InstallationResources.html#getLicense(java.lang.String,java.util.Locale,java.lang.String)">license</a> may be shown to the user if the application allows that
       (for example when running as a <a href="../../../console/package-summary.html">console application</a>).</li>
   <li>If the installation process is allowed to continue, it will iterate over all readers provided by
       <a href="#openScript(java.lang.String,int)"><code>open­Script(String, int)</code></a> and execute the SQL statements (not necessarily verbatim;
       the installation process may adapt to the target database).</li>
 </ol></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.7</dd>

<p><font size="-1">Defined in the <code>sis-referencing</code> module</font></p>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#FINISH">FINISH</a></span></code></th>
<td class="colLast">
<div class="block">A sentinel value for the content of the script to execute after the SQL scripts provided by the authority.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#PREPARE">PREPARE</a></span></code></th>
<td class="colLast">
<div class="block">A sentinel value for the content of the script to execute before the SQL scripts provided by the authority.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String,java.lang.String...)">InstallationScriptProvider</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;authority,
                          <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>...&nbsp;resources)</code></th>
<td class="colLast">
<div class="block">Creates a new provider which will read script files of the given names in that order.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAuthorities()">getAuthorities</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the identifiers of the dataset installed by the SQL scripts.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getResourceNames(java.lang.String)">getResourceNames</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;authority)</code></th>
<td class="colLast">
<div class="block">Returns the names of all SQL scripts to execute.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html?is-external=true" title="class or interface in java.io" class="externalLink">BufferedReader</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#openScript(java.lang.String,int)">openScript</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;authority,
          int&nbsp;resource)</code></th>
<td class="colLast">
<div class="block">Returns a reader for the SQL script at the given index.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected abstract <a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io" class="externalLink">InputStream</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#openStream(java.lang.String)">openStream</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Opens the input stream for the SQL script of the given name.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.InstallationResources">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;<a href="../../../setup/InstallationResources.html" title="class in org.apache.sis.setup">InstallationResources</a></h3>
<code><a href="../../../setup/InstallationResources.html#getLicense(java.lang.String,java.util.Locale,java.lang.String)">get­License</a>, <a href="../../../setup/InstallationResources.html#getResource(java.lang.String,int)">get­Resource</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">get­Class</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hash­Code</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notify­All</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">to­String</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="PREPARE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PREPARE</h4>
<pre>protected static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a> PREPARE</pre>
<div class="block">A sentinel value for the content of the script to execute before the SQL scripts provided by the authority.
 This is an Apache SIS build-in script for constraining the values of some <code>VARCHAR</code> columns
 to enumerations of values recognized by <a href="EPSGDataAccess.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGData­Access</code></a>. Those enumerations are not required
 for proper working of <a href="EPSGFactory.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGFactory</code></a>, but can improve data integrity.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.sis.referencing.factory.sql.InstallationScriptProvider.PREPARE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="FINISH">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FINISH</h4>
<pre>protected static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a> FINISH</pre>
<div class="block">A sentinel value for the content of the script to execute after the SQL scripts provided by the authority.
 This is an Apache SIS build-in script for creating indexes or performing any other manipulation that help
 SIS to use the dataset. Those indexes are not required for proper working of <a href="EPSGFactory.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGFactory</code></a>,
 but can significantly improve performances.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.sis.referencing.factory.sql.InstallationScriptProvider.FINISH">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.lang.String,java.lang.String...)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>InstallationScriptProvider</h4>
<pre>protected&nbsp;InstallationScriptProvider&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;authority,
                                     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>...&nbsp;resources)</pre>
<div class="block">Creates a new provider which will read script files of the given names in that order.
 The given names are often filenames, but not necessarily
 (it is okay to use those names only as labels).

 <table class="sis">
   <caption>Typical argument values</caption>
   <tr>
     <th>Authority</th>
     <th class="sep">Argument values</th>
   </tr><tr>
     <td><code>EPSG</code></td>
     <td class="sep"><code>
       {<a href="#PREPARE">PREPARE</a>, "EPSG_Tables.sql", "EPSG_Data.sql", "EPSG_FKeys.sql", <a href="#FINISH">FINISH</a>}
     </code></td>
   </tr>
 </table></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>authority</code> - the authority (typically <code>"EPSG"</code>), or <code>null</code> if not available.</dd>
<dd><code>resources</code> - names of the SQL scripts to read.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getResourceNames(java.lang.String)"><code>get­Resource­Names(String)</code></a>, 
<a href="#openStream(java.lang.String)"><code>open­Stream(String)</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getAuthorities()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAuthorities</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;getAuthorities()</pre>
<div class="block">Returns the identifiers of the dataset installed by the SQL scripts.
 The values currently recognized by SIS are:

 <ul>
   <li><code>"EPSG"</code> for the EPSG geodetic dataset.</li>
 </ul>

 The default implementation returns the authority given at construction time, or an empty set
 if that authority was <code>null</code>. An empty set means that the provider does not have all
 needed resources or does not have permission to distribute the installation scripts.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../setup/InstallationResources.html#getAuthorities()">get­Authorities</a></code>&nbsp;in class&nbsp;<code><a href="../../../setup/InstallationResources.html" title="class in org.apache.sis.setup">Installation­Resources</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>identifiers of SQL scripts that this instance can distribute.</dd>
</dl>
</li>
</ul>
<a id="getResourceNames(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResourceNames</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]&nbsp;getResourceNames&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;authority)
                          throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Returns the names of all SQL scripts to execute.
 This is a copy of the array of names given to the constructor.
 Those names are often filenames, but not necessarily (they may be just labels).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../setup/InstallationResources.html#getResourceNames(java.lang.String)">get­Resource­Names</a></code>&nbsp;in class&nbsp;<code><a href="../../../setup/InstallationResources.html" title="class in org.apache.sis.setup">Installation­Resources</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>authority</code> - the value given at construction time (e.g. <code>"EPSG"</code>).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the names of all SQL scripts to execute.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">Illegal­Argument­Exception</a></code> - if the given <code>authority</code> argument is not the expected value.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if fetching the script names required an I/O operation and that operation failed.</dd>
</dl>
</li>
</ul>
<a id="openScript(java.lang.String,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openScript</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html?is-external=true" title="class or interface in java.io" class="externalLink">BufferedReader</a>&nbsp;openScript&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;authority,
                                 int&nbsp;resource)
                          throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Returns a reader for the SQL script at the given index. Contents may be read from files in a local directory,
 or from resources in a JAR file, or from entries in a ZIP file, or any other means at implementer choice.
 The <a href="https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html?is-external=true" title="class or interface in java.io" class="externalLink"><code>Buffered­Reader</code></a> instances shall be closed by the caller.

 <div class="section">EPSG case</div>
 In the EPSG dataset case, the iterator should return <code>Buffered­Reader</code> instances for the following files
 (replace <code>&lt;version&gt;</code> by the EPSG version number and <code>&lt;product&gt;</code> by the target database) in same order.
 The first and last files are provided by Apache SIS.
 All other files can be downloaded from <a href="http://www.epsg.org/">http://www.epsg.org/</a>.

 <ol>
   <li>Content of <a href="#PREPARE"><code>PREPARE</code></a>, an optional data definition script that define the enumerations expected by <a href="EPSGDataAccess.html" title="class in org.apache.sis.referencing.factory.sql"><code>EPSGData­Access</code></a>.</li>
   <li>Content of <code>"EPSG_&lt;version&gt;.mdb_Tables_&lt;product&gt;.sql"</code>, a data definition script that create empty tables.</li>
   <li>Content of <code>"EPSG_&lt;version&gt;.mdb_Data_&lt;product&gt;.sql"</code>, a data manipulation script that populate the tables.</li>
   <li>Content of <code>"EPSG_&lt;version&gt;.mdb_FKeys_&lt;product&gt;.sql"</code>, a data definition script that create foreigner key constraints.</li>
   <li>Content of <a href="#FINISH"><code>FINISH</code></a>, an optional data definition and data control script that create indexes and set permissions.</li>
 </ol>

 Implementers are free to return a different set of scripts with equivalent content.

 <div class="section">Default implementation</div>
 The default implementation invokes <a href="#openStream(java.lang.String)"><code>open­Stream(String)</code></a> – except for <a href="#PREPARE"><code>PREPARE</code></a> and <a href="#FINISH"><code>FINISH</code></a>
 in which case an Apache SIS build-in script is used – and wrap the result in a <a href="https://docs.oracle.com/javase/8/docs/api/java/io/LineNumberReader.html?is-external=true" title="class or interface in java.io" class="externalLink"><code>Line­Number­Reader</code></a>.
 The file encoding is UTF-8 (the encoding used in the scripts distributed by EPSG since version 9.4).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../setup/InstallationResources.html#openScript(java.lang.String,int)">open­Script</a></code>&nbsp;in class&nbsp;<code><a href="../../../setup/InstallationResources.html" title="class in org.apache.sis.setup">Installation­Resources</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>authority</code> - the value given at construction time (e.g. <code>"EPSG"</code>).</dd>
<dd><code>resource</code> - index of the SQL script to read, from 0 inclusive to
         <code><a href="#getResourceNames(java.lang.String)">get­Resource­Names</a>(authority)​.length</code> exclusive.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a reader for the content of SQL script to execute.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">Illegal­Argument­Exception</a></code> - if the given <code>authority</code> argument is not the expected value.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IndexOutOfBoundsException.html?is-external=true" title="class or interface in java.lang" class="externalLink">Index­Out­Of­Bounds­Exception</a></code> - if the given <code>resource</code> argument is out of bounds.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/FileNotFoundException.html?is-external=true" title="class or interface in java.io" class="externalLink">File­Not­Found­Exception</a></code> - if the SQL script of the given name has not been found.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurred while creating the reader.</dd>
</dl>
</li>
</ul>
<a id="openStream(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>openStream</h4>
<pre class="methodSignature">protected abstract&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io" class="externalLink">InputStream</a>&nbsp;openStream&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)
                                   throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Opens the input stream for the SQL script of the given name.
 This method is invoked by the default implementation of <a href="#openScript(java.lang.String,int)"><code>open­Script(String, int)</code></a>
 for all scripts except <a href="#PREPARE"><code>PREPARE</code></a> and <a href="#FINISH"><code>FINISH</code></a>.

 <div class="note"><b>Example 1:</b>
 if this <code>Installation­Script­Provider</code> instance gets the SQL scripts from files in a well-known directory
 and if the names given at <a href="#%3Cinit%3E(java.lang.String,java.lang.String...)">construction time</a> are the
 filenames in that directory, then this method can be implemented as below:

 <blockquote><pre><font color="green">protected</font> InputStream <b>openStream</b>(String name) <font color="green">throws</font> IOException {
    <font color="green">return</font> Files.<b>newInputStream</b>(directory.<b>resolve</b>(name));
}</pre></blockquote>
 </div>

 <div class="note"><b>Example 2:</b>
 if this <code>Installation­Script­Provider</code> instance rather gets the SQL scripts from resources bundled
 in the same JAR files than and in the same package, then this method can be implemented as below:

 <blockquote><pre><font color="green">protected</font> InputStream <b>openStream</b>(String name) {
    <font color="green">return</font> MyClass.<b>getResourceAsStream</b>(name);
}</pre></blockquote>
 </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - name of the script file to open. Can be <code>null</code> if the resource is not found.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an input stream opened of the given script file.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an error occurred while opening the file.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InstallationScriptProvider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2010&#x2013;2019 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
