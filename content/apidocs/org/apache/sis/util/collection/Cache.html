<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.4) on Fri Sep 20 11:00:54 CEST 2019 -->
<title>Cache (Apache SIS 1.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2019-09-20">
<meta name="keywords" content="org.apache.sis.util.collection.Cache class">
<meta name="keywords" content="clear()">
<meta name="keywords" content="isEmpty()">
<meta name="keywords" content="size()">
<meta name="keywords" content="get()">
<meta name="keywords" content="getOrCreate()">
<meta name="keywords" content="computeIfAbsent()">
<meta name="keywords" content="putIfAbsent()">
<meta name="keywords" content="put()">
<meta name="keywords" content="replace()">
<meta name="keywords" content="replaceAll()">
<meta name="keywords" content="computeIfPresent()">
<meta name="keywords" content="compute()">
<meta name="keywords" content="merge()">
<meta name="keywords" content="remove()">
<meta name="keywords" content="containsKey()">
<meta name="keywords" content="peek()">
<meta name="keywords" content="lock()">
<meta name="keywords" content="keySet()">
<meta name="keywords" content="entrySet()">
<meta name="keywords" content="isKeyCollisionAllowed()">
<meta name="keywords" content="setKeyCollisionAllowed()">
<meta name="keywords" content="cost()">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../sis.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Cache (Apache SIS 1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Cache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.sis.util.collection</a></div>
<h2 title="Class Cache" class="title">Class Cache&lt;K,&#8203;V&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></li>
<li>
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true" title="class or interface in java.util" class="externalLink">AbstractMap</a>&lt;K,&#8203;V&gt;</li>
<li>
<ul class="inheritance">
<li>Cache&lt;K,&#8203;V&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the type of key objects.</dd>
<dd><code>V</code> - the type of value objects.</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Concurrent­Map</a>&lt;K,&#8203;V&gt;</code>, <code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;K,&#8203;V&gt;</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">Cache&lt;K,&#8203;V&gt;</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true" title="class or interface in java.util" class="externalLink">AbstractMap</a>&lt;K,&#8203;V&gt;
implements <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">ConcurrentMap</a>&lt;K,&#8203;V&gt;</pre>
<div class="block">A concurrent map capable to locks entries for which the value is in process of being computed.
 This map is intended for use as a cache, with a goal of avoiding to compute the same values twice.
 This implementation is thread-safe and supports concurrency.
 <code>Cache</code> is based on <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>Concurrent­Hash­Map</code></a> with the addition of three main capabilities:

 <ul>
   <li>Lock an entry when its value is under computation in a thread.</li>
   <li>Block other threads requesting the value of that particular entry until computation is completed.</li>
   <li>Retain oldest values by soft or weak references instead of strong references.</li>
 </ul>

 The easiest way to use this class is to invoke <a href="#computeIfAbsent(K,java.util.function.Function)"><code>compute­If­Absent(…)</code></a>
 or <a href="#getOrCreate(K,java.util.concurrent.Callable)"><code>get­Or­Create(…)</code></a> with lambda functions as below:

 <blockquote><pre><font color="green">private</font> <font color="green">final</font> Cache&lt;String,MyObject&gt; cache = <font color="green">new</font> Cache&lt;String,MyObject&gt;();

<font color="green">public</font> MyObject <b>getMyObject</b>(String key) {
    <font color="green">return</font> cache.<b>computeIfAbsent</b>(key, (k) -&gt; <b>createMyObject</b>(k));
}</pre></blockquote>

 Alternatively, one can handle explicitly the locks.
 This alternative sometime provides more flexibility, for example in exception handling.
 The steps are as below:

 <ol>
   <li>Check if the value is already available in the map.
       If it is, return it immediately and we are done.</li>
   <li>Otherwise, get a lock and check again if the value is already available in the map
       (because the value could have been computed by an other thread between step 1 and
       the obtention of the lock). If it is, release the lock and we are done.</li>
   <li>Otherwise compute the value, store the result and release the lock.</li>
 </ol>

 Code example is shown below.
 Note that the call to <a href="Cache.Handler.html#putAndUnlock(V)"><code>put­And­Unlock(…)</code></a> <strong>must</strong>
 be inside the <code>finally</code> block of a <code>try</code> block beginning immediately after the call
 to <a href="#lock(K)"><code>lock(…)</code></a>, no matter what the result of the computation is (including <code>null</code>).

 <blockquote><pre><font color="green">private</font> <font color="green">final</font> Cache&lt;String,MyObject&gt; cache = <font color="green">new</font> Cache&lt;String,MyObject&gt;();

<font color="green">public</font> MyObject <b>getMyObject</b>(<font color="green">final</font> String key) <font color="green">throws</font> MyCheckedException {
    MyObject value = cache.<b>peek</b>(key);
    <font color="green">if</font> (value == <font color="green">null</font>) {
        <font color="green">final</font> Cache.Handler&lt;MyObject&gt; handler = cache.<b>lock</b>(key);
        <font color="green">try</font> {
            value = handler.<b>peek</b>();
            <font color="green">if</font> (value == <font color="green">null</font>) {
                value = <b>createMyObject</b>(key);
            }
        } <font color="green">finally</font> {
            handler.<b>putAndUnlock</b>(value);
        }
    }
    <font color="green">return</font> value;
}</pre></blockquote>


 <div class="section">Eviction of eldest values</div>

 <ul>
   <li>The <cite>cost</cite> of a value is the value returned by <a href="#cost(V)"><code>cost(V)</code></a>. The default
       implementation returns 1 in all cases, but subclasses can override this method for
       more elaborated cost computation.</li>
   <li>The <cite>total cost</cite> is the sum of the cost of all values held by strong
       reference in this cache. The total cost does not include the cost of values held
       by <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ref/Reference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink">weak or soft reference</a>.</li>
   <li>The <cite>cost limit</cite> is the maximal value allowed for the total cost. If
       the total cost exceed this value, then strong references to the eldest values are
       replaced by <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ref/Reference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink">weak or soft references</a> until the total cost
       become equals or lower than the cost limit.</li>
 </ul>

 The total cost is given at construction time. If the <a href="#cost(V)"><code>cost(V)</code></a> method has not been
 overridden, then the total cost is the maximal amount of values to keep by strong references.


 <div class="section">Circular dependencies</div>

 This implementation assumes that there is no circular dependencies (or cyclic graph) between
 the values in the cache. For example if creating <var>A</var> implies creating <var>B</var>,
 then creating <var>B</var> is not allowed to implies (directly or indirectly) the creation of
 <var>A</var>. If this condition is not met, deadlock may occur randomly.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.3</dd>

<p><font size="-1">Defined in the <code>sis-utility</code> module</font></p>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Cache.Handler.html" title="interface in org.apache.sis.util.collection">Cache.Handler</a>&lt;<a href="Cache.Handler.html" title="type parameter in Cache.Handler">V</a>&gt;</span></code></th>
<td class="colLast">
<div class="block">The handler returned by <a href="#lock(K)"><code>lock(K)</code></a>, to be used for unlocking and storing the result.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.java.util.AbstractMap">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true" title="class or interface in java.util" class="externalLink">AbstractMap</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.SimpleEntry.html?is-external=true" title="class or interface in java.util" class="externalLink">Abstract­Map​.Simple­Entry</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.SimpleEntry.html?is-external=true" title="class or interface in java.util" class="externalLink">K</a> extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>,&#8203;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.SimpleEntry.html?is-external=true" title="class or interface in java.util" class="externalLink">V</a> extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html?is-external=true" title="class or interface in java.util" class="externalLink">Abstract­Map​.Simple­Immutable­Entry</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html?is-external=true" title="class or interface in java.util" class="externalLink">K</a> extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>,&#8203;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html?is-external=true" title="class or interface in java.util" class="externalLink">V</a> extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.java.util.Map">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util" class="externalLink">Map​.Entry</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util" class="externalLink">K</a> extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>,&#8203;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util" class="externalLink">V</a> extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;</code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">Cache</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates a new cache with a default initial capacity and cost limit of 100.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(int,long,boolean)">Cache</a></span>&#8203;(int&nbsp;initialCapacity,
     long&nbsp;costLimit,
     boolean&nbsp;soft)</code></th>
<td class="colLast">
<div class="block">Creates a new cache using the given initial capacity and cost limit.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clear()">clear</a></span>()</code></th>
<td class="colLast">
<div class="block">Clears the content of this cache.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="Cache.html" title="type parameter in Cache">V</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#compute(K,java.util.function.BiFunction)">compute</a></span>&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
       <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiFunction</a>&lt;? super <a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;? super <a href="Cache.html" title="type parameter in Cache">V</a>,&#8203;? extends <a href="Cache.html" title="type parameter in Cache">V</a>&gt;&nbsp;remapping)</code></th>
<td class="colLast">
<div class="block">Replaces the value mapped to the given key by a new value computed from the old value.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="Cache.html" title="type parameter in Cache">V</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#computeIfAbsent(K,java.util.function.Function)">computeIfAbsent</a></span>&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
               <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Function</a>&lt;? super <a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;? extends <a href="Cache.html" title="type parameter in Cache">V</a>&gt;&nbsp;creator)</code></th>
<td class="colLast">
<div class="block">Returns the value for the given key if it exists, or computes it otherwise.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="Cache.html" title="type parameter in Cache">V</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#computeIfPresent(K,java.util.function.BiFunction)">computeIfPresent</a></span>&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
                <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiFunction</a>&lt;? super <a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;? super <a href="Cache.html" title="type parameter in Cache">V</a>,&#8203;? extends <a href="Cache.html" title="type parameter in Cache">V</a>&gt;&nbsp;remapping)</code></th>
<td class="colLast">
<div class="block">Replaces the value mapped to the given key by a new value computed from the old value.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#containsKey(java.lang.Object)">containsKey</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Returns <code>true</code> if this map contains the specified key.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cost(V)">cost</a></span>&#8203;(<a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;value)</code></th>
<td class="colLast">
<div class="block">Computes an estimation of the cost of the given value.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util" class="externalLink">Map.Entry</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#entrySet()">entrySet</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the set of entries in this cache.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="Cache.html" title="type parameter in Cache">V</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#get(java.lang.Object)">get</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Returns the value mapped to the given key in the cache, potentially waiting for computation to complete.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="Cache.html" title="type parameter in Cache">V</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOrCreate(K,java.util.concurrent.Callable)">getOrCreate</a></span>&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
           <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Callable</a>&lt;? extends <a href="Cache.html" title="type parameter in Cache">V</a>&gt;&nbsp;creator)</code></th>
<td class="colLast">
<div class="block">Returns the value for the given key if it exists, or computes it otherwise.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEmpty()">isEmpty</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns <code>true</code> if this cache is empty.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isKeyCollisionAllowed()">isKeyCollisionAllowed</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns <code>true</code> if different values may be assigned to the same key.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#keySet()">keySet</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the set of keys in this cache.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="Cache.Handler.html" title="interface in org.apache.sis.util.collection">Cache.Handler</a>&lt;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lock(K)">lock</a></span>&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Gets a lock for the entry at the given key and returns a handler to be used by the caller
 for unlocking and storing the result.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="Cache.html" title="type parameter in Cache">V</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#merge(K,V,java.util.function.BiFunction)">merge</a></span>&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
     <a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;value,
     <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiFunction</a>&lt;? super <a href="Cache.html" title="type parameter in Cache">V</a>,&#8203;? super <a href="Cache.html" title="type parameter in Cache">V</a>,&#8203;? extends <a href="Cache.html" title="type parameter in Cache">V</a>&gt;&nbsp;remapping)</code></th>
<td class="colLast">
<div class="block">Maps the given value to the given key if no mapping existed before this method call,
 or computes a new value otherwise.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="Cache.html" title="type parameter in Cache">V</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#peek(K)">peek</a></span>&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key)</code></th>
<td class="colLast">
<div class="block">If a value is already cached for the given key, returns it.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="Cache.html" title="type parameter in Cache">V</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#put(K,V)">put</a></span>&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
   <a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;value)</code></th>
<td class="colLast">
<div class="block">Puts the given value in cache and immediately returns the old value.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="Cache.html" title="type parameter in Cache">V</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#putIfAbsent(K,V)">putIfAbsent</a></span>&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
           <a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;value)</code></th>
<td class="colLast">
<div class="block">If no value is already mapped and no value is under computation for the given key, puts the given value
 in the cache.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="Cache.html" title="type parameter in Cache">V</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#remove(java.lang.Object)">remove</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Removes the value mapped to the given key in the cache.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#remove(java.lang.Object,java.lang.Object)">remove</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;key,
      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;oldValue)</code></th>
<td class="colLast">
<div class="block">If the given key is mapped to the given old value, removes that value.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="Cache.html" title="type parameter in Cache">V</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#replace(K,V)">replace</a></span>&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
       <a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;value)</code></th>
<td class="colLast">
<div class="block">If the given key is mapped to any value, replaces that value with the given new value.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#replace(K,V,V)">replace</a></span>&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
       <a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;oldValue,
       <a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;newValue)</code></th>
<td class="colLast">
<div class="block">If the given key is mapped to the given old value, replaces that value with the given new value.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#replaceAll(java.util.function.BiFunction)">replaceAll</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiFunction</a>&lt;? super <a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;? super <a href="Cache.html" title="type parameter in Cache">V</a>,&#8203;? extends <a href="Cache.html" title="type parameter in Cache">V</a>&gt;&nbsp;remapping)</code></th>
<td class="colLast">
<div class="block">Iterates over all entries in the cache and replaces their value with the one provided by the given function.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setKeyCollisionAllowed(boolean)">setKeyCollisionAllowed</a></span>&#8203;(boolean&nbsp;allowed)</code></th>
<td class="colLast">
<div class="block">If set to <code>true</code>, different values may be assigned to the same key.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#size()">size</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the number of elements in this cache.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.AbstractMap">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true" title="class or interface in java.util" class="externalLink">AbstractMap</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#clone()" title="class or interface in java.util" class="externalLink">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#containsValue(java.lang.Object)" title="class or interface in java.util" class="externalLink">contains­Value</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.util" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#hashCode()" title="class or interface in java.util" class="externalLink">hash­Code</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#putAll(java.util.Map)" title="class or interface in java.util" class="externalLink">put­All</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#toString()" title="class or interface in java.util" class="externalLink">to­String</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#values()" title="class or interface in java.util" class="externalLink">values</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">get­Class</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notify­All</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.ConcurrentMap">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">ConcurrentMap</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true#forEach(java.util.function.BiConsumer)" title="class or interface in java.util.concurrent" class="externalLink">for­Each</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true#getOrDefault(java.lang.Object,V)" title="class or interface in java.util.concurrent" class="externalLink">get­Or­Default</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.Map">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#containsValue(java.lang.Object)" title="class or interface in java.util" class="externalLink">contains­Value</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.util" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#hashCode()" title="class or interface in java.util" class="externalLink">hash­Code</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#putAll(java.util.Map)" title="class or interface in java.util" class="externalLink">put­All</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#values()" title="class or interface in java.util" class="externalLink">values</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Cache</h4>
<pre>public&nbsp;Cache()</pre>
<div class="block">Creates a new cache with a default initial capacity and cost limit of 100.
 The oldest objects will be hold by <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink">weak references</a>.</div>
</li>
</ul>
<a id="&lt;init&gt;(int,long,boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Cache</h4>
<pre>public&nbsp;Cache&#8203;(int&nbsp;initialCapacity,
             long&nbsp;costLimit,
             boolean&nbsp;soft)</pre>
<div class="block">Creates a new cache using the given initial capacity and cost limit. The initial capacity
 is the expected number of values to be stored in this cache. More values are allowed, but
 a little bit of CPU time may be saved if the expected capacity is known before the cache
 is created.

 <p>The <cite>cost limit</cite> is the maximal value of the <cite>total cost</cite> (the sum
 of the <a href="#cost(V)">cost</a> of all values) before to replace eldest strong references by
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ref/Reference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink">weak or soft references</a>.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>initial­Capacity</code> - the initial capacity.</dd>
<dd><code>cost­Limit</code> - the maximum cost of objects to keep by strong reference.</dd>
<dd><code>soft</code> - if <code>true</code>, use <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ref/SoftReference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink"><code>Soft­Reference</code></a> instead of <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink"><code>Weak­Reference</code></a>.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;clear()</pre>
<div class="block">Clears the content of this cache.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#clear()" title="class or interface in java.util" class="externalLink">clear</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#clear()" title="class or interface in java.util" class="externalLink">clear</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true" title="class or interface in java.util" class="externalLink">Abstract­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a id="isEmpty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isEmpty()</pre>
<div class="block">Returns <code>true</code> if this cache is empty.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#isEmpty()" title="class or interface in java.util" class="externalLink">is­Empty</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#isEmpty()" title="class or interface in java.util" class="externalLink">is­Empty</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true" title="class or interface in java.util" class="externalLink">Abstract­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this cache do not contains any element.</dd>
</dl>
</li>
</ul>
<a id="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;size()</pre>
<div class="block">Returns the number of elements in this cache. The count includes values keep by strong,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ref/SoftReference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink">soft</a> or <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink">weak</a> references, and the
 values under computation at the time this method is invoked.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#size()" title="class or interface in java.util" class="externalLink">size</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#size()" title="class or interface in java.util" class="externalLink">size</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true" title="class or interface in java.util" class="externalLink">Abstract­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of elements currently cached.</dd>
</dl>
</li>
</ul>
<a id="get(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre class="methodSignature">public&nbsp;<a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;get&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;key)</pre>
<div class="block">Returns the value mapped to the given key in the cache, potentially waiting for computation to complete.
 This method is similar to <a href="#peek(K)"><code>peek(Object)</code></a> except that it blocks if the value is currently under
 computation in another thread.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#get(java.lang.Object)" title="class or interface in java.util" class="externalLink">get</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#get(java.lang.Object)" title="class or interface in java.util" class="externalLink">get</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true" title="class or interface in java.util" class="externalLink">Abstract­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key of the value to get.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value mapped to the given key, or <code>null</code> if none.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#peek(K)"><code>peek(Object)</code></a>, 
<a href="#containsKey(java.lang.Object)"><code>contains­Key(Object)</code></a>, 
<a href="#computeIfAbsent(K,java.util.function.Function)"><code>compute­If­Absent(Object, Function)</code></a></dd>
</dl>
</li>
</ul>
<a id="getOrCreate(java.lang.Object,java.util.concurrent.Callable)">
<!--   -->
</a><a id="getOrCreate(K,java.util.concurrent.Callable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrCreate</h4>
<pre class="methodSignature">public&nbsp;<a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;getOrCreate&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
                     <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Callable</a>&lt;? extends <a href="Cache.html" title="type parameter in Cache">V</a>&gt;&nbsp;creator)
              throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></pre>
<div class="block">Returns the value for the given key if it exists, or computes it otherwise.
 If a value already exists in the cache, then it is returned immediately.
 Otherwise the <code>creator​.call()</code> method is invoked and its result is saved in this cache for future reuse.

 <div class="note"><b>Example:</b>
 the following example shows how this method can be used.
 In particular, it shows how to propagate <code>My­Checked­Exception</code>:

 <blockquote><pre><font color="green">private</font> <font color="green">final</font> Cache&lt;String,MyObject&gt; cache = <font color="green">new</font> Cache&lt;String,MyObject&gt;();

<font color="green">public</font> MyObject <b>getMyObject</b>(<font color="green">final</font> String key) <font color="green">throws</font> MyCheckedException {
    <font color="green">try</font> {
        <font color="green">return</font> cache.<b>getOrCreate</b>(key, <font color="green">new</font> Callable&lt;MyObject&gt;() {
            <font color="green">public</font> MyObject <b>call</b>() <font color="green">throws</font> MyCheckedException {
                <font color="green">return</font> <b>createMyObject</b>(key);
            }
        });
    } <font color="green">catch</font> (MyCheckedException | RuntimeException e) {
        <font color="green">throw</font> e;
    } <font color="green">catch</font> (Exception e) {
        <font color="green">throw</font> <font color="green">new</font> <b>UndeclaredThrowableException</b>(e);
    }
}</pre></blockquote>
 </div>

 This method is similar to <a href="#computeIfAbsent(K,java.util.function.Function)"><code>compute­If­Absent(Object, Function)</code></a> except that it can propagate
 checked exceptions. If the <code>creator</code> function does not throw any checked exception, then
 invoking <code>compute­If­Absent(…)</code> is simpler.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key for which to get the cached or created value.</dd>
<dd><code>creator</code> - a method for creating a value, to be invoked only if no value are cached for the given key.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value for the given key, which may have been created as a result of this method call.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></code> - if an exception occurred during the execution of <code>creator​.call()</code>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#get(java.lang.Object)"><code>get(Object)</code></a>, 
<a href="#peek(K)"><code>peek(Object)</code></a>, 
<a href="#computeIfAbsent(K,java.util.function.Function)"><code>compute­If­Absent(Object, Function)</code></a></dd>
</dl>
</li>
</ul>
<a id="computeIfAbsent(java.lang.Object,java.util.function.Function)">
<!--   -->
</a><a id="computeIfAbsent(K,java.util.function.Function)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeIfAbsent</h4>
<pre class="methodSignature">public&nbsp;<a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;computeIfAbsent&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Function</a>&lt;? super <a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;? extends <a href="Cache.html" title="type parameter in Cache">V</a>&gt;&nbsp;creator)</pre>
<div class="block">Returns the value for the given key if it exists, or computes it otherwise.
 If a value already exists in the cache, then it is returned immediately.
 Otherwise the <code>creator​.apply(Object)</code> method is invoked and its result
 is saved in this cache for future reuse.

 <div class="note"><b>Example:</b>
 below is the same code than <a href="#getOrCreate(K,java.util.concurrent.Callable)"><code>get­Or­Create(Object, Callable)</code></a> example,
 but without the need for any checked exception handling:

 <blockquote><pre><font color="green">private</font> <font color="green">final</font> Cache&lt;String,MyObject&gt; cache = <font color="green">new</font> Cache&lt;String,MyObject&gt;();

<font color="green">public</font> MyObject <b>getMyObject</b>(<font color="green">final</font> String key) {
    <font color="green">return</font> cache.<b>computeIfAbsent</b>(key, (k) -&gt; <b>createMyObject</b>(k));
}</pre></blockquote>
 </div>

 This method is similar to <a href="#getOrCreate(K,java.util.concurrent.Callable)"><code>get­Or­Create(Object, Callable)</code></a>, but without checked exceptions.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true#computeIfAbsent(K,java.util.function.Function)" title="class or interface in java.util.concurrent" class="externalLink">compute­If­Absent</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Concurrent­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#computeIfAbsent(K,java.util.function.Function)" title="class or interface in java.util" class="externalLink">compute­If­Absent</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key for which to get the cached or created value.</dd>
<dd><code>creator</code> - a method for creating a value, to be invoked only if no value are cached for the given key.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value already mapped to the key, or the newly computed value.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#peek(K)"><code>peek(Object)</code></a>, 
<a href="#containsKey(java.lang.Object)"><code>contains­Key(Object)</code></a>, 
<a href="#getOrCreate(K,java.util.concurrent.Callable)"><code>get­Or­Create(Object, Callable)</code></a>, 
<a href="#computeIfPresent(K,java.util.function.BiFunction)"><code>compute­If­Present(Object, Bi­Function)</code></a></dd>
</dl>
</li>
</ul>
<a id="putIfAbsent(java.lang.Object,java.lang.Object)">
<!--   -->
</a><a id="putIfAbsent(K,V)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putIfAbsent</h4>
<pre class="methodSignature">public&nbsp;<a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;putIfAbsent&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
                     <a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;value)</pre>
<div class="block">If no value is already mapped and no value is under computation for the given key, puts the given value
 in the cache. Otherwise returns the current value (potentially blocking until the computation finishes).
 A null <code>value</code> argument is equivalent to a no-op. Otherwise a <code>null</code> return value means that
 the given <code>value</code> has been stored in the <code>Cache</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true#putIfAbsent(K,V)" title="class or interface in java.util.concurrent" class="externalLink">put­If­Absent</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Concurrent­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#putIfAbsent(K,V)" title="class or interface in java.util" class="externalLink">put­If­Absent</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key to associate with a value.</dd>
<dd><code>value</code> - the value to associate with the given key if no value already exists, or <code>null</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the existing value mapped to the given key, or <code>null</code> if none existed before this method call.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#get(java.lang.Object)"><code>get(Object)</code></a>, 
<a href="#computeIfAbsent(K,java.util.function.Function)"><code>compute­If­Absent(Object, Function)</code></a></dd>
</dl>
</li>
</ul>
<a id="put(java.lang.Object,java.lang.Object)">
<!--   -->
</a><a id="put(K,V)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre class="methodSignature">public&nbsp;<a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;put&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
             <a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;value)</pre>
<div class="block">Puts the given value in cache and immediately returns the old value.
 A null <code>value</code> argument removes the entry. If a different value is under computation in another thread,
 then the other thread may fail with an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Illegal­State­Exception</code></a> unless <a href="#isKeyCollisionAllowed()"><code>is­Key­Collision­Allowed()</code></a>
 returns <code>true</code>. For more safety, consider using <a href="#putIfAbsent(K,V)"><code>put­If­Absent(…)</code></a> instead.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#put(K,V)" title="class or interface in java.util" class="externalLink">put</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#put(K,V)" title="class or interface in java.util" class="externalLink">put</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true" title="class or interface in java.util" class="externalLink">Abstract­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key to associate with a value.</dd>
<dd><code>value</code> - the value to associate with the given key, or <code>null</code> for removing the mapping.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value previously mapped to the given key, or <code>null</code> if no value existed before this
         method call or if the value was under computation in another thread.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#get(java.lang.Object)"><code>get(Object)</code></a>, 
<a href="#putIfAbsent(K,V)"><code>put­If­Absent(Object, Object)</code></a></dd>
</dl>
</li>
</ul>
<a id="replace(java.lang.Object,java.lang.Object)">
<!--   -->
</a><a id="replace(K,V)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replace</h4>
<pre class="methodSignature">public&nbsp;<a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;replace&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
                 <a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;value)</pre>
<div class="block">If the given key is mapped to any value, replaces that value with the given new value.
 Otherwise does nothing. A null <code>value</code> argument removes the entry.
 If a different value is under computation in another thread, then the other thread may fail with
 an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Illegal­State­Exception</code></a> unless <a href="#isKeyCollisionAllowed()"><code>is­Key­Collision­Allowed()</code></a> returns <code>true</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true#replace(K,V)" title="class or interface in java.util.concurrent" class="externalLink">replace</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Concurrent­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#replace(K,V)" title="class or interface in java.util" class="externalLink">replace</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - key of the value to replace.</dd>
<dd><code>value</code> - the new value to use in replacement of the previous one, or <code>null</code> for removing the mapping.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value previously mapped to the given key, or <code>null</code> if no value existed before this
         method call or if the value was under computation in another thread.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#replace(K,V,V)"><code>replace(Object, Object, Object)</code></a></dd>
</dl>
</li>
</ul>
<a id="replace(java.lang.Object,java.lang.Object,java.lang.Object)">
<!--   -->
</a><a id="replace(K,V,V)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replace</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;replace&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
                       <a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;oldValue,
                       <a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;newValue)</pre>
<div class="block">If the given key is mapped to the given old value, replaces that value with the given new value.
 Otherwise does nothing. A null <code>value</code> argument removes the entry if the condition matches.
 If a value is under computation in another thread, then this method unconditionally returns <code>false</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true#replace(K,V,V)" title="class or interface in java.util.concurrent" class="externalLink">replace</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Concurrent­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#replace(K,V,V)" title="class or interface in java.util" class="externalLink">replace</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - key of the value to replace.</dd>
<dd><code>old­Value</code> - previous value expected to be mapped to the given key.</dd>
<dd><code>new­Value</code> - the new value to put if the condition matches, or <code>null</code> for removing the mapping.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the value has been replaced, <code>false</code> otherwise.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
<a id="replaceAll(java.util.function.BiFunction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceAll</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;replaceAll&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiFunction</a>&lt;? super <a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;? super <a href="Cache.html" title="type parameter in Cache">V</a>,&#8203;? extends <a href="Cache.html" title="type parameter in Cache">V</a>&gt;&nbsp;remapping)</pre>
<div class="block">Iterates over all entries in the cache and replaces their value with the one provided by the given function.
 If the function throws an exception, the iteration is stopped and the exception is propagated. If any value
 is under computation in other threads, then the iteration will block on that entry until its computation is
 completed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true#replaceAll(java.util.function.BiFunction)" title="class or interface in java.util.concurrent" class="externalLink">replace­All</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Concurrent­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#replaceAll(java.util.function.BiFunction)" title="class or interface in java.util" class="externalLink">replace­All</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>remapping</code> - the function computing new values from the old ones.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
<a id="computeIfPresent(java.lang.Object,java.util.function.BiFunction)">
<!--   -->
</a><a id="computeIfPresent(K,java.util.function.BiFunction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeIfPresent</h4>
<pre class="methodSignature">public&nbsp;<a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;computeIfPresent&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
                          <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiFunction</a>&lt;? super <a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;? super <a href="Cache.html" title="type parameter in Cache">V</a>,&#8203;? extends <a href="Cache.html" title="type parameter in Cache">V</a>&gt;&nbsp;remapping)</pre>
<div class="block">Replaces the value mapped to the given key by a new value computed from the old value.
 If a value for the given key is under computation in another thread, then this method
 blocks until that computation is completed. This is equivalent to the work performed
 by <a href="#replaceAll(java.util.function.BiFunction)"><code>replace­All(…)</code></a> but on a single entry.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true#computeIfPresent(K,java.util.function.BiFunction)" title="class or interface in java.util.concurrent" class="externalLink">compute­If­Present</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Concurrent­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#computeIfPresent(K,java.util.function.BiFunction)" title="class or interface in java.util" class="externalLink">compute­If­Present</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - key of the value to replace.</dd>
<dd><code>remapping</code> - the function computing new values from the old ones.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new value associated with the given key.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#computeIfAbsent(K,java.util.function.Function)"><code>compute­If­Absent(Object, Function)</code></a></dd>
</dl>
</li>
</ul>
<a id="compute(java.lang.Object,java.util.function.BiFunction)">
<!--   -->
</a><a id="compute(K,java.util.function.BiFunction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compute</h4>
<pre class="methodSignature">public&nbsp;<a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;compute&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
                 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiFunction</a>&lt;? super <a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;? super <a href="Cache.html" title="type parameter in Cache">V</a>,&#8203;? extends <a href="Cache.html" title="type parameter in Cache">V</a>&gt;&nbsp;remapping)</pre>
<div class="block">Replaces the value mapped to the given key by a new value computed from the old value.
 If there is no value for the given key, then the "old value" is taken as <code>null</code>.
 If a value for the given key is under computation in another thread, then this method
 blocks until that computation is completed. This method is equivalent to
 <a href="#computeIfPresent(K,java.util.function.BiFunction)"><code>compute­If­Present(…)</code></a> except that a new value will be computed
 even if no value existed for the key before this method call.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true#compute(K,java.util.function.BiFunction)" title="class or interface in java.util.concurrent" class="externalLink">compute</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Concurrent­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#compute(K,java.util.function.BiFunction)" title="class or interface in java.util" class="externalLink">compute</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - key of the value to replace.</dd>
<dd><code>remapping</code> - the function computing new values from the old ones, or from a <code>null</code> value.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new value associated with the given key.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#computeIfAbsent(K,java.util.function.Function)"><code>compute­If­Absent(Object, Function)</code></a></dd>
</dl>
</li>
</ul>
<a id="merge(java.lang.Object,java.lang.Object,java.util.function.BiFunction)">
<!--   -->
</a><a id="merge(K,V,java.util.function.BiFunction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre class="methodSignature">public&nbsp;<a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;merge&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key,
               <a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;value,
               <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">BiFunction</a>&lt;? super <a href="Cache.html" title="type parameter in Cache">V</a>,&#8203;? super <a href="Cache.html" title="type parameter in Cache">V</a>,&#8203;? extends <a href="Cache.html" title="type parameter in Cache">V</a>&gt;&nbsp;remapping)</pre>
<div class="block">Maps the given value to the given key if no mapping existed before this method call,
 or computes a new value otherwise. If a value for the given key is under computation
 in another thread, then this method blocks until that computation is completed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true#merge(K,V,java.util.function.BiFunction)" title="class or interface in java.util.concurrent" class="externalLink">merge</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Concurrent­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#merge(K,V,java.util.function.BiFunction)" title="class or interface in java.util" class="externalLink">merge</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - key of the value to replace.</dd>
<dd><code>value</code> - the value to associate with the given key if no value already exists, or <code>null</code>.</dd>
<dd><code>remapping</code> - the function computing a new value by merging the exiting value
                    with the <code>value</code> argument given to this method.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new value associated with the given key.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
<a id="remove(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre class="methodSignature">public&nbsp;<a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;remove&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;key)</pre>
<div class="block">Removes the value mapped to the given key in the cache. If a value is under computation in another thread,
 then the other thread may fail with an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Illegal­State­Exception</code></a> unless <a href="#isKeyCollisionAllowed()"><code>is­Key­Collision­Allowed()</code></a>
 returns <code>true</code>. For more safety, consider using <a href="#remove(java.lang.Object,java.lang.Object)"><code>remove(Object, Object)</code></a> instead.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#remove(java.lang.Object)" title="class or interface in java.util" class="externalLink">remove</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#remove(java.lang.Object)" title="class or interface in java.util" class="externalLink">remove</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true" title="class or interface in java.util" class="externalLink">Abstract­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key of the value to removed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value previously mapped to the given key, or <code>null</code> if no value existed before this
         method call or if the value was under computation in another thread.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#get(java.lang.Object)"><code>get(Object)</code></a>, 
<a href="#remove(java.lang.Object,java.lang.Object)"><code>remove(Object, Object)</code></a></dd>
</dl>
</li>
</ul>
<a id="remove(java.lang.Object,java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;remove&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;key,
                      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;oldValue)</pre>
<div class="block">If the given key is mapped to the given old value, removes that value. Otherwise does nothing.
 If a value is under computation in another thread, then this method unconditionally returns <code>false</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true#remove(java.lang.Object,java.lang.Object)" title="class or interface in java.util.concurrent" class="externalLink">remove</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">Concurrent­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#remove(java.lang.Object,java.lang.Object)" title="class or interface in java.util" class="externalLink">remove</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - key of the value to remove.</dd>
<dd><code>old­Value</code> - previous value expected to be mapped to the given key.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the value has been removed, <code>false</code> otherwise.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#get(java.lang.Object)"><code>get(Object)</code></a></dd>
</dl>
</li>
</ul>
<a id="containsKey(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsKey</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;containsKey&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;key)</pre>
<div class="block">Returns <code>true</code> if this map contains the specified key.
 If the value is under computation in another thread, this method returns <code>true</code>
 without waiting for the computation result. This behavior is consistent with other
 <code>Map</code> methods in the following ways:

 <ul>
   <li><a href="#get(java.lang.Object)"><code>get(Object)</code></a> blocks until the computation is completed.</li>
   <li><a href="#put(K,V)"><code>put(Object, Object)</code></a> returns <code>null</code> for values under computation,
       i.e. behaves as if keys are temporarily mapped to the <code>null</code> value until
       the computation is completed.</li>
 </ul></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#containsKey(java.lang.Object)" title="class or interface in java.util" class="externalLink">contains­Key</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#containsKey(java.lang.Object)" title="class or interface in java.util" class="externalLink">contains­Key</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true" title="class or interface in java.util" class="externalLink">Abstract­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key to check for existence.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the given key is mapped to an existing value or a value under computation.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#get(java.lang.Object)"><code>get(Object)</code></a>, 
<a href="#peek(K)"><code>peek(Object)</code></a></dd>
</dl>
</li>
</ul>
<a id="peek(java.lang.Object)">
<!--   -->
</a><a id="peek(K)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peek</h4>
<pre class="methodSignature">public&nbsp;<a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;peek&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key)</pre>
<div class="block">If a value is already cached for the given key, returns it. Otherwise returns <code>null</code>.
 This method is similar to <a href="#get(java.lang.Object)"><code>get(Object)</code></a> except that it doesn't block if the value is
 in process of being computed in an other thread; it returns <code>null</code> in such case.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key for which to get the cached value.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the cached value for the given key, or <code>null</code> if there is none.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#get(java.lang.Object)"><code>get(Object)</code></a>, 
<a href="#lock(K)"><code>lock(Object)</code></a></dd>
</dl>
</li>
</ul>
<a id="lock(java.lang.Object)">
<!--   -->
</a><a id="lock(K)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre class="methodSignature">public&nbsp;<a href="Cache.Handler.html" title="interface in org.apache.sis.util.collection">Cache.Handler</a>&lt;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;&nbsp;lock&#8203;(<a href="Cache.html" title="type parameter in Cache">K</a>&nbsp;key)</pre>
<div class="block">Gets a lock for the entry at the given key and returns a handler to be used by the caller
 for unlocking and storing the result. This method <strong>must</strong> be used together
 with a <a href="Cache.Handler.html#putAndUnlock(V)"><code>put­And­Unlock</code></a> call in <code>try</code> … <code>catch</code>
 blocks as in the example below:

 <blockquote><pre>Cache.Handler handler = cache.<b>lock</b>();
<font color="green">try</font> {
    <i><font color="gray">// Compute the result...</font></i>
} <font color="green">finally</font> {
    handler.<b>putAndUnlock</b>(result);
}</pre></blockquote></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key for the entry to lock.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a handler to use for unlocking and storing the result.</dd>
</dl>
</li>
</ul>
<a id="keySet()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keySet</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>&gt;&nbsp;keySet()</pre>
<div class="block">Returns the set of keys in this cache. The returned set is subjects to the same caution
 than the ones documented in the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html?is-external=true#keySet()" title="class or interface in java.util.concurrent" class="externalLink"><code>Concurrent­Hash­Map​.key­Set()</code></a> method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#keySet()" title="class or interface in java.util" class="externalLink">key­Set</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#keySet()" title="class or interface in java.util" class="externalLink">key­Set</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true" title="class or interface in java.util" class="externalLink">Abstract­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the set of keys in this cache.</dd>
</dl>
</li>
</ul>
<a id="entrySet()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>entrySet</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util" class="externalLink">Map.Entry</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;&gt;&nbsp;entrySet()</pre>
<div class="block">Returns the set of entries in this cache. The returned set is subjects to the same caution
 than the ones documented in the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html?is-external=true#entrySet()" title="class or interface in java.util.concurrent" class="externalLink"><code>Concurrent­Hash­Map​.entry­Set()</code></a> method, except that
 it doesn't support removal of elements (including through the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true#remove()" title="class or interface in java.util" class="externalLink"><code>Iterator​.remove()</code></a>
 method call).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#entrySet()" title="class or interface in java.util" class="externalLink">entry­Set</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true#entrySet()" title="class or interface in java.util" class="externalLink">entry­Set</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html?is-external=true" title="class or interface in java.util" class="externalLink">Abstract­Map</a>&lt;<a href="Cache.html" title="type parameter in Cache">K</a>,&#8203;<a href="Cache.html" title="type parameter in Cache">V</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a view of the entries contained in this map.</dd>
</dl>
</li>
</ul>
<a id="isKeyCollisionAllowed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isKeyCollisionAllowed</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isKeyCollisionAllowed()</pre>
<div class="block">Returns <code>true</code> if different values may be assigned to the same key.
 The default value is <code>false</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if key collisions are allowed.</dd>
</dl>
</li>
</ul>
<a id="setKeyCollisionAllowed(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyCollisionAllowed</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setKeyCollisionAllowed&#8203;(boolean&nbsp;allowed)</pre>
<div class="block">If set to <code>true</code>, different values may be assigned to the same key. This is usually an
 error, so the default <code>Cache</code> behavior is to thrown an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Illegal­State­Exception</code></a>
 in such cases, typically when <a href="Cache.Handler.html#putAndUnlock(V)"><code>Cache​.Handler​.put­And­Unlock(Object)</code></a> is invoked. However in
 some cases we may want to relax this check. For example the EPSG database sometime assigns
 the same key to different kinds of objects.

 <p>If key collisions are allowed and two threads invoke <a href="#lock(K)"><code>lock(Object)</code></a> concurrently
 for the same key, then the value to be stored in the map will be the one computed by the
 first thread who got the lock. The value computed by any other concurrent thread will be
 ignored by this <code>Cache</code> class. However those threads still return their computed
 values to their callers.</p>

 <p>This property can also be set in order to allow some recursivity. If during the creation
 of an object, the program asks to this <code>Cache</code> for the same object (using the same key),
 then the default <code>Cache</code> implementation will consider this situation as a key collision
 unless this property has been set to <code>true</code>.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allowed</code> - <code>true</code> if key collisions should be allowed.</dd>
</dl>
</li>
</ul>
<a id="cost(java.lang.Object)">
<!--   -->
</a><a id="cost(V)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cost</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;cost&#8203;(<a href="Cache.html" title="type parameter in Cache">V</a>&nbsp;value)</pre>
<div class="block">Computes an estimation of the cost of the given value. The default implementation returns 1
 in all cases. Subclasses should override this method if they have some easy way to measure
 the relative cost of value objects.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - the object for which to get an estimation of its cost.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the estimated cost of the given object.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true#getObjectSize(java.lang.Object)" title="class or interface in java.lang.instrument" class="externalLink"><code>Instrumentation​.get­Object­Size(Object)</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Cache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2010&#x2013;2019 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
