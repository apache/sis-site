<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Release management</title>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link rel="stylesheet" type="text/css" media="screen" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="http://www.apache.org/css/code.css">
    <link rel="stylesheet" type="text/css" media="screen" href="css/sis.css">

    

    
    <!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.  See the NOTICE file distributed with this work for additional information regarding copyright ownership.  The ASF licenses this file to you under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with the License.  You may obtain a copy of the License at . http://www.apache.org/licenses/LICENSE-2.0 . Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the License for the specific language governing permissions and limitations under the License. -->
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/index.html"> Apache SIS&trade; </a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown">About<b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="mail-lists.html">Mailing Lists</a></li>
                  <li><a href="license.html">Project License</a></li>
                  <li><a href="team-list.html">Project Team</a></li>
                </ul>
              </li>
              <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown">Project Documentation<b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="downloads.html">Downloads</a></li>
                  <li><a href="source.html">Source Code</a></li>
                  <li><a href="code-patterns.html">Code patterns</a></li>
                  <li><a href="https://issues.apache.org/jira/browse/SIS">Issue Tracker</a></li>
                  <li><a href="faq.html">FAQ</a></li>
                  <li><a href="release-management.html">Release Management</a></li>
                  <li><a href="site-management.html">Edit WebSite</a></li>
                </ul>
              </li>
              <li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown">ASF <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="http://www.apache.org">The Foundation</a></li>
                  <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
                  <li><a href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a></li>
                  <li><a href="http://www.apache.org/security/">Security</a></li>
                </ul>
              </li>
            </ul>
          </div> <!-- /.nav-collapse -->
        </div><!-- /.container -->
      </div><!-- /.navbar-inner -->
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span2">
          <img src="img/logo.png"/>
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
              <li class="active"><a href="index.html">Home</a></li>
              <li><a href="mail-lists.html">Mailing Lists</a></li>
              <li><a href="license.html">Project License</a></li>
              <li><a href="team-list.html">Project Team</a></li>
              <li class="nav-header">Project Documentation</li>
              <li><a href="downloads.html">Downloads</a></li>
              <li><a href="source.html">Source Code</a></li>
              <li><a href="code-patterns.html">Code patterns</a></li>
              <li><a href="https://issues.apache.org/jira/browse/SIS">Issue Tracker</a></li>
              <li><a href="faq.html">FAQ</a></li>
              <li><a href="release-management.html">Release Management</a></li>
              <li><a href="site-management.html">Edit WebSite</a></li>
              <li class="nav-header">ASF</li>
              <li><a href="http://www.apache.org">The Foundation</a></li>
              <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
              <li><a href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a></li>
              <li><a href="http://www.apache.org/security/">Security</a></li>
            </ul>
          </div><!--/.well -->
        </div><!--/span-->
        <div class="span10">
          <section id="content" class="row">
            <article class="span12">
              <p class="page-title">Release management</p>
              <p>This page describes how to create and deploy the SIS Maven artifacts, binary bundle, javadoc and list of API changes.
The <a href="http://www.apache.org/dev/release.html">Release FAQ</a> page describes the foundation wide policies.
The instructions on this page provide a summary suitable to SIS releases, together with SIS-specific steps.
The intended audiences are SIS release managers.</p>
<div class="toc">
<ul>
<li><a href="#requirements">Requirements</a><ul>
<li><a href="#directory-layout">Directory layout</a></li>
</ul>
</li>
<li><a href="#prepare-documentation">Prepare documentation</a><ul>
<li><a href="#prepare-website">Web site</a></li>
</ul>
</li>
<li><a href="#branch">Create branch</a><ul>
<li><a href="#branch-verify">Verify content</a></li>
</ul>
</li>
<li><a href="#tag">Create tag</a></li>
<li><a href="#maven-deploy">Deploy Maven artifacts</a><ul>
<li><a href="#nexus-close">Verify and close the Nexus release artifacts</a></li>
</ul>
</li>
<li><a href="#stage">Stage the source, binary and javadoc artifacts</a></li>
<li><a href="#vote">Put the release candidate up for a vote</a><ul>
<li><a href="#veto">Recovering from a vetoed release</a></li>
</ul>
</li>
<li><a href="#finalize">Finalize the release</a><ul>
<li><a href="#verify">Verify release signatures</a></li>
<li><a href="#announce">Announce the release</a></li>
</ul>
</li>
<li><a href="#next-release">Update trunk for the next development cycle</a></li>
</ul>
</div>
<h1 id="requirements">Requirements</h1>
<p>Before to perform a release, make sure that the following conditions hold:</p>
<ul>
<li>Commands will be executed in a Unix shell.</li>
<li>Subversion, GNU GPG, ZIP, Maven, Ant, Java and the Java compiler are available on the path.</li>
<li>The <a href="release-management-setup.html">release management setup</a> steps have been executed once.</li>
</ul>
<p>For all instructions in this page, <code>$OLD_VERSION</code> and <code>$NEW_VERSION</code> stand for the version
number of the previous and the new release respectively, and <code>$RELEASE_CANDIDATE</code> stands for
the current release attempt. Those versions shall be set on the command line like below (Unix):</p>
<div class="codehilite"><pre><span class="nb">export </span><span class="nv">OLD_VERSION</span><span class="o">=</span>0.3
<span class="nb">export </span><span class="nv">NEW_VERSION</span><span class="o">=</span>0.4
<span class="nb">export </span><span class="nv">RELEASE_CANDIDATE</span><span class="o">=</span>1
</pre></div>


<h2 id="directory-layout">Directory layout</h2>
<p>The steps described in this page assume the following directory layout (some directories will be created as
a result of the steps). Any other layout can be used. However if the layout differs, then the relative paths
in this page shall be adjusted accordingly.</p>
<div class="codehilite"><pre>&lt;any root directory for SIS&gt;
├─ trunk
├─ branches
│  └─ $NEW_VERSION
├─ tags
│  └─ $NEW_VERSION
│     └─ target
│        └─ bundles
└─ distribution
   └─ $NEW_VERSION
      └─ RC$RELEASE_CANDIDATE
</pre></div>


<h1 id="prepare-documentation">Prepare documentation</h1>
<p>Update <a href="http://issues.apache.org/jira/browse/SIS">JIRA</a> tasks and prepare release notes as below:</p>
<ul>
<li>Ensure that the <em>Fix Version</em> in issues resolved since the last release includes this release version correctly.</li>
<li>Ensure that all open issues are resolved or closed before proceeding further.</li>
<li>On the <code>site</code> source code repository, create a <code>content/release-notes/$NEW_VERSION.html</code> file with all the features added.</li>
<li>Use <code>content/release-notes/$OLD_VERSION.html</code> as a template, omitting everything between the <code>&lt;body&gt;</code> and <code>&lt;/body&gt;</code> tags.</li>
<li>The release notes can be obtained from JIRA, by clicking on the <em>Versions</em> tab → the version number → <em>Release notes</em>
    and then configuring the release notes to display HTML format and copying it.
    A suggested approach would be to reorganize the release notes as
    <em>New Features</em>, then <em>Improvements</em>, then <em>Bug Fixes</em>, then <em>Tests</em> and finally <em>Tasks</em>.
    The <em>Sub Tasks</em> can be classified according the category of their parent issue.</li>
</ul>
<p>Other files to update:</p>
<ul>
<li>Review and update the <code>README</code> file on the <code>trunk</code> source code repository.</li>
<li>Commit any changes back to SVN.</li>
</ul>
<h2 id="prepare-website">Web site</h2>
<p>Update the version numbers from <code>$NEW_VERSION</code> to the next version in the following files.</p>
<ul>
<li><code>content/index.mdtext</code></li>
<li><code>content/downloads.mdtext</code></li>
</ul>
<p>Commit:</p>
<div class="codehilite"><pre>svn add content/release-notes/<span class="nv">$NEW_VERSION</span>.html
svn commit --message <span class="s2">&quot;Document the $NEW_VERSION release.&quot;</span>
</pre></div>


<p>The new web site will be published in the <a href="http://sis.staging.apache.org">staging area</a>.
It will not yet be published on <code>http://sis.apache.org</code>.</p>
<h1 id="branch">Create branch</h1>
<p>Execute the following command:</p>
<div class="codehilite"><pre>svn copy https://svn.apache.org/repos/asf/sis/trunk <span class="se">\</span>
         https://svn.apache.org/repos/asf/sis/branches/<span class="nv">$NEW_VERSION</span> <span class="se">\</span>
         --message <span class="s2">&quot;Create the $NEW_VERSION branch.&quot;</span>
</pre></div>


<p>Move to a directory containing the project branches (presumed to be <code>../branches</code> in the following command,
but can be replaced by anything else), then checkout a clean copy of the branch to release:</p>
<div class="codehilite"><pre><span class="nb">cd</span> ../branches
svn checkout https://svn.apache.org/repos/asf/sis/branches/<span class="nv">$NEW_VERSION</span>
<span class="nb">cd</span> <span class="nv">$NEW_VERSION</span>
</pre></div>


<p>We need to update the Subversion URL and SIS version numbers not only in the <code>pom.xml</code> files,
but also in a few Java files. The following command performs the replacement using Ant:</p>
<div class="codehilite"><pre>ant -buildfile core/sis-build-helper/src/main/ant/prepare-release.xml branch -Dsis.version<span class="o">=</span><span class="nv">$NEW_VERSION</span>
</pre></div>


<p>Open the root <code>pom.xml</code> file in an editor and remove the following sections:</p>
<ul>
<li>The whole <code>&lt;pluginRepositories&gt;</code> section, since it should not be needed for releases (and is actually not allowed).</li>
<li>The <code>&lt;plugin&gt;</code> section for <code>docbkx-maven-plugin</code>, since the DocBook directory is omitted (see below).</li>
</ul>
<p>Recursively delete the <code>src/main/docbook</code> directory (this policy may be revised in future SIS releases).
We omit this directory for now because this material may move to the CMS, and no English version is available yet.</p>
<p>In <code>core/sis-utility/src/main/java/org/apache/sis/internal/system/Supervisor.java</code>, consider setting
the <code>ENABLED</code> flag to <code>false</code>. This policy may be revised in future SIS releases.</p>
<p>Commit the changes on the branch:</p>
<div class="codehilite"><pre>svn commit --message <span class="s2">&quot;Prepare the branch for the $NEW_VERSION release.&quot;</span>
</pre></div>


<h2 id="branch-verify">Verify content</h2>
<p>Starts the GPG agent if not already done.
This is for avoiding to be prompted many time for the passphrase in every modules to be built by Maven.
Note that MacOS users can skip this step if their passphrase is stored in the OS keychain,</p>
<div class="codehilite"><pre><span class="nb">eval</span> <span class="k">$(</span>gpg-agent --daemon<span class="k">)</span>
</pre></div>


<p>Try a dry run of the <code>release:prepare</code> goal. This goals checks for <code>SNAPSHOT</code> dependencies in <code>pom.xml</code> files.
It will not complete the prepare goal until all snapshot dependencies are resolved.
If anything goes wrong, the directory can be cleaned by running the <code>release:clean</code> goal
before to fix the problem and try again.</p>
<div class="codehilite"><pre>mvn release:prepare --define <span class="nv">releaseVersion</span><span class="o">=</span><span class="nv">$NEW_VERSION</span> --define <span class="nv">tag</span><span class="o">=</span><span class="nv">$NEW_VERSION</span> <span class="se">\</span>
    --define <span class="nv">autoVersionSubmodules</span><span class="o">=</span><span class="nb">true</span> --define <span class="nv">updateWorkingCopyVersions</span><span class="o">=</span><span class="nb">false</span> --define <span class="nv">dryRun</span><span class="o">=</span><span class="nb">true</span>
</pre></div>


<p>The dry run will not commit any changes back to SVN. Instead, it will create <code>pom.xml.tag</code> files containing
the changes that would have been committed to SVN. We keep those files for verification purpose in the next section.</p>
<p>Verify signature for all files:</p>
<div class="codehilite"><pre>find . -name <span class="s2">&quot;sis-*.asc&quot;</span> -exec gpg --verify <span class="s1">&#39;{}&#39;</span> <span class="se">\;</span>
</pre></div>


<h1 id="tag">Create tag</h1>
<p>In theory, the next commands would be a real (non-dry) run of <code>mvn release:prepare</code>, followed by <code>mvn release:perform</code>.
However we perform those steps manually rather than relying on Maven for the following reasons:</p>
<ul>
<li>Perform some additional changes on the tag.</li>
<li>Reduce the amount of commits on SVN (avoid a rollback in branch directory).</li>
<li>Give more opportunities to take action before commit in case of problems.</li>
<li>We need a separated <code>install</code> phase first, then a <code>site</code> phase at deploy time
    (even if the site is not deployed) for proper execution of SIS custom taglets.</li>
</ul>
<p>First, create the branch:</p>
<div class="codehilite"><pre>svn copy https://svn.apache.org/repos/asf/sis/branches/<span class="nv">$NEW_VERSION</span> <span class="se">\</span>
         https://svn.apache.org/repos/asf/sis/tags/<span class="nv">$NEW_VERSION</span> <span class="se">\</span>
         --message <span class="s2">&quot;Create the $NEW_VERSION tag.&quot;</span>
</pre></div>


<p>Checkout:</p>
<div class="codehilite"><pre><span class="nb">cd</span> ../../tags
svn checkout https://svn.apache.org/repos/asf/sis/tags/<span class="nv">$NEW_VERSION</span>
<span class="nb">cd</span> <span class="nv">$NEW_VERSION</span>
</pre></div>


<p>Update versions number in <code>pom.xml</code> files (like what <code>mvn release:prepare</code> would have done),
plus some additional files:</p>
<div class="codehilite"><pre>ant -buildfile core/sis-build-helper/src/main/ant/prepare-release.xml tag -Dsis.version<span class="o">=</span><span class="nv">$NEW_VERSION</span>
</pre></div>


<p>Compare with the modifications done by <code>mvn release:prepare</code>. The following command should report no difference,
ignoring the license or other information that may have been removed by the Maven plugin
(this has been known to happen if the starting <code>&lt;project&gt;</code> tag is not on a single line).</p>
<div class="codehilite"><pre>find . -name <span class="s2">&quot;pom.xml&quot;</span> -exec diff <span class="s1">&#39;{}&#39;</span> ../../branches/<span class="nv">$NEW_VERSION</span>/<span class="s1">&#39;{}&#39;</span>.tag <span class="se">\;</span>
</pre></div>


<p>Commit:</p>
<div class="codehilite"><pre>svn commit --message <span class="s2">&quot;Fix version number and SVN directory.&quot;</span>
</pre></div>


<p>Clean the branch, since we will not need it anymore:</p>
<div class="codehilite"><pre><span class="nb">cd</span> ../../branches/<span class="nv">$NEW_VERSION</span>
mvn release:clean
mvn clean
<span class="nb">cd</span> ../../tags/<span class="nv">$NEW_VERSION</span>
</pre></div>


<h1 id="maven-deploy">Deploy Maven artifacts</h1>
<p>Ensure that the current directory is <code>tags/$NEW_VERSION</code>.
Execute an <code>install</code> phase first (required for our custom <code>sis-build-helper</code> plugin), then deploy.
Note that the <code>site</code> phase need to be specified even if we will not deploy the site,
for proper execution of our custom Javadoc taglets.</p>
<div class="codehilite"><pre>mvn clean install
mvn site deploy --activate-profiles apache-release --define <span class="nv">skipTests</span><span class="o">=</span><span class="nb">true</span>
</pre></div>


<h2 id="nexus-close">Verify and close the Nexus release artifacts</h2>
<p>Verify the staged artifacts in the <a href="https://repository.apache.org/index.html">Nexus repository</a>.
The artifacts can be found under <em>Build Promotion</em> → <em>Staging repositories</em>, and searching for <code>org.apache.sis</code> in the <em>Repository</em> column.
Navigate through the artifact tree and make sure that all javadoc, source, test and jar files have <code>.asc</code> (GPG signature) and <code>.md5</code> files.</p>
<p>Additional references about signatures:</p>
<ul>
<li><a href="http://people.apache.org/~henkp/repo/faq.html">Maven repository PGP signature checker FAQ</a></li>
<li><a href="http://www.apache.org/dev/release-signing.html">Release signing</a> (cited in the <a href="release-management-setup.html">Release setup</a> page)</li>
</ul>
<p>Close the Nexus staging repository: click the checkboxes for the open staging repositories
(<code>org.apache.sis-&lt;id&gt;</code>) and press <em>Close</em> in the menu bar.
In the description field, enter <code>SIS $NEW_VERSION-$RELEASE_CANDIDATE</code>
(replace <code>$NEW_VERSION</code> and <code>$RELEASE_CANDIDATE</code> by appropriate values.
This will not be done automatically since this field box is not our bash shell!).</p>
<p>Click on the <code>org.apache.sis-&lt;id&gt;</code> link in order to get the URL to the temporary Maven repository created by Nexus.
Announce on the <code>dev@</code> mailing list the availability of this temporary repository for testing purpose.</p>
<h1 id="stage">Stage the source, binary and javadoc artifacts</h1>
<p>Create the directory for the new version and release candidate within the distribution directory.
The <code>RC</code> number shall correspond to the current release attempt.</p>
<div class="codehilite"><pre>mkdir ../../distribution/<span class="nv">$NEW_VERSION</span>
</pre></div>


<p>Create and put the binary artifact in the distribution directory:</p>
<div class="codehilite"><pre>mvn org.apache.sis:sis-build-helper:<span class="nv">$NEW_VERSION</span>:pack --non-recursive
mv target/bundles ../../distribution/<span class="nv">$NEW_VERSION</span>/RC<span class="nv">$RELEASE_CANDIDATE</span>
</pre></div>


<p>Create and put the javadoc in the distribution directory:</p>
<div class="codehilite"><pre><span class="nb">cd </span>target/site
zip -9 -r ../../../../distribution/<span class="nv">$NEW_VERSION</span>/RC<span class="nv">$RELEASE_CANDIDATE</span>/sis-<span class="nv">$NEW_VERSION</span>-apidocs.zip apidocs
<span class="nb">cd</span> ../..
</pre></div>


<p>Create and put the source code in the distribution directory:</p>
<div class="codehilite"><pre>svn <span class="nb">export</span> . ../../distribution/<span class="nv">$NEW_VERSION</span>/RC<span class="nv">$RELEASE_CANDIDATE</span>/src --native-eol LF
<span class="nb">cd</span> ../../distribution/<span class="nv">$NEW_VERSION</span>/RC<span class="nv">$RELEASE_CANDIDATE</span>
zip -9 -r sis-<span class="nv">$NEW_VERSION</span>-src.zip src
rm -r src
</pre></div>


<p>Sign the source, javadoc and binary artifacts:</p>
<div class="codehilite"><pre>gpg --armor --detach-sign sis-<span class="nv">$NEW_VERSION</span>.src.zip
gpg --print-md SHA512     sis-<span class="nv">$NEW_VERSION</span>.src.zip &gt; sis-<span class="nv">$NEW_VERSION</span>.src.zip.sha
gpg --print-md MD5        sis-<span class="nv">$NEW_VERSION</span>.src.zip &gt; sis-<span class="nv">$NEW_VERSION</span>.src.zip.md5
gpg --armor --detach-sign sis-<span class="nv">$NEW_VERSION</span>.apidocs.zip
gpg --print-md SHA512     sis-<span class="nv">$NEW_VERSION</span>.apidocs.zip &gt; sis-<span class="nv">$NEW_VERSION</span>.apidocs.zip.sha
gpg --print-md MD5        sis-<span class="nv">$NEW_VERSION</span>.apidocs.zip &gt; sis-<span class="nv">$NEW_VERSION</span>.apidocs.zip.md5
gpg --armor --detach-sign sis-<span class="nv">$NEW_VERSION</span>.pack.gz
gpg --print-md SHA512     sis-<span class="nv">$NEW_VERSION</span>.pack.gz &gt; sis-<span class="nv">$NEW_VERSION</span>.pack.gz.sha
gpg --print-md MD5        sis-<span class="nv">$NEW_VERSION</span>.pack.gz &gt; sis-<span class="nv">$NEW_VERSION</span>.pack.gz.md5
</pre></div>


<p>Commit:</p>
<div class="codehilite"><pre><span class="nb">cd</span> ../..
svn add <span class="nv">$NEW_VERSION</span>
svn commit --message <span class="s2">&quot;SIS release candidate $RELEASE_CANDIDATE&quot;</span>
</pre></div>


<p>Verify that the files are downloadable from the
[http://dist.apache.org/repos/dist/dev/sis/][http://dist.apache.org/repos/dist/dev/sis/] sub-directory.</p>
<h1 id="vote">Put the release candidate up for a vote</h1>
<ul>
<li>Create a VOTE email thread on <code>dev@</code> to record votes as replies.
    A template is available <a href="templates/release-vote.txt">here</a>.</li>
<li>Create a DISCUSS email thread on <code>dev@</code> for any vote questions.
    A template is available <a href="templates/release-discuss.txt">here</a>.</li>
<li>Perform a review of the release and cast your vote:</li>
<li>a -1 vote does not necessarily mean that the vote must be redone, however it is usually a good idea
    to rollback the release if a -1 vote is received. See <em>Recovering from a vetoed release</em> below.</li>
<li>After the vote has been open for at least 72 hours, has at least three +1 PMC votes and no -1 votes,
    then post the results to the vote thread:</li>
<li>Reply to the initial email and prepend to the original subject "[RESULT]"</li>
<li>Include a list of everyone who voted +1, 0 or -1.</li>
</ul>
<h2 id="veto">Recovering from a vetoed release</h2>
<p>Reply to the initial vote email and prepend to the original subject:</p>
<div class="codehilite"><pre>[CANCELED]
</pre></div>


<p>Delete the svn tag created by the release:perform step:</p>
<div class="codehilite"><pre>svn delete https://svn.apache.org/repos/asf/sis/tags/<span class="nv">$NEW_VERSION</span> --message <span class="s2">&quot;deleting tag from rolled back release&quot;</span>
</pre></div>


<p>Drop the Nexus staging repository:</p>
<ul>
<li>Go to <a href="https://repository.apache.org/index.html">Nexus repository</a> → <em>Build Promotion</em> → <em>Staging repositories</em> and search for <code>org.apache.sis</code> in the <em>Repository</em> column.</li>
<li>Right click on the closed staging repositories (<code>org.apache.sis-&lt;id&gt;</code>) and select <em>Drop</em>.</li>
</ul>
<p>Make the required updates that caused the vote to be canceled during the release cycle.</p>
<h1 id="finalize">Finalize the release</h1>
<p>The artificats in the repository are not yet mirrored and available for Maven to download.
Promote the staged Nexus artifacts, by releasing them.</p>
<ul>
<li>Go to <a href="https://repository.apache.org/index.html">Nexus repository</a> → <em>Build Promotion</em> → <em>Staging repositories</em> and search for <code>org.apache.sis</code> in the <em>Repository</em> column.</li>
<li>Click the checkboxes of the closed staging repositories (<code>org.apache.sis-&lt;id&gt;</code>) and press <em>Release</em> in the menu bar.</li>
<li>Check in the source and binary artifacts into distribution svn which will be pulled by all mirrors within 24 hours.
    The <code>dist/dev</code> svn is not mirrored, but the <code>dist/release</code> is.</li>
</ul>
<p>From any directory:</p>
<div class="codehilite"><pre>svn copy https://dist.apache.org/repos/dist/dev/sis/<span class="nv">$NEW_VERSION</span>/RC<span class="nv">$RELEASE_CANDIDATE</span> <span class="se">\</span>
         https://dist.apache.org/repos/dist/release/sis/<span class="nv">$NEW_VERSION</span> <span class="se">\</span>
    --message <span class="s2">&quot;Committing SIS Source and Binary Release for SIS-$NEW_VERSION&quot;</span>
</pre></div>


<p>Delete the prior versions:</p>
<ul>
<li>Navigate to the release directories checked out in the prior steps.</li>
<li>Delete the prior release artifacts using the <code>svn delete</code> command.</li>
<li>Commit the deletion.</li>
</ul>
<p>Update the staged web site:</p>
<ul>
<li>Make a news announcement on the SIS home page.</li>
<li>Update the downloads page to add new version using the mirrored URLs.</li>
<li>Modify the URL for the prior release to the archived URL for the release.</li>
</ul>
<p>Update <a href="http://issues.apache.org/jira/browse/SIS">JIRA</a>:</p>
<ul>
<li>Update the JIRA versions to mark the version as "released".</li>
<li>Set the date to the date that the release was approved.</li>
<li>Prepare for the next release:<ul>
<li>Make a new release entry in JIRA for the next release.</li>
<li>Update the <a href="https://cwiki.apache.org/confluence/display/SIS/Roadmap">Roadmap</a> wiki page.</li>
</ul>
</li>
</ul>
<h2 id="verify">Verify release signatures</h2>
<p>Download all source and binary artifacts into a new directory, then execute in that directory:</p>
<div class="codehilite"><pre>find . -name <span class="s2">&quot;*.asc&quot;</span> -exec gpg --verify <span class="s1">&#39;{}&#39;</span> <span class="se">\;</span>
</pre></div>


<p>The output shall report only good signatures.</p>
<h2 id="announce">Announce the release</h2>
<ul>
<li>WAIT 24 hours after committing releases for mirrors to replicate.</li>
<li>Publish the web site updates:<ul>
<li>Login to the <a href="https://cms.apache.org/sis/">ASF Content Management System</a>.</li>
<li>Click on <em>Publish sis site</em>.</li>
</ul>
</li>
<li>Make an announcement about the release on the <code>dev@</code>, <code>users@</code>, and <code>announce@</code> mailing lists.
    A template is available <a href="templates/release-announce.txt">here</a>.</li>
</ul>
<h1 id="next-release">Update trunk for the next development cycle</h1>
<p>Update the version numbers in the <code>pom.xml</code> files on trunk with the following command:</p>
<div class="codehilite"><pre>mvn release:update-versions
</pre></div>


<p>Report the changes manually on the JDK6 and JDK7 branches.</p>
            </article>
          </section>
        </div><!--/span-->
      </div><!--/row-fluid-->
    </div><!--/container-fluid-->

  <footer class="footer">
    <div class="container">
      <p>Copyright &copy; 2013 The Apache Software Foundation, Licensed under the
        <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br />
          Apache SIS, Apache, the Apache feather logo are trademarks of The Apache Software Foundation.</p>
    </div>
  </footer>

  <script src="js/jquery-1.9.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>

</body>
</html>
